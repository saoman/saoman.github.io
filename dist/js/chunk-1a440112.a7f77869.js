(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a440112"],{"0ae3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"content_body"},[o("div",{staticClass:"goods_list"},[o("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[o("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t.listData.length>0?o("div",{staticClass:"product-details-hot product-details-hot-false"},t._l(t.listData,function(e,i){return o("div",{staticClass:"head_group",on:{click:t.coupontoast}},[o("img",{staticClass:"coupon_img",attrs:{src:n("3a4c"),alt:""}}),o("div",{staticClass:"conpon_more"},[o("div",{staticClass:"coupon_first clearfix"},[o("div",{staticClass:"coupon_group fl"},[o("div",{staticClass:"coupon_title"},[o("span",{staticClass:"copon_m_txt"},[t._v(t._s(e.useInviteNum))]),o("span",{staticClass:"copon_m_icon",staticStyle:{"margin-left":"3px"}},[t._v("折")])])]),o("div",{staticClass:"coupon_text fl"},[o("div",{staticClass:"coupon_con_title",domProps:{textContent:t._s(e.name?e.name.length>13?e.name.slice(0,13):e.name:"")}}),o("div",{staticClass:"coupon_con_txt"},[o("span",{staticStyle:{"margin-right":"5px"}},[t._v("·")]),t._v("限制商品可用"),o("span",{staticStyle:{"margin-right":"5px","margin-left":"9px"}},[t._v("·")]),t._v("优惠活动限制\n                    ")])])])]),o("div",{staticClass:"conpon_time"},[o("span",[t._v("有效日期：")]),o("span",[t._v(t._s(e.startTime)+" -- "+t._s(e.endTime))])])])}),0):t._e()])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:t.all,expression:"all"}],staticClass:"loadOver"},[t._v(t._s(0==t.listData.length?"暂无优惠券":"已加载全部"))])],1)])])},i=[],a=(n("097d"),n("6b54"),n("daa4")),r=n("793c"),s=(n("db49"),n("7642")),c={props:{},data:function(){return{meetaoNum:0,canExchange:!1,columns:["8","9","12","34","5"],showdiagoff:!0,iheight:27,shareoff:!1,activityId:"",activegroup:[],couponData:{},infouser:null,all:!1,count:0,isLoading:!1,loading:!1,finished:!1,listData:[],token:"4a2a686b-fb70-4b94-8a3d-5058fe4a4cb9",checkgroup:[],page:1,limit:10,submit:{activityId:"",userId:""}}},watch:{},components:{},computed:{pointNum:function(){return 5*this.meetaoNum},share_show:function(){return!1},showdiag:function(){return this.showdiagoff?(document.querySelector("body").style="overflow:hidden!important;",!0):(document.querySelector("body").style="overflow:scroll;",!1)},showshare:function(){return this.shareoff?(document.querySelector("body").style="overflow:hidden!important;",!0):(document.querySelector("body").style="overflow:scroll;",!1)}},created:function(){"1"==this.$route.query.isApp?(window.localStorage.getItem("activityId")?this.activityId=window.localStorage.getItem("activityId"):(window.localStorage.setItem("activityId",this.$route.query.id),this.activityId=window.localStorage.getItem("activityId")),window.localStorage.getItem("access_token")?this.token=window.localStorage.getItem("access_token"):(window.localStorage.setItem("access_token",this.$route.query.access_token),this.token=window.localStorage.getItem("access_token")),window.localStorage.getItem("userid")?this.userid=window.localStorage.getItem("userid"):(window.localStorage.setItem("userid",this.$route.query.userId),this.userid=window.localStorage.getItem("userid"))):this.activityId=window.localStorage.getItem("activityId")},mounted:function(){document.querySelector("#app").style="background-color:#f7f7f7"},methods:{checkout:function(t){this.checkgroup=this.activegroup[t]},coupontoast:function(){this.$toast("请前往APP个人中心优惠券模块去使用！")},queryUserDiscountHomepage:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;queryUserDiscountHomepage({discountId:this.activityId,userId:this.$userData.userId?this.$userData.userId:window.localStorage.getItem("userid")}).then(function(e){0==e.tag?t.$set(t,"infouser",e.data.result):(e.data.errMsg&&t.$toast(e.data.errMsg),e.errMsg&&t.$toast(e.errMsg))})}),onRefresh:function(){var t=this;this.listData=[],this.page=1,this.all=!1,setTimeout(function(){t.getProductDetails()},500)},onLoad:function(){this.getProductDetails()},getProductDetails:function(){var t=this;this.isLoading=!1,Object(s["e"])({limit:this.limit,page:this.page++,userId:this.$userData.userId?this.$userData.userId:window.localStorage.getItem("userid"),discountId:this.activityId}).then(function(e){var n=e.data.result;0==e.tag?(t.listData=JSON.parse(JSON.stringify(t.listData.concat(n))),n.length<t.limit?(t.finished=!0,t.all=!0):t.finished=!1):t.$toast(e.errMsg)}).finally(function(){t.loading=!1,t.isLoading=!1,0==t.listData.length&&(t.finished=!0,t.all=!0)})},getShop:function(){var t=this;queryDiscountGoodsList({discountId:this.activityId}).then(function(e){0==e.tag?t.$set(t,"activegroup",e.data.result):(e.data.errMsg&&t.$toast(e.data.errMsg),e.errMsg&&t.$toast(e.errMsg))})},onChange:function(t){},frinds:function(){var t={imgUrl:"http://h5.meetao.com/h5/xPace/discount_share.jpg",desc:"邀请一人降一折，折扣力度你来定!快来看看都有什么吧",title:"折扣任你挑  优惠送不停"};Object(r["c"])(t)},wxshare:function(){var t={imgUrl:"http://h5.meetao.com/h5/xPace/discount_share.jpg",desc:"邀请好友换折扣，折扣力度你来定!快来看看都有什么吧",title:"折扣任你挑  优惠送不停"};Object(r["d"])(t)},btnclick:function(){this.shareoff=!1},diagclose:function(){this.showdiagoff=!1},sharediag:function(){this.shareoff=!0},initUI:function(){var t=this,e={};this.$route.query.userId&&(e.userId=this.$route.query.userId),this.$route.query.simt_token&&(e.simt_token=this.$route.query.simt_token),a["a"].getMeetaoNum(e).then(function(e){0===e.tag&&(t.meetaoNum=e.data.result,t.canExchange=t.meetaoNum>0)})}}},u=c,d=(n("3df4"),n("2877")),l=Object(d["a"])(u,o,i,!1,null,"1daecd88",null);e["default"]=l.exports},1934:function(t,e,n){(function(o){function i(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function a(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var o="color: "+this.color;t.splice(1,0,o,"color: inherit");var i=0,a=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(a=i))}),t.splice(a,0,o)}}function r(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof o&&"env"in o&&(t=Object({NODE_ENV:"production",BASE_URL:""}).DEBUG),t}function u(){try{return window.localStorage}catch(t){}}e=t.exports=n("6d1a"),e.log=r,e.formatArgs=a,e.save=s,e.load=c,e.useColors=i,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(this,n("f28c"))},"3a4c":function(t,e,n){t.exports=n.p+"img/coupon_img.f576b08d.png"},"3df4":function(t,e,n){"use strict";var o=n("5120"),i=n.n(o);i.a},4173:function(t,e){var n=1e3,o=60*n,i=60*o,a=24*i,r=365.25*a;function s(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return s*r;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*o;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function c(t){return t>=a?Math.round(t/a)+"d":t>=i?Math.round(t/i)+"h":t>=o?Math.round(t/o)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}function u(t){return d(t,a,"day")||d(t,i,"hour")||d(t,o,"minute")||d(t,n,"second")||t+" ms"}function d(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return s(t);if("number"===n&&!1===isNaN(t))return e.long?u(t):c(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},5120:function(t,e,n){},"6d1a":function(t,e,n){var o;function i(t){var n,o=0;for(n in t)o=(o<<5)-o+t.charCodeAt(n),o|=0;return e.colors[Math.abs(o)%e.colors.length]}function a(t){function n(){if(n.enabled){var t=n,i=+new Date,a=i-(o||i);t.diff=a,t.prev=o,t.curr=i,o=i;for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];r[0]=e.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(n,o){if("%%"===n)return n;c++;var i=e.formatters[o];if("function"===typeof i){var a=r[c];n=i.call(t,a),r.splice(c,1),c--}return n}),e.formatArgs.call(t,r);var u=n.log||e.log||void 0;u.apply(t,r)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=i(t),"function"===typeof e.init&&e.init(n),n}function r(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"===typeof t?t:"").split(/[\s,]+/),o=n.length,i=0;i<o;i++)n[i]&&(t=n[i].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function c(t){var n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=a.debug=a["default"]=a,e.coerce=u,e.disable=s,e.enable=r,e.enabled=c,e.humanize=n("4173"),e.names=[],e.skips=[],e.formatters={}},7642:function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"g",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"h",function(){return f}),n.d(e,"j",function(){return h}),n.d(e,"a",function(){return g});var o=n("c7a1"),i=n("db49"),a=function(t,e){var n=i["h"]+"sacy/api/discountChooseActivityDetail/queryDiscountGoodsList";return Object(o["a"])(n,t,e)},r=function(t,e){var n=i["h"]+"sacy/api/discountActivityHomepage/queryUserDiscountHomepage";return Object(o["a"])(n,t,e)},s=function(t,e){var n=i["h"]+"sacy/api/discountActivityCoupon/exchange/coupon";return Object(o["c"])(n,t,e)},c=function(t,e){var n=i["h"]+"sacy/api/discountActivityCoupon/queryDiscountCouponsPage";return Object(o["a"])(n,t,e)},u=function(t,e){var n=i["h"]+"sacy/api/discountChooseActivity/getDiscountActivityId";return Object(o["a"])(n,t,e)},d=function(t,e){var n=i["h"]+"sacy/api/discountActivityInvite/saveInviteRecord";return Object(o["c"])(n,t,e)},l=function(t,e){var n=i["h"]+"cmt/api/liveShowInfo/getLiveShowInfo";return Object(o["a"])(n,t,e)},f=function(t,e){var n=i["h"]+"cmt/api/userFollowRelation/saveFollowStatus";return Object(o["c"])(n,t,e)},h=function(t,e){var n=i["h"]+"cmt/api/liveShowInfo/updateLiveShowHotNum";return Object(o["c"])(n,t,e)},g=function(t,e){var n=i["h"]+"im/api/im/getSign";return Object(o["a"])(n,t,e)}},"793c":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});n("b54a"),n("a481"),n("097d"),n("e7e5"),n("d399"),n("c0e9");var o=n("2fb4");function i(t){var e={imgUrl:t.imgUrl||"",desc:t.desc||"描述",title:t.title||"标题",link:t.link||window.location.href};o["a"].callhandler("share.share",{type:"url",target:"wx",data:e})}function a(t){var e={imgUrl:t.imgUrl||"",desc:t.desc||"描述",title:t.title||"标题",link:t.link||window.location.href};o["a"].callhandler("share.share",{type:"url",target:"wx_circle",data:e})}function r(t,e){o["a"].callhandler("nativeui.jump",{type:t,data:{id:e}})}function s(t){o["a"].callhandler("play.video",{data:t})}},daa4:function(t,e,n){"use strict";var o=n("d225"),i=n("b0b4"),a=n("c7a1"),r=n("f2e8"),s=n.n(r);function c(t,e,n){var o=window.localStorage.getItem("userId"),i=window.localStorage.getItem("simt_token");return!e.userId&&o&&(e.userId=o),!e.simt_token&&i&&(e.simt_token=i),t+=(t.indexOf("?")>0?"&":"?")+u(e),new Promise(function(e,n){var o=o||{};o.timeout=5e3,s()(t,o,function(t,n){t||2===n.tag||e(n)})})}function u(t){var e="";for(var n in t){var o=void 0==t[n]?"":t[n];e+="&".concat(n,"=").concat(encodeURIComponent(o))}return e?e.substring(1):""}var d=n("db49"),l=function(){function t(){Object(o["a"])(this,t)}return Object(i["a"])(t,[{key:"getMeetaoNum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=d["b"]+"fx/user/query/meetao/numer.jsonp";return c(e,t)}},{key:"exchangeMeetao",value:function(t){var e=d["h"]+"psm/api/points/exchange/peach/addPoints";return Object(a["c"])(e,t)}}]),t}();e["a"]=new l},f2e8:function(t,e,n){var o=n("1934")("jsonp");t.exports=r;var i=0;function a(){}function r(t,e,n){"function"==typeof e&&(n=e,e={}),e||(e={});var r,s,c=e.prefix||"__jp",u=e.name||c+i++,d=e.param||"callback",l=null!=e.timeout?e.timeout:6e4,f=encodeURIComponent,h=document.getElementsByTagName("script")[0]||document.head;function g(){r.parentNode&&r.parentNode.removeChild(r),window[u]=a,s&&clearTimeout(s)}function m(){window[u]&&g()}return l&&(s=setTimeout(function(){g(),n&&n(new Error("Timeout"))},l)),window[u]=function(t){o("jsonp got",t),g(),n&&n(null,t)},t+=(~t.indexOf("?")?"&":"?")+d+"="+f(u),t=t.replace("?&","?"),o('jsonp req "%s"',t),r=document.createElement("script"),r.src=t,h.parentNode.insertBefore(r,h),m}}}]);