(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dcebe7c2"],{"20d6":function(t,e,i){"use strict";var n=i("5ca1"),o=i("0a49")(6),a="findIndex",c=!0;a in[]&&Array(1)[a](function(){c=!1}),n(n.P+n.F*c,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(a)},"3acb":function(t,e,i){"use strict";i("20d6"),i("f751"),i("e17f");var n=i("2241"),o=(i("aef6"),i("a481"),i("e7e5"),i("d399")),a=i("8bbf"),c=i.n(a),r=i("4db0"),s=i("d225"),l=i("b0b4"),m=i("c7a1"),d=i("db49"),u=i("7734"),p=i("5f9c"),f=p["a"].esZmtH5,g=function(t){t.globalUid=f.globalUid,t.dataSrc="H5",t.registerTime=f.registerTime,t.access_token=f.access_token,t.simt_token=f.access_token,t.userId=f.userId||"1"},h=function(){function t(){Object(s["a"])(this,t)}return Object(l["a"])(t,[{key:"getCommunityInfo",value:function(t){g(t);var e=d["h"]+"cmt/api/community/getCommunityInfo";return Object(m["a"])(e,t)}},{key:"getCommunityDynamicNoteList",value:function(t){g(t);var e=d["h"]+"cmt/api/noteEntity/getCommunityDynamicNoteList";return Object(m["a"])(e,t)}},{key:"getCommunityGoodNoteList",value:function(t){g(t);var e=d["h"]+"cmt/api/noteEntity/getCommunityGoodNoteList";return Object(m["a"])(e,t)}},{key:"getCommunityTopicList",value:function(t){g(t);var e=d["h"]+"cmt/api/noteEntity/getCommunityTopicNoteList";return Object(m["a"])(e,t)}},{key:"getHotTopicList",value:function(t){g(t);var e=d["h"]+"cmt/api/topicInfo/queryHotTopic";return Object(m["a"])(e,t)}},{key:"getAnswerList",value:function(t){g(t);var e=d["h"]+"cmt/api/answer/list";return Object(m["a"])(e,t)}},{key:"getNoteInfo",value:function(t){g(t);var e=Object(u["a"])("v_");e&&(t.v_=e);var i=d["h"]+"cmt/api/noteEntity/getNoteDetailInfo";return Object(m["a"])(i,t)}},{key:"getQuestionInfo",value:function(t){g(t);var e=d["h"]+"cmt/api/question/info";return Object(m["a"])(e,t)}},{key:"getAnswerInfo",value:function(t){g(t);var e=Object(u["a"])("v_");e&&(t.v_=e);var i=d["h"]+"cmt/api/answer/info";return Object(m["a"])(i,t)}},{key:"getNoteCommentList",value:function(t){g(t);var e=d["h"]+"ctt/api/comment/select/note/comment/list";return Object(m["c"])(e,t)}},{key:"getNoteCommentHotList",value:function(t){g(t);var e=d["h"]+"ctt/api/comment/select/note/comment/hot/list";return Object(m["c"])(e,t)}},{key:"getTopicInfo",value:function(t){g(t);var e=d["h"]+"cmt/api/topicInfo/getTopicInfo/pbcdhe";return Object(m["a"])(e,t)}},{key:"getTopicNewNoteList",value:function(t){g(t);var e=d["h"]+"cmt/api/topicInfo/queryTopicNewNoteInfo/pbcdhe";return Object(m["a"])(e,t)}},{key:"getTopicHotNoteList",value:function(t){g(t);var e=d["h"]+"cmt/api/topicInfo/queryTopicHotNoteInfo/pbcdhe";return Object(m["a"])(e,t)}},{key:"saveComment",value:function(t){g(t);var e=d["h"]+"cmt/api/noteEntity/saveComment";return Object(m["c"])(e,t)}},{key:"setCommentLike",value:function(t){g(t);var e=d["h"]+"ctt/api/comment/add/comment/like";return Object(m["c"])(e,t)}},{key:"setNoteLike",value:function(t){g(t);var e=d["h"]+"cmt/api/noteEntity/setNoteLike";return Object(m["c"])(e,t)}},{key:"getCommentInfo",value:function(t){g(t);var e=d["h"]+"ctt/api/comment/select/note/comment/info";return Object(m["a"])(e,t)}},{key:"getCommentRelayList",value:function(t){var e=d["h"]+"ctt/api/comment/select/note/comment/reply/list";return Object(m["c"])(e,t)}}]),t}(),v=new h;i.d(e,"b",function(){return C}),i.d(e,"a",function(){return T}),i.d(e,"c",function(){return k});var I=p["a"].esZmtH5,b=function(t){},C=c.a.observable({replyShow:!1,wxShareShow:!1,get appUserid(){var t=I.userId;return t||"1"},circleId:1,circleInfo:{},circleHotNotes:{},circleGoodNotes:{},hotTopics:{},circleTopics:{},circleAnswers:{},cHotPage:{loading:!1,finished:!1,page:1,total:1,limit:5},cGoodPage:{loading:!1,finished:!1,page:1,total:1,limit:5},cTopicPage:{loading:!1,finished:!1,page:1,total:1,limit:10},cAnswerPage:{loading:!1,finished:!1,page:1,total:1,limit:5},topicName:"",topicId:"",topicInfo:{},topicNewNotes:{},topicHotNotes:{},topicNewPage:{loading:!1,finished:!1,page:1,total:1,limit:5},topicHotPage:{loading:!1,finished:!1,page:1,total:1,limit:5},noteId:1,noteInfo:{},noteComments:{},notePage:{loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0},answerId:0,answerInfo:{},answerPage:{loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0},questionId:0,questionInfo:{},questionPage:{loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0},comment:{id:"",replyUserId:"",commentUserId:"",comment:"",commentType:"",commentId:"",commentPid:"",appUserid:"",globalUid:"",dataSrc:"",registerTime:""},commentNickName:""});function N(){C.noteInfo={},C.noteComments={},C.notePage={loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0}}function y(){C.qusetionInfo={},C.noteComments={},C.notePage={loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0}}function w(){C.answerInfo={},C.noteComments={},C.notePage={loading:!1,finished:!1,page:1,total:1,limit:5,createTime:0}}var T={toggelReply:function(t){C.replyShow=void 0!=t?t:!C.replyShow},wxShareShow:function(){C.wxShareShow=!0},wxShareHide:function(){C.wxShareShow=!1},initCircle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;C.circleId=t,t||Object(o["a"])("无效的圈子id"),v.getCommunityInfo({id:t,appUserid:C.appUserid}).then(function(t){200==t.code&&(C.circleInfo=t.data.result)}),v.getHotTopicList({communityId:t,appUserid:C.appUserid}).then(function(t){C.hotTopics=t.data.result})},loadCircleGoodNotes:function(){var t=C.cGoodPage,e={communityId:C.circleId,page:t.page,limit:t.limit,appUserid:C.appUserid};v.getCommunityGoodNoteList(e).then(function(e){e.data.page<=1?C.circleGoodNotes=e.data.result:C.circleGoodNotes=C.circleGoodNotes.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},loadCircleHotNotes:function(){var t=C.cHotPage,e={communityId:C.circleId,page:t.page,limit:t.limit,appUserid:C.appUserid};v.getCommunityDynamicNoteList(e).then(function(e){e.data.page<=1?C.circleHotNotes=e.data.result:C.circleHotNotes=C.circleHotNotes.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},loadCircleTopics:function(){var t=C.cTopicPage,e={communityId:C.circleId,page:t.page,limit:t.limit,appUserid:C.appUserid};v.getCommunityTopicList(e).then(function(e){e.data.page<=1?C.circleTopics=e.data.result:C.circleTopics=C.circleTopics.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},loadCircleAnswers:function(){var t=C.cAnswerPage,e={noteId:C.questionId,page:t.page,limit:t.limit,userId:C.appUserid};v.getAnswerList(e).then(function(e){if(0!=e.tag)return t.loading=!1,void(t.finished=!0);e.data.page<=1?C.circleAnswers=e.data.result:C.circleAnswers=C.circleAnswers.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},initTopic:function(t,e){var i={};if(t.topicName)i.topicName=t.topicName;else{if(!t.topicId)return void Object(o["a"])("无效的话题");i.topicId=parseInt(t.topicId)}v.getTopicInfo(i).then(function(t){0==t.tag?(C.topicInfo=t.data.result,C.topicId=t.data.result.topicId,C.topicName=t.data.result.topicName.replace(/#/g,"")):e&&e(t)})},loadTopicHotNotes:function(){var t=C.topicHotPage,e={topicName:C.topicName,page:t.page,limit:t.limit,appUserid:C.appUserid};v.getTopicHotNoteList(e).then(function(e){e.data.page<=1?C.topicHotNotes=e.data.result:C.topicHotNotes=C.topicHotNotes.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},loadTopicNewNotes:function(){var t=C.topicNewPage,e={topicName:C.topicName,page:t.page,limit:t.limit,appUserid:C.appUserid};v.getTopicNewNoteList(e).then(function(e){e.data.page<=1?C.topicNewNotes=e.data.result:C.topicNewNotes=C.topicNewNotes.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},initNote:function(t,e,i){var n=this;N(),C.noteId=t,t||Object(o["a"])("无效的帖子id"),v.getNoteInfo({id:t,appUserid:C.appUserid,is_wv:i?1:0}).then(function(t){if(0==t.tag){var i=t.data.result;i.content=n.removeBr(i.content),n.addIsArticle(i),i.isDelete||i.isHide?e&&e(i):C.noteInfo=i}else e&&e(t)})},addIsArticle:function(t){if(-1==location.href.indexOf("isArticle=")){var e="article"==t.mediaType?1:0,i="";i=-1!=location.href.indexOf("?")?location.href+"&isArticle="+e:location.href+"?isArticle="+e,history.replaceState("","",i)}},loadComments:function(){var t=C.notePage,e={contentId:C.noteId,contentTable:"SNF",page:t.page,limit:t.limit,appUserid:C.appUserid};v.getNoteCommentList(e).then(function(e){e.data.page<=1?C.noteComments=e.data.result:C.noteComments=C.noteComments.concat(e.data.result),t.page=e.data.page+1,t.total=e.data.total,t.loading=!1,e.data.page>=e.data.total/e.data.limit&&(t.finished=!0)})},initQuestion:function(t,e){y(),C.questionId=t,t||Object(o["a"])("无效的问答id"),v.getQuestionInfo({noteId:t,userId:C.appUserid}).then(function(t){if(0==t.tag){var i=t.data.result;i.isDelete||i.isHide?e&&e(i):C.questionInfo=i}else e&&e(t)})},initAnswer:function(t,e,i){var n=this;w(),C.answerId=t,C.noteId=t,t||Object(o["a"])("无效的回答id"),v.getAnswerInfo({answerId:t,userId:C.appUserid,is_wv:i?1:0}).then(function(t){if(0==t.tag){var o=t.data.result;o.isDelete||o.isHide?e&&e(o):(o.content=n.removeBr(o.content),C.answerInfo=o,i||n.initQuestion(C.answerInfo.parentId))}else e&&e(t)})},removeBr:function(t){if(!t)return"";var e="<p><br></p >";return t.endsWith(e)?t.substring(0,t.length-e.length):t},likeNote:function(t){if(I.registerTime){t.isLike=1;var e={id:t.id,appUserid:t.appUserid,likeSrc:"H5",userId:I.userId,dataSrc:"H5"};v.setNoteLike(e).then(function(e){0==e.tag&&t.likeCount++})}else n["a"].confirm({confirmButtonText:"立即登录",cancelButtonText:"稍后登录",closeOnClickOverlay:!0,title:"是否立即登录姿美汇？"}).then(function(){Object(r["i"])()})},likeComment:function(t){if(I.registerTime){t.userLike=!0;var e={src:"H5",contentId:t.id,userId:I.userId,referenceUserId:t.referenceUserId};v.setCommentLike(e).then(function(e){0==e.tag&&t.likeCount++})}else n["a"].confirm({confirmButtonText:"立即登录",cancelButtonText:"稍后登录",closeOnClickOverlay:!0,title:"是否立即登录姿美汇？"}).then(function(){Object(r["i"])()})},goCommentFromContent:function(t){var e={id:t.id,replyUserId:t.appUserid,commentUserId:C.appUserid,commentType:0,commentPid:0,appUserid:t.appUserid};b(e),C.comment=Object.assign(C.comment,e),C.commentNickName="说点什么...",this.goComment()},goCommentFromComment:function(t,e){var i={id:t.contentId,replyUserId:t.userId,commentUserId:C.appUserid,commentType:1,commentId:t.id,commentPid:1===e?t.id:t.pid,appUserid:t.referenceUserId};b(i),C.comment=Object.assign(C.comment,i),C.commentNickName='回复"'.concat(t.nickName,'"'),this.goComment()},goComment:function(){I.registerTime?C.replyShow=!0:n["a"].confirm({confirmButtonText:"立即登录",cancelButtonText:"稍后登录",closeOnClickOverlay:!0,title:"是否立即登录姿美汇？"}).then(function(){Object(r["i"])()})},saveComment:function(){var t=this;v.saveComment(C.comment).then(function(e){0==e.tag&&(Object(o["a"])("评论成功"),C.noteInfo.commentCount||C.noteInfo.commentCount++,C.answerInfo.commentCount||C.answerInfo.commentCount++,C.questionInfo.commentCount||C.questionInfo.commentCount++,t.getCommentInfo(e.data.result.commentId))})},getCommentInfo:function(t){v.getCommentInfo({commentId:t}).then(function(t){if(0==t.tag){var e=t.data.result,i=function(t){return e.id===t.id},n=C.noteComments.findIndex(i);if(-1===n)C.noteComments.unshift(e);else{var o=C.noteComments[n].userLike;C.noteComments.splice(n,1,e),C.noteComments[n].userLike=o}}})},getCommentRelayList:function(t){var e=t.childComment.list[t.childComment.limit-1],i={page:1,limit:10,pid:t.id,contentTable:"SNF",id:e.id};v.getCommentRelayList(i).then(function(e){0==e.tag&&(t.childComment.list=t.childComment.list.concat(e.data.result))})}},k={initCircle:function(){Object(r["h"])()&&setTimeout(function(){var t=C.circleInfo,e={imgUrl:t.mainImgUrl,desc:t.communityDesc.substring(0,20)||"发现一个超有意思圈子，快来加入吧！",title:t.communityName,link:window.location.href};Object(r["b"])(e)},1e3)},initTopic:function(){Object(r["h"])()&&setTimeout(function(){var t=C.topicInfo,e={imgUrl:t.mainImgUrl,desc:t.content.substring(0,20)||"发现一个有意思的话题，快来参与讨论吧！",title:"#"+t.topicName+"#",link:window.location.href};Object(r["b"])(e)},1e3)},initNote:function(){Object(r["h"])()&&setTimeout(function(){var t=C.noteInfo,e={imgUrl:t.articleCoverImgUrl||"https://mtmall.meetao.com/img/logo100.png",desc:t.content,title:t.topicName||"快来看看我在姿美汇发现了什么",link:window.location.href};Object(r["b"])(e)},1e3)},initAnswer:function(){Object(r["h"])()&&setTimeout(function(){var t=C.answerInfo,e=t.media&&t.media.length>0?t.media[0].imageUrl:"https://mtmall.meetao.com/img/logo100.png",i={imgUrl:e,desc:t.articleExtractContent,title:C.questionInfo.articleTitle||"快来看看我在姿美汇发现了什么",link:window.location.href};Object(r["b"])(i)},1e3)},initQuestion:function(){Object(r["h"])()&&setTimeout(function(){var t=C.questionInfo,e=t.media&&t.media.length>0?t.media[0].imageUrl:"https://mtmall.meetao.com/img/logo100.png",i={imgUrl:e,desc:t.articleTitle,title:"".concat(t.answerCount,"个回答"),link:window.location.href};Object(r["b"])(i)},1500)}}},"487f":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topic-header"},[i("img",{staticClass:"bg",attrs:{src:t.topicInfo.coverImgUrl}}),i("div",{staticClass:"bg-mask"}),i("div",{staticClass:"wrap"},[t.topicInfo.topicName?i("div",{staticClass:"topic-title"},[t._v(t._s(t.topicInfo.topicName))]):t._e(),i("div",{staticClass:"topic-des"},[t._v(t._s(t.topicInfo.content))]),i("div",{staticClass:"topic-other"},[i("div",{staticClass:"topic-other-item"},[i("span",{staticClass:"topic-note-num"},[t._v(t._s(t.topicInfo.joinNum)+"人参与")])]),i("div",{staticClass:"topic-other-item"},[i("span",{staticClass:"topic-note-num"},[t._v(t._s(t.topicInfo.viewCount)+"人浏览")])])])])])},o=[],a=i("3acb"),c={data:function(){return{}},methods:{},computed:{topicInfo:function(){return a["b"].topicInfo}}},r=c,s=(i("557c"),i("2877")),l=Object(s["a"])(r,n,o,!1,null,"17f67a0c",null);e["default"]=l.exports},"557c":function(t,e,i){"use strict";var n=i("cf85"),o=i.n(n);o.a},a481:function(t,e,i){"use strict";var n=i("cb7c"),o=i("4bf8"),a=i("9def"),c=i("4588"),r=i("0390"),s=i("5f1b"),l=Math.max,m=Math.min,d=Math.floor,u=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};i("214f")("replace",2,function(t,e,i,g){return[function(n,o){var a=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,a,o):i.call(String(a),n,o)},function(t,e){var o=g(i,t,this,e);if(o.done)return o.value;var d=n(t),u=String(this),p="function"===typeof e;p||(e=String(e));var v=d.global;if(v){var I=d.unicode;d.lastIndex=0}var b=[];while(1){var C=s(d,u);if(null===C)break;if(b.push(C),!v)break;var N=String(C[0]);""===N&&(d.lastIndex=r(u,a(d.lastIndex),I))}for(var y="",w=0,T=0;T<b.length;T++){C=b[T];for(var k=String(C[0]),U=l(m(c(C.index),u.length),0),O=[],j=1;j<C.length;j++)O.push(f(C[j]));var L=C.groups;if(p){var H=[k].concat(O,U,u);void 0!==L&&H.push(L);var S=String(e.apply(void 0,H))}else S=h(k,u,U,O,L,e);U>=w&&(y+=u.slice(w,U)+S,w=U+k.length)}return y+u.slice(w)}];function h(t,e,n,a,c,r){var s=n+t.length,l=a.length,m=p;return void 0!==c&&(c=o(c),m=u),i.call(r,m,function(i,o){var r;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":r=c[o.slice(1,-1)];break;default:var m=+o;if(0===m)return i;if(m>l){var u=d(m/10);return 0===u?i:u<=l?void 0===a[u-1]?o.charAt(1):a[u-1]+o.charAt(1):i}r=a[m-1]}return void 0===r?"":r})}})},aef6:function(t,e,i){"use strict";var n=i("5ca1"),o=i("9def"),a=i("d2c8"),c="endsWith",r=""[c];n(n.P+n.F*i("5147")(c),"String",{endsWith:function(t){var e=a(this,t,c),i=arguments.length>1?arguments[1]:void 0,n=o(e.length),s=void 0===i?n:Math.min(o(i),n),l=String(t);return r?r.call(e,l,s):e.slice(s-l.length,s)===l}})},cf85:function(t,e,i){}}]);