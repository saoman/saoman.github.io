(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2efbaecd","chunk-36278d77","chunk-f956ed32"],{"02ac":function(e,t,n){"use strict";var r=n("2655"),i=n.n(r);i.a},"03e2":function(e,t,n){"use strict";var r=n("74b3"),i=n("d779"),o=n("0f22"),a=n("76da");function s(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}var u=function(e){e=e||{};var t,n=e.SecretId,r=e.SecretKey,o=(e.method||e.Method||"get").toLowerCase(),a=p(e.Query||e.params||{}),u=p(e.Headers||e.headers||{}),l=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+l:(t=e.Pathname||e.pathname||l,0!==t.indexOf("/")&&(t="/"+t)),n&&r){var c=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e===t?0:e>t?1:-1})},h=function(e){var t,n,r,i=[],o=c(e);for(t=0;t<o.length;t++)n=o[t],r=void 0===e[n]||null===e[n]?"":""+e[n],n=n.toLowerCase(),n=s(n),r=s(r)||"",i.push(n+"="+r);return i.join("&")},f=Math.round(D(e.SystemClockOffset)/1e3)-1,d=f,g=e.Expires||e.expires;d+=void 0===g?900:1*g||0;var m="sha1",v=n,A=f+";"+d,y=f+";"+d,E=c(u).join(";").toLowerCase(),C=c(a).join(";").toLowerCase(),_=i.HmacSHA1(y,r).toString(),T=[o,t,h(a),h(u),""].join("\n"),S=["sha1",A,i.SHA1(T).toString(),""].join("\n"),w=i.HmacSHA1(S,_).toString(),I=["q-sign-algorithm="+m,"q-ak="+v,"q-sign-time="+A,"q-key-time="+y,"q-header-list="+E,"q-url-param-list="+C,"q-signature="+w].join("&");return I}},l=function(){},c=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]&&(t[n]=e[n]);return t},h=function(e,t){var n,r=new FileReader;FileReader.prototype.readAsBinaryString?(n=FileReader.prototype.readAsBinaryString,r.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer&&(n=function(e){var n="",r=new FileReader;r.onload=function(e){for(var i=new Uint8Array(r.result),o=i.byteLength,a=0;a<o;a++)n+=String.fromCharCode(i[a]);t(n)},r.readAsArrayBuffer(e)}),n.call(r,e)},f=1048576,d=function(e,t,n){var i=e.size,o=0,a=r.getCtx(),s=function(r){if(r>=i){var u=a.digest("hex");t(null,u)}else{var l=Math.min(i,r+f);k.fileSlice(e,r,l,!1,function(e){h(e,function(t){e=null,a=a.update(t,!0),o+=t.length,t=null,n&&n({loaded:o,total:i,percent:Math.round(o/i*1e4)/1e4}),s(r+f)})})}};s(0)};function p(e){return y(e,function(e){return"object"===typeof e?p(e):e})}function g(e,t){return A(t,function(n,r){e[r]=t[r]}),e}function m(e){return e instanceof Array}function v(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}return n}function A(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function y(e,t){var n=m(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}function E(e,t){var n=m(e),r=n?[]:{};for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)&&(n?r.push(e[i]):r[i]=e[i]);return r}var C=function(e){var t,n,r,i="";for(t=0,n=e.length/2;t<n;t++)r=parseInt(e[2*t]+e[2*t+1],16),i+=String.fromCharCode(r);return btoa(i)},_=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},T=function(e,t){var n=t.Bucket,r=t.Region,i=t.Key;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!n)return"Bucket";if(!r)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(!n)return"Bucket";if(!r)return"Region";if(!i)return"Key"}return!1},S=function(e,t){if(t=g({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var n=t.Headers||{};if(t&&"object"===typeof t){(function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(n[e]=t[e])})();var r={"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"};k.each(r,function(e,r){void 0!==t[e]&&(n[r]=t[e])}),t.Headers=c(n)}}return t},w=function(e,t){return function(n,r){"function"===typeof n&&(r=n,n={}),n=S(e,n);var i=function(e){return e&&e.headers&&(e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},o=function(e,t){r&&r(i(e),i(t))};if("getService"!==e&&"abortUploadTask"!==e){var a;if(a=T(e,n))return void o({error:"missing param "+a});if(n.Region){if(n.Region.indexOf("cos.")>-1)return void o({error:'param Region should not be start with "cos."'});if(!/^([a-z\d-]+)$/.test(n.Region))return void o({error:"Region format error."});!this.options.CompatibilityMode&&-1===n.Region.indexOf("-")&&"yfb"!==n.Region&&n.Region}if(n.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(n.Bucket))if(n.AppId)n.Bucket=n.Bucket+"-"+n.AppId;else{if(!this.options.AppId)return void o({error:'Bucket should format as "test-1250000000".'});n.Bucket=n.Bucket+"-"+this.options.AppId}n.AppId&&delete n.AppId}!this.options.UseRawKey&&n.Key&&"/"===n.Key.substr(0,1)&&(n.Key=n.Key.substr(1))}var s=t.call(this,n,o);if("getAuth"===e||"getObjectUrl"===e)return s}},I=function(e,t){var n,r,i=this,o=0,a=0,s=Date.now();function u(){if(r=0,t&&"function"===typeof t){n=Date.now();var i,u=Math.max(0,Math.round((a-o)/((n-s)/1e3)*100)/100);i=0===a&&0===e?1:Math.round(a/e*100)/100||0,s=n,o=a;try{t({loaded:a,total:e,speed:u,percent:i})}catch(l){}}}return function(t,n){if(t&&(a=t.loaded,e=t.total),n)clearTimeout(r),u();else{if(r)return;r=setTimeout(u,i.options.ProgressInterval)}}},b=function(e,t,n){var r;"string"===typeof t.Body&&(t.Body=new Blob([t.Body],{type:"text/plain"})),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(r=t.Body.size,t.ContentLength=r,n(null,r)):n({error:"params body format error, Only allow File|Blob|String."})},D=function(e){return Date.now()+(e||0)},k={noop:l,formatParams:S,apiWrapper:w,xml2json:o,json2xml:a,md5:r,clearKey:c,getFileMd5:d,binaryBase64:C,extend:g,isArray:m,isInArray:v,each:A,map:y,filter:E,clone:p,uuid:_,camSafeUrlEncode:s,throttleOnProgress:I,getFileSize:b,getSkewTime:D,getAuth:u,isBrowser:!0},M=function(){var e=function(e,t){e=e.split("."),t=t.split(".");for(var n=0;n<t.length;n++)if(e[n]!==t[n])return parseInt(e[n])>parseInt(t[n])?1:-1;return 0},t=function(t){var n=(t.match(/Chrome\/([.\d]+)/)||[])[1],r=(t.match(/QBCore\/([.\d]+)/)||[])[1],i=(t.match(/QQBrowser\/([.\d]+)/)||[])[1],o=n&&e(n,"53.0.2785.116")<0&&r&&e(r,"3.53.991.400")<0&&i&&e(i,"9.0.2524.400")<=0||!1;return o};return t(navigator&&navigator.userAgent)}();k.fileSlice=function(e,t,n,r,i){var o;if(e.slice?o=e.slice(t,n):e.mozSlice?o=e.mozSlice(t,n):e.webkitSlice&&(o=e.webkitSlice(t,n)),r&&M){var a=new FileReader;a.onload=function(e){o=null,i(new Blob([a.result]))},a.readAsArrayBuffer(o)}else i(o)},k.getFileUUID=function(e,t){return e.name&&e.size&&e.lastModifiedDate&&t?k.md5([e.name,e.size,e.lastModifiedDate,t].join("::")):null},k.getBodyMd5=function(e,t,n,r){n=n||l,e?"string"===typeof t?n(k.md5(t,!0)):Blob&&t instanceof Blob?k.getFileMd5(t,function(e,t){n(t)},r):n():n()},e.exports=k},"0445":function(e,t,n){"use strict";var r=n("c1bc"),i=n.n(r);i.a},"097d":function(e,t,n){"use strict";var r=n("5ca1"),i=n("8378"),o=n("7726"),a=n("ebd6"),s=n("bcaa");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},"0ae0":function(e,t){var n=function(e){var t={},n=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){n(e).push(t)},e.off=function(e,t){for(var r=n(e),i=r.length-1;i>=0;i--)t===r[i]&&r.splice(i,1)},e.emit=function(e,t){for(var r=n(e).map(function(e){return e}),i=0;i<r.length;i++)r[i](t)}},r=function(){n(this)};e.exports.init=n,e.exports.EventProxy=r},"0f22":function(e,t,n){var r=n("29d8").DOMParser,i=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var n=this.stringToXML(e);return n.getElementsByTagName("parsererror").length?null:this.parseXML(n,t)}return null},this.parseXML=function(n,r){for(var o in r)e[o]=r[o];var a={},s=0,u="",l=n.childNodes.length;if(l)for(var c,h,f,d=0;d<n.childNodes.length;d++)c=n.childNodes.item(d),4===c.nodeType?e.mergeCDATA&&(u+=c.nodeValue):3===c.nodeType?u+=c.nodeValue:1===c.nodeType&&(0===s&&(a={}),h=e.stripElemPrefix?c.nodeName.replace(t,""):c.nodeName,f=i.parseXML(c),a.hasOwnProperty(h)?(a[h].constructor!==Array&&(a[h]=[a[h]]),a[h].push(f)):(a[h]=f,s++));return Object.keys(a).length||(a=u||""),a},this.xmlToString=function(e){try{var t=e.xml?e.xml:(new XMLSerializer).serializeToString(e);return t}catch(n){return null}},this.stringToXML=function(e){try{var t=null;if(window.DOMParser){var n=new r;return t=n.parseFromString(e,"text/xml"),t}return t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e),t}catch(i){return null}},this}.call({}),o=function(e){return i.parseString(e)};e.exports=o},1:function(e,t){},1157:function(e,t,n){var r,i;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */(function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)})("undefined"!==typeof window?window:this,function(n,o){"use strict";var a=[],s=n.document,u=Object.getPrototypeOf,l=a.slice,c=a.concat,h=a.push,f=a.indexOf,d={},p=d.toString,g=d.hasOwnProperty,m=g.toString,v=m.call(Object),A={},y=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType},E=function(e){return null!=e&&e===e.window},C={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){n=n||s;var r,i,o=n.createElement("script");if(o.text=e,t)for(r in C)i=t[r]||t.getAttribute&&t.getAttribute(r),i&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function T(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?d[p.call(e)]||"object":typeof e}var S="3.4.1",w=function(e,t){return new w.fn.init(e,t)},I=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function b(e){var t=!!e&&"length"in e&&e.length,n=T(e);return!y(e)&&!E(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:S,constructor:w,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"===typeof a&&(l=a,a=arguments[s]||{},s++),"object"===typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||w.isPlainObject(n)?n:{},i=!1,a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(t=u(e),!t||(n=g.call(t,"constructor")&&t.constructor,"function"===typeof n&&m.call(n)===v))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){_(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(b(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(I,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(b(Object(e))?w.merge(n,"string"===typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,a=[];if(b(e))for(r=e.length;o<r;o++)i=t(e[o],o,n),null!=i&&a.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&a.push(i);return c.apply([],a)},guid:1,support:A}),"function"===typeof Symbol&&(w.fn[Symbol.iterator]=a[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var D=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v,A,y,E="sizzle"+1*new Date,C=e.document,_=0,T=0,S=ue(),w=ue(),I=ue(),b=ue(),D=function(e,t){return e===t&&(h=!0),0},k={}.hasOwnProperty,M=[],R=M.pop,P=M.push,O=M.push,L=M.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",x="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",G="\\["+x+"*("+U+")(?:"+x+"*([*^$|!~]?=)"+x+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+x+"*\\]",F=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+G+")*)|.*)\\)|)",Q=new RegExp(x+"+","g"),j=new RegExp("^"+x+"+|((?:^|[^\\\\])(?:\\\\.)*)"+x+"+$","g"),H=new RegExp("^"+x+"*,"+x+"*"),K=new RegExp("^"+x+"*([>+~]|"+x+")"+x+"*"),Y=new RegExp(x+"|>"),q=new RegExp(F),J=new RegExp("^"+U+"$"),V={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+x+"*(even|odd|(([+-]|)(\\d*)n|)"+x+"*(?:([+-]|)"+x+"*(\\d+)|))"+x+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+x+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+x+"*((?:-\\d)?\\d*)"+x+"*\\)|)(?=[^-]|$)","i")},W=/HTML$/i,z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+x+"?|("+x+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){f()},ae=Ee(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(M=L.call(C.childNodes),C.childNodes),M[C.childNodes.length].nodeType}catch(be){O={apply:M.length?function(e,t){P.apply(e,L.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(e,t,r,i){var o,s,l,c,h,p,v,A=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!==typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!i&&((t?t.ownerDocument||t:C)!==d&&f(t),t=t||d,g)){if(11!==_&&(h=$.exec(e)))if(o=h[1]){if(9===_){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(A&&(l=A.getElementById(o))&&y(t,l)&&l.id===o)return r.push(l),r}else{if(h[2])return O.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!b[e+" "]&&(!m||!m.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,A=t,1===_&&Y.test(e)){(c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=E),p=a(e),s=p.length;while(s--)p[s]="#"+c+" "+ye(p[s]);v=p.join(","),A=ee.test(e)&&ve(t.parentNode)||t}try{return O.apply(r,A.querySelectorAll(v)),r}catch(T){b(e,!0)}finally{c===E&&t.removeAttribute("id")}}}return u(e.replace(j,"$1"),t,r,i)}function ue(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function le(e){return e[E]=!0,e}function ce(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return le(function(t){return t=+t,le(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!W.test(t||n&&n.nodeName||"HTML")},f=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:C;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,p=d.documentElement,g=!o(d),C!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(d.getElementsByClassName),n.getById=ce(function(e){return p.appendChild(e).id=E,!d.getElementsByName||!d.getElementsByName(E).length}),n.getById?(r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter["ID"]=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find["ID"]=function(e,t){if("undefined"!==typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),r.find["TAG"]=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find["CLASS"]=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(d.querySelectorAll))&&(ce(function(e){p.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+x+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+x+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+x+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Z.test(A=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=A.call(e,"*"),A.call(e,"[s!='']:x"),v.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),y=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===C&&y(C,e)?-1:t===d||t.ownerDocument===C&&y(C,t)?1:c?N(c,e)-N(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?N(c,e)-N(c,t):0;if(i===o)return fe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?fe(a[r],s[r]):a[r]===C?-1:s[r]===C?1:0},d):d},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),n.matchesSelector&&g&&!b[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=A.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(be){b(t,!0)}return se(t,d,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&k.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),h){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=se.selectors={cacheLength:50,createPseudo:le,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V["CHILD"].test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+x+")"+e+"("+x+"|$)"))&&S(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(Q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),A=!u&&!s,y=!1;if(m){if(o){while(g){f=t;while(f=f[g])if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&A){f=m,h=f[E]||(f[E]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[e]||[],d=l[0]===_&&l[1],y=d&&l[2],f=d&&m.childNodes[d];while(f=++d&&f&&f[g]||(y=d=0)||p.pop())if(1===f.nodeType&&++y&&f===t){c[e]=[_,d,y];break}}else if(A&&(f=t,h=f[E]||(f[E]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[e]||[],d=l[0]===_&&l[1],y=d),!1===y)while(f=++d&&f&&f[g]||(y=d=0)||p.pop())if((s?f.nodeName.toLowerCase()===v:1===f.nodeType)&&++y&&(A&&(h=f[E]||(f[E]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[e]=[_,y]),f===t))break;return y-=i,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[E]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){var r,o=i(e,t),a=o.length;while(a--)r=N(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],r=s(e.replace(j,"$1"));return r[E]?le(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:le(function(e){return function(t){return se(e,t).length>0}}),contains:le(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:le(function(e){return J.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return X.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos["nth"]=r.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function Ae(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Ee(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=T++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,h,f=[_,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(h=t[E]||(t[E]={}),c=h[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===_&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=e(t,n,u))return!0}return!1}}function Ce(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function _e(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Se(e,t,n,r,i,o){return r&&!r[E]&&(r=Se(r)),i&&!i[E]&&(i=Se(i,o)),le(function(o,a,s,u){var l,c,h,f=[],d=[],p=a.length,g=o||_e(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:Te(g,f,e,s,u),v=n?i||(o?e:p||r)?[]:a:m;if(n&&n(m,v,s,u),r){l=Te(v,d),r(l,[],s,u),c=l.length;while(c--)(h=l[c])&&(v[d[c]]=!(m[d[c]]=h))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(h=v[c])&&l.push(m[c]=h);i(null,v=[],l,u)}c=v.length;while(c--)(h=v[c])&&(l=i?N(o,h):f[c])>-1&&(o[l]=!(a[l]=h))}}else v=Te(v===a?v.splice(p,v.length):v),i?i(null,a,v,u):O.apply(a,v)})}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=Ee(function(e){return e===t},s,!0),h=Ee(function(e){return N(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):h(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])f=[Ee(Ce(f),n)];else{if(n=r.filter[e[u].type].apply(null,e[u].matches),n[E]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Se(u>1&&Ce(f),u>1&&ye(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(j,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ye(e))}f.push(n)}return Ce(f)}function Ie(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var h,p,m,v=0,A="0",y=o&&[],E=[],C=l,T=o||i&&r.find["TAG"]("*",c),S=_+=null==C?1:Math.random()||.1,w=T.length;for(c&&(l=a===d||a||c);A!==w&&null!=(h=T[A]);A++){if(i&&h){p=0,a||h.ownerDocument===d||(f(h),s=!g);while(m=e[p++])if(m(h,a||d,s)){u.push(h);break}c&&(_=S)}n&&((h=!m&&h)&&v--,o&&y.push(h))}if(v+=A,n&&A!==v){p=0;while(m=t[p++])m(y,E,a,s);if(o){if(v>0)while(A--)y[A]||E[A]||(E[A]=R.call(u));E=Te(E)}O.apply(u,E),c&&!o&&E.length>0&&v+t.length>1&&se.uniqueSort(u)}return c&&(_=S,l=C),y};return n?le(o):o}return Ae.prototype=r.filters=r.pseudos,r.setFilters=new Ae,a=se.tokenize=function(e,t){var n,i,o,a,s,u,l,c=w[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){for(a in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=K.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):w(e,u).slice(0)},s=se.compile=function(e,t){var n,r=[],i=[],o=I[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)o=we(t[n]),o[E]?r.push(o):i.push(o);o=I(e,Ie(i,r)),o.selector=e}return o},u=se.select=function(e,t,n,i){var o,u,l,c,h,f="function"===typeof e&&e,d=!i&&a(e=f.selector||e);if(n=n||[],1===d.length){if(u=d[0]=d[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(t=(r.find["ID"](l.matches[0].replace(te,ne),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V["needsContext"].test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((h=r.find[c])&&(i=h(l.matches[0].replace(te,ne),ee.test(u[0].type)&&ve(t.parentNode)||t))){if(u.splice(o,1),e=i.length&&ye(u),!e)return O.apply(n,i),n;break}}}return(f||s(e,d))(i,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=E.split("").sort(D).join("")===E,n.detectDuplicates=!!h,f(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||he(B,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(n);w.find=D,w.expr=D.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=D.uniqueSort,w.text=D.getText,w.isXMLDoc=D.isXML,w.contains=D.contains,w.escapeSelector=D.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},R=w.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return y(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!==typeof t?w.grep(e,function(e){return f.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"===typeof e&&R.test(e)?w(e):e||[],!1).length}});var N,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,x=w.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||N,"string"===typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),O.test(r[1])&&w.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=s.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)};x.prototype=w.fn,N=w(s);var U=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!==typeof e&&w(e);if(!R.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?f.call(w(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return"undefined"!==typeof e.contentDocument?e.contentDocument:(P(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=w.filter(r,i)),this.length>1&&(G[e]||w.uniqueSort(i),U.test(e)&&i.reverse()),this.pushStack(i)}});var Q=/[^\x20\t\r\n\f]+/g;function j(e){var t={};return w.each(e.match(Q)||[],function(e,n){t[n]=!0}),t}function H(e){return e}function K(e){throw e}function Y(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"===typeof e?j(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){y(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==T(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){var o=0;function a(e,t,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(e<o)){if(n=r.apply(s,u),n===t.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"===typeof n||"function"===typeof n)&&n.then,y(l)?i?l.call(n,a(o,t,H,i),a(o,t,K,i)):(o++,l.call(n,a(o,t,H,i),a(o,t,K,i),a(o,t,H,t.notifyWith))):(r!==H&&(s=void 0,u=[n]),(i||t.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(r!==K&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred(function(n){t[0][3].add(a(0,n,y(i)?i:H,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:H)),t[2][3].add(a(0,n,y(r)?r:K))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),o=w.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Y(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();while(n--)Y(i[n],a(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){n.setTimeout(function(){throw e})};var J=w.Deferred();function V(){s.removeEventListener("DOMContentLoaded",V),n.removeEventListener("load",V),w.ready()}w.fn.ready=function(e){return J.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||J.resolveWith(s,[w]))}}),w.ready.then=J.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(w.ready):(s.addEventListener("DOMContentLoaded",V),n.addEventListener("load",V));var W=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===T(n))for(s in i=!0,n)W(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,X=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function $(e){return e.replace(z,"ms-").replace(X,Z)}var ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function te(){this.expando=w.expando+te.uid++}te.uid=1,te.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[$(t)]=n;else for(r in t)i[$(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map($):(t=$(t),t=t in r?[t]:t.match(Q)||[]),n=t.length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var ne=new te,re=new te,ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,oe=/[A-Z]/g;function ae(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ie.test(e)?JSON.parse(e):e)}function se(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(oe,"-$&").toLowerCase(),n=e.getAttribute(r),"string"===typeof n){try{n=ae(n)}catch(i){}re.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return re.hasData(e)||ne.hasData(e)},data:function(e,t,n){return re.access(e,t,n)},removeData:function(e,t){re.remove(e,t)},_data:function(e,t,n){return ne.access(e,t,n)},_removeData:function(e,t){ne.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=re.get(o),1===o.nodeType&&!ne.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=$(r.slice(5)),se(o,r,i[r])));ne.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each(function(){re.set(this,e)}):W(this,function(t){var n;if(o&&void 0===t)return n=re.get(o,e),void 0!==n?n:(n=se(o,e),void 0!==n?n:void 0);this.each(function(){re.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){re.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ne.get(e,t),n&&(!r||Array.isArray(n)?r=ne.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ne.get(e,n)||ne.access(e,n,{empty:w.Callbacks("once memory").add(function(){ne.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!==typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)n=ne.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,le=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),ce=["Top","Right","Bottom","Left"],he=s.documentElement,fe=function(e){return w.contains(e.ownerDocument,e)},de={composed:!0};he.getRootNode&&(fe=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(de)===e.ownerDocument});var pe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&fe(e)&&"none"===w.css(e,"display")},ge=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function me(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=e.nodeType&&(w.cssNumber[t]||"px"!==l&&+u)&&le.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ve={};function Ae(e){var t,n=e.ownerDocument,r=e.nodeName,i=ve[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ve[r]=i,i)}function ye(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=ne.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&pe(r)&&(i[o]=Ae(r))):"none"!==n&&(i[o]="none",ne.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return ye(this,!0)},hide:function(){return ye(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){pe(this)?w(this).show():w(this).hide()})}});var Ee=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_e=/^$|^module$|\/(?:java|ecma)script/i,Te={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?w.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)ne.set(e[n],"globalEval",!t||ne.get(t[n],"globalEval"))}Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td;var Ie=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,s,u,l,c,h=t.createDocumentFragment(),f=[],d=0,p=e.length;d<p;d++)if(o=e[d],o||0===o)if("object"===T(o))w.merge(f,o.nodeType?[o]:o);else if(Ie.test(o)){a=a||h.appendChild(t.createElement("div")),s=(Ce.exec(o)||["",""])[1].toLowerCase(),u=Te[s]||Te._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(t.createTextNode(o));h.textContent="",d=0;while(o=f[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=fe(o),a=Se(h.appendChild(o),"script"),l&&we(a),n){c=0;while(o=a[c++])_e.test(o.type||"")&&n.push(o)}return h}(function(){var e=s.createDocumentFragment(),t=e.appendChild(s.createElement("div")),n=s.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),A.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",A.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var De=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Me=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Pe(){return!1}function Oe(e,t){return e===Le()===("focus"===t)}function Le(){try{return s.activeElement}catch(e){}}function Ne(e,t,n,r,i,o){var a,s;if("object"===typeof t){for(s in"string"!==typeof n&&(r=r||n,n=void 0),t)Ne(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Pe;else if(!i)return e;return 1===o&&(a=i,i=function(e){return w().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}function Be(e,t,n){n?(ne.set(e,t,!1),w.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=ne.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(w.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),ne.set(this,t,o),r=n(this,t),this[t](),i=ne.get(this,t),o!==i||r?ne.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(ne.set(this,t,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===ne.get(e,t)&&w.event.add(e,t,Re)}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,m=ne.get(e);if(m){n.handler&&(o=n,n=o.handler,i=o.selector),i&&w.find.matchesSelector(he,i),n.guid||(n.guid=w.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!==typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Q)||[""],l=t.length;while(l--)s=Me.exec(t[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=w.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(d,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,m=ne.hasData(e)&&ne.get(e);if(m&&(u=m.events)){t=(t||"").match(Q)||[""],l=t.length;while(l--)if(s=Me.exec(t[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){h=w.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;while(o--)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(e,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||w.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&ne.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=w.event.fix(e),u=new Array(arguments.length),l=(ne.get(this,"events")||{})[s.type]||[],c=w.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){a=w.event.handlers.call(this,s,l),t=0;while((i=a[t++])&&!s.isPropagationStopped()){s.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((w.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&P(t,"input")&&Be(t,"click",Re),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&P(t,"input")&&Be(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&P(t,"input")&&ne.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Pe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Pe,isPropagationStopped:Pe,isImmediatePropagationStopped:Pe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&De.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,t){w.event.special[e]={setup:function(){return Be(this,e,Oe),!1},trigger:function(){return Be(this,e),!0},delegateType:t}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return Ne(this,e,t,n,r)},one:function(e,t,n,r){return Ne(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Pe),this.each(function(){w.event.remove(this,e,n,t)})}});var xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ue=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Qe(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ke(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(ne.hasData(e)&&(o=ne.access(e),a=ne.set(t,o),l=o.events,l))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n]);re.hasData(e)&&(s=re.access(e),u=w.extend({},s),re.set(t,u))}}function Ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=c.apply([],t);var i,o,a,s,u,l,h=0,f=e.length,d=f-1,p=t[0],g=y(p);if(g||f>1&&"string"===typeof p&&!A.checkClone&&Ge.test(p))return e.each(function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),qe(o,t,n,r)});if(f&&(i=be(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=w.map(Se(i,"script"),je),s=a.length;h<f;h++)u=i,h!==d&&(u=w.clone(u,!0,!0),s&&w.merge(a,Se(u,"script"))),n.call(e[h],u,h);if(s)for(l=a[a.length-1].ownerDocument,w.map(a,He),h=0;h<s;h++)u=a[h],_e.test(u.type||"")&&!ne.access(u,"globalEval")&&w.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):_(u.textContent.replace(Fe,""),u,l))}return e}function Je(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(Se(r)),r.parentNode&&(n&&fe(r)&&we(Se(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(xe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=fe(e);if(!A.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!w.isXMLDoc(e))for(a=Se(s),o=Se(e),r=0,i=o.length;r<i;r++)Ye(o[r],a[r]);if(t)if(n)for(o=o||Se(e),a=a||Se(s),r=0,i=o.length;r<i;r++)Ke(o[r],a[r]);else Ke(e,s);return a=Se(s,"script"),a.length>0&&we(a,!u&&Se(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(ee(n)){if(t=n[ne.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[ne.expando]=void 0}n[re.expando]&&(n[re.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Je(this,e,!0)},remove:function(e){return Je(this,e)},text:function(e){return W(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Qe(this,e);t.appendChild(e)}})},prepend:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Qe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Ue.test(e)&&!Te[(Ce.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(w.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(Se(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),h.apply(r,n.get());return this.pushStack(r)}});var Ve=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},ze=new RegExp(ce.join("|"),"i");function Xe(e,t,n){var r,i,o,a,s=e.style;return n=n||We(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||fe(e)||(a=w.style(e,t)),!A.pixelBoxStyles()&&Ve.test(a)&&ze.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}(function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",he.appendChild(l).appendChild(c);var e=n.getComputedStyle(c);r="1%"!==e.top,u=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),he.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,a,u,l=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",A.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(A,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))})();var $e=["Webkit","Moz","ms"],et=s.createElement("div").style,tt={};function nt(e){var t=e[0].toUpperCase()+e.slice(1),n=$e.length;while(n--)if(e=$e[n]+t,e in et)return e}function rt(e){var t=w.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=nt(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,ot=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var r=le.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+ce[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+ce[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+ce[a]+"Width",!0,i))):(u+=w.css(e,"padding"+ce[a],!0,i),"padding"!==n?u+=w.css(e,"border"+ce[a]+"Width",!0,i):s+=w.css(e,"border"+ce[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function ct(e,t,n){var r=We(e),i=!A.boxSizingReliable()||n,o=i&&"border-box"===w.css(e,"boxSizing",!1,r),a=o,s=Xe(e,t,r),u="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(s)){if(!n)return s;s="auto"}return(!A.boxSizingReliable()&&o||"auto"===s||!parseFloat(s)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===w.css(e,"boxSizing",!1,r),a=u in e,a&&(s=e[u])),s=parseFloat(s)||0,s+lt(e,t,n||(o?"border":"content"),a,r,s)+"px"}function ht(e,t,n,r,i){return new ht.prototype.init(e,t,n,r,i)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=$(t),u=ot.test(t),l=e.style;if(u||(t=rt(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];o=typeof n,"string"===o&&(i=le.exec(n))&&i[1]&&(n=me(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),A.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=$(t),u=ot.test(t);return u||(t=rt(s)),a=w.cssHooks[t]||w.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Xe(e,t,r)),"normal"===i&&t in st&&(i=st[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!it.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):ge(e,at,function(){return ct(e,t,r)})},set:function(e,n,r){var i,o=We(e),a=!A.scrollboxSize()&&"absolute"===o.position,s=a||r,u=s&&"border-box"===w.css(e,"boxSizing",!1,o),l=r?lt(e,t,r,u,o):0;return u&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),l&&(i=le.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),ut(e,n,l)}}}),w.cssHooks.marginLeft=Ze(A.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Xe(e,"marginLeft"))||e.getBoundingClientRect().left-ge(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+ce[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=ut)}),w.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,n=ht.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||!w.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=ht.prototype.init,w.fx.step={};var ft,dt,pt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function mt(){dt&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(mt):n.setTimeout(mt,w.fx.interval),w.fx.tick())}function vt(){return n.setTimeout(function(){ft=void 0}),ft=Date.now()}function At(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=ce[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function yt(e,t,n){for(var r,i=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Et(e,t,n){var r,i,o,a,s,u,l,c,h="width"in t||"height"in t,f=this,d={},p=e.style,g=e.nodeType&&pe(e),m=ne.get(e,"fxshow");for(r in n.queue||(a=w._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],pt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||w.style(e,r)}if(u=!w.isEmptyObject(t),u||!w.isEmptyObject(d))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=m&&m.display,null==l&&(l=ne.get(e,"display")),c=w.css(e,"display"),"none"===c&&(l?c=l:(ye([e],!0),l=e.style.display||l,c=w.css(e,"display"),ye([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1,d)u||(m?"hidden"in m&&(g=m.hidden):m=ne.access(e,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ye([e],!0),f.done(function(){for(r in g||ye([e]),ne.remove(e,"fxshow"),d)w.style(e,r,d[r])})),u=yt(g?m[r]:0,r,f),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}function Ct(e,t){var n,r,i,o,a;for(n in e)if(r=$(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=w.cssHooks[r],a&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function _t(e,t,n){var r,i,o=0,a=_t.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ft||vt(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:ft||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(Ct(c,l.opts.specialEasing);o<a;o++)if(r=_t.prefilters[o].call(l,e,c,l.opts),r)return y(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,yt,l),y(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return me(n.elem,e,le.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(Q);for(var n,r=0,i=e.length;r<i;r++)n=e[r],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[Et],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"===typeof e?w.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return w.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(pe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=_t(this,w.extend({},e),o);(i||ne.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=ne.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&gt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ne.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(At(t,!0),e,r,i)}}),w.each({slideDown:At("show"),slideUp:At("hide"),slideToggle:At("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(ft=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),ft=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){dt||(dt=!0,mt())},w.fx.stop=function(){dt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=s.createElement("input"),t=s.createElement("select"),n=t.appendChild(s.createElement("option"));e.type="checkbox",A.checkOn=""!==e.value,A.optSelected=n.selected,e=s.createElement("input"),e.value="t",e.type="radio",A.radioValue="t"===e.value}();var Tt,St=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return W(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?Tt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=w.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!A.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Q);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),Tt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=St[t]||w.find.attr;St[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=St[a],St[a]=i,i=null!=n(e,t,r)?a:null,St[a]=o),i}});var wt=/^(?:input|select|textarea|button)$/i,It=/^(?:a|area)$/i;function bt(e){var t=e.match(Q)||[];return t.join(" ")}function Dt(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(Q)||[]}w.fn.extend({prop:function(e,t){return W(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||It.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),A.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each(function(t){w(this).addClass(e.call(this,t,Dt(this)))});if(t=kt(e),t.length)while(n=this[u++])if(i=Dt(n),r=1===n.nodeType&&" "+bt(i)+" ",r){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=bt(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(y(e))return this.each(function(t){w(this).removeClass(e.call(this,t,Dt(this)))});if(!arguments.length)return this.attr("class","");if(t=kt(e),t.length)while(n=this[u++])if(i=Dt(n),r=1===n.nodeType&&" "+bt(i)+" ",r){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");s=bt(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"===typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,Dt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=kt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||(t=Dt(this),t&&ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":ne.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+bt(Dt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,w(this).val()):e,null==i?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"===typeof n?n.replace(Mt,""):null==n?"":n)):void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:bt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},A.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),A.focusin="onfocusin"in n;var Rt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,r,i){var o,a,u,l,c,h,f,d,p=[r||s],m=g.call(e,"type")?e.type:e,v=g.call(e,"namespace")?e.namespace.split("."):[];if(a=d=u=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!Rt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,e=e[w.expando]?e:new w.Event(m,"object"===typeof e&&e),e.isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:w.makeArray(t,[e]),f=w.event.special[m]||{},i||!f.trigger||!1!==f.trigger.apply(r,t))){if(!i&&!f.noBubble&&!E(r)){for(l=f.delegateType||m,Rt.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(r.ownerDocument||s)&&p.push(u.defaultView||u.parentWindow||n)}o=0;while((a=p[o++])&&!e.isPropagationStopped())d=a,e.type=o>1?l:f.bindType||m,h=(ne.get(a,"events")||{})[e.type]&&ne.get(a,"handle"),h&&h.apply(a,t),h=c&&a[c],h&&h.apply&&ee(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!ee(r)||c&&y(r[m])&&!E(r)&&(u=r[c],u&&(r[c]=null),w.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Pt),r[m](),e.isPropagationStopped()&&d.removeEventListener(m,Pt),w.event.triggered=void 0,u&&(r[c]=u)),e.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),A.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ne.access(r,t);i||r.addEventListener(e,n,!0),ne.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ne.access(r,t)-1;i?ne.access(r,t,i):(r.removeEventListener(e,n,!0),ne.remove(r,t))}}});var Ot=n.location,Lt=Date.now(),Nt=/\?/;w.parseXML=function(e){var t;if(!e||"string"!==typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(r){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Bt=/\[\]$/,xt=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Gt=/^(?:input|select|textarea|keygen)/i;function Ft(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||Bt.test(e)?r(e,i):Ft(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==T(t))r(e,t);else for(i in t)Ft(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)Ft(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Gt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}});var Qt=/%20/g,jt=/#.*$/,Ht=/([?&])_=[^&]*/,Kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Vt={},Wt={},zt="*/".concat("*"),Xt=s.createElement("a");function Zt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Q)||[];if(y(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!==typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function en(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function tn(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function nn(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift(),o)if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]],a)){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}Xt.href=Ot.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:"GET",isLocal:Yt.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?en(en(e,w.ajaxSettings),t):en(w.ajaxSettings,e)},ajaxPrefilter:Zt(Vt),ajaxTransport:Zt(Wt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,u,l,c,h,f,d,p=w.ajaxSetup({},t),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),A=w.Callbacks("once memory"),y=p.statusCode||{},E={},C={},_="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a){a={};while(t=Kt.exec(o))a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),S(0,t),this}};if(v.promise(T),p.url=((e||p.url||Ot.href)+"").replace(Jt,Ot.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Q)||[""],null==p.crossDomain){l=s.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Xt.protocol+"//"+Xt.host!==l.protocol+"//"+l.host}catch(I){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=w.param(p.data,p.traditional)),$t(Vt,p,t,T),c)return T;for(f in h=w.event&&p.global,h&&0===w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!qt.test(p.type),i=p.url.replace(jt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Qt,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"===typeof p.data)&&(i+=(Nt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Ht,"$1"),d=(Nt.test(i)?"&":"?")+"_="+Lt+++d),p.url=i+d),p.ifModified&&(w.lastModified[i]&&T.setRequestHeader("If-Modified-Since",w.lastModified[i]),w.etag[i]&&T.setRequestHeader("If-None-Match",w.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,T,p)||c))return T.abort();if(_="abort",A.add(p.complete),T.done(p.success),T.fail(p.error),r=$t(Wt,p,t,T),r){if(T.readyState=1,h&&m.trigger("ajaxSend",[T,p]),c)return T;p.async&&p.timeout>0&&(u=n.setTimeout(function(){T.abort("timeout")},p.timeout));try{c=!1,r.send(E,S)}catch(I){if(c)throw I;S(-1,I)}}else S(-1,"No Transport");function S(e,t,a,s){var l,f,d,E,C,_=t;c||(c=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",T.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(E=tn(p,T,a)),E=nn(p,E,T,l),l?(p.ifModified&&(C=T.getResponseHeader("Last-Modified"),C&&(w.lastModified[i]=C),C=T.getResponseHeader("etag"),C&&(w.etag[i]=C)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=E.state,f=E.data,d=E.error,l=!d)):(d=_,!e&&_||(_="error",e<0&&(e=0))),T.status=e,T.statusText=(t||_)+"",l?v.resolveWith(g,[f,_,T]):v.rejectWith(g,[T,_,d]),T.statusCode(y),y=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:d]),A.fireWith(g,[T,_]),h&&(m.trigger("ajaxComplete",[T,p]),--w.active||w.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e,t){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,t)}})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var rn={0:200,1223:204},on=w.ajaxSettings.xhr();A.cors=!!on&&"withCredentials"in on,A.ajax=on=!!on,w.ajaxTransport(function(e){var t,r;if(A.cors||on&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!==typeof s.status?o(0,"error"):o(s.status,s.statusText):o(rn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var an=[],sn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=an.pop()||w.expando+"_"+Lt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(sn.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&sn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(sn,"$1"+i):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?w(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,an.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),A.createHTMLDocument=function(){var e=s.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(A.createHTMLDocument?(t=s.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=s.location.href,t.head.appendChild(r)):t=s),i=O.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=be([e],t,o),o&&o.length&&w(o).remove(),w.merge([],i.childNodes)));var r,i,o},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=bt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),h=w(e),f={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=w.css(e,"top"),u=w.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):h.css(f)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=w(e).offset(),i.top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||he})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return W(this,function(e,r,i){var o;if(E(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=Ze(A.pixelPosition,function(e,n){if(n)return n=Xe(e,t),Ve.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!==typeof i),s=n||(!0===i||!0===o?"margin":"border");return W(this,function(t,n,i){var o;return E(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),y(e))return r=l.call(arguments,2),i=function(){return e.apply(t||this,r.concat(l.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=P,w.isFunction=y,w.isWindow=E,w.camelCase=$,w.type=T,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},r=[],i=function(){return w}.apply(t,r),void 0===i||(e.exports=i);var un=n.jQuery,ln=n.$;return w.noConflict=function(e){return n.$===w&&(n.$=ln),e&&n.jQuery===w&&(n.jQuery=un),w},o||(n.jQuery=n.$=w),w})},1173:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"164b":function(e,t,n){"use strict";var r=n("03e2"),i=n("0ae0"),o=n("e263"),a=n("75f1"),s=n("1ac6"),u={AppId:"",SecretId:"",SecretKey:"",XCosSecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,UploadQueueSize:1e4,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadAddMetaMd5:!1,UploadIdCacheLimit:50},l=function(e){this.options=r.extend(r.clone(u),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId,i.init(this),o.init(this)};a.init(l,o),s.init(l,o),l.getAuthorization=r.getAuth,l.version="0.5.22",e.exports=l},1804:function(e,t,n){},"1ac6":function(e,t,n){var r,i=n("88c7"),o=n("0ae0").EventProxy,a=n("03e2");function s(e,t){var n,r,i=this,s=new o,l=e.TaskId,c=e.Bucket,d=e.Region,g=e.Key,m=e.Body,A=e.ChunkSize||e.SliceSize||i.options.ChunkSize,E=e.AsyncLimit,C=e.StorageClass||"Standard",_=e.ServerSideEncryption,T=e.onHashProgress;s.on("error",function(e){if(i._isRunningTask(l))return t(e)}),s.on("upload_complete",function(e){t(null,e)}),s.on("upload_slice_complete",function(e){y.call(i,{Bucket:c,Region:d,Key:g,UploadId:e.UploadId,SliceList:e.SliceList},function(t,o){if(i._isRunningTask(l)){if(delete u[e.UploadId],t)return r(null,!0),s.emit("error",t);r({loaded:n,total:n},!0),f.call(i,e.UploadId),s.emit("upload_complete",o)}})}),s.on("get_upload_data_finish",function(t){var o=a.getFileUUID(m,e.ChunkSize);o&&h.call(i,o,t.UploadId),u[t.UploadId]=!0,l&&i.on("inner-kill-task",function(e){e.TaskId===l&&"canceled"===e.toState&&delete u[t.UploadId]}),r(null,!0),v.call(i,{TaskId:l,Bucket:c,Region:d,Key:g,Body:m,FileSize:n,SliceSize:A,AsyncLimit:E,ServerSideEncryption:_,UploadData:t,onProgress:r},function(e,t){if(i._isRunningTask(l))return e?(r(null,!0),s.emit("error",e)):void s.emit("upload_slice_complete",t)})}),s.on("get_file_size_finish",function(){if(r=a.throttleOnProgress.call(i,n,e.onProgress),e.UploadData.UploadId)s.emit("get_upload_data_finish",e.UploadData);else{var t=a.extend({TaskId:l,Bucket:c,Region:d,Key:g,Headers:e.Headers,StorageClass:C,Body:m,FileSize:n,SliceSize:A,onHashProgress:T},e);p.call(i,t,function(t,n){if(i._isRunningTask(l)){if(t)return s.emit("error",t);e.UploadData.UploadId=n.UploadId,e.UploadData.PartList=n.PartList,s.emit("get_upload_data_finish",e.UploadData)}})}}),n=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),a.each(e.Headers,function(t,n){"content-length"===n.toLowerCase()&&delete e.Headers[n]}),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],r=1048576,o=0;o<t.length;o++)if(r=1024*t[o]*1024,n/r<=i.options.MaxPartNumber)break;e.ChunkSize=e.SliceSize=A=Math.max(A,r)}(),0===n?(e.Body="",e.ContentLength=0,e.SkipTask=!0,i.putObject(e,function(e,n){if(e)return t(e);t(null,n)})):s.emit("get_file_size_finish")}var u={},l="cos_sdk_upload_cache";function c(){var e=this.options.UploadIdCacheLimit;if(!r){if(e)try{r=JSON.parse(localStorage.getItem(l))||[]}catch(t){}r||(r=[])}}function h(e,t,n){c.call(this);for(var i=r.length-1;i>=0;i--)r[i][0]===e&&r[i][1]===t&&r.splice(i,1);r.unshift([e,t]);var o=this.options.UploadIdCacheLimit;r.length>o&&r.splice(o),o&&setTimeout(function(){try{localStorage.setItem(l,JSON.stringify(r))}catch(e){}})}function f(e){c.call(this),delete u[e];for(var t=r.length-1;t>=0;t--)r[t][1]===e&&r.splice(t,1);var n=this.options.UploadIdCacheLimit;r.length>n&&r.splice(n),n&&setTimeout(function(){try{r.length?localStorage.setItem(l,JSON.stringify(r)):localStorage.removeItem(l)}catch(e){}})}function d(e){c.call(this);for(var t=[],n=0;n<r.length;n++)r[n][0]===e&&t.push(r[n][1]);return t.length?t:null}function p(e,t){var n=e.TaskId,r=e.Bucket,s=e.Region,l=e.Key,c=e.StorageClass,h=this,p={},v=e.FileSize,A=e.SliceSize,y=Math.ceil(v/A),E=0,C=a.throttleOnProgress.call(h,v,e.onHashProgress),_=function(t,n){var r=A*(t-1),i=Math.min(r+A,v),o=i-r;p[t]?n(null,{PartNumber:t,ETag:p[t],Size:o}):a.fileSlice(e.Body,r,i,!1,function(e){a.getFileMd5(e,function(e,r){if(e)return n(e);var i='"'+r+'"';p[t]=i,1,E+=o,n(e,{PartNumber:t,ETag:i,Size:o}),C({loaded:E,total:v})})})},T=function(e,t){var n=e.length;if(0===n)return t(null,!0);if(n>y)return t(null,!1);if(n>1){var r=Math.max(e[0].Size,e[1].Size);if(r!==A)return t(null,!1)}var i=function(r){if(r<n){var o=e[r];_(o.PartNumber,function(e,n){n&&n.ETag===o.ETag&&n.Size===o.Size?i(r+1):t(null,!1)})}else t(null,!0)};i(0)},S=new o;S.on("error",function(e){if(h._isRunningTask(n))return t(e)}),S.on("upload_id_ready",function(e){var n={},r=[];a.each(e.PartList,function(e){n[e.PartNumber]=e});for(var i=1;i<=y;i++){var o=n[i];o?(o.PartNumber=i,o.Uploaded=!0):o={PartNumber:i,ETag:null,Uploaded:!1},r.push(o)}e.PartList=r,t(null,e)}),S.on("no_available_upload_id",function(){if(h._isRunningTask(n)){var i=a.extend({Bucket:r,Region:s,Key:l,Headers:a.clone(e.Headers),StorageClass:c,Body:e.Body},e),o=e.Headers["Content-Type"]||e.Body&&e.Body.type;o&&(i.Headers["Content-Type"]=o),h.multipartInit(i,function(e,r){if(h._isRunningTask(n)){if(e)return S.emit("error",e);var i=r.UploadId;if(!i)return t({Message:"no upload id"});S.emit("upload_id_ready",{UploadId:i,PartList:[]})}})}}),S.on("has_upload_id",function(e){e=e.reverse(),i.eachLimit(e,1,function(e,t){h._isRunningTask(n)&&(u[e]?t():m.call(h,{Bucket:r,Region:s,Key:l,UploadId:e},function(r,i){if(h._isRunningTask(n)){if(r)return f.call(h,e),S.emit("error",r);var o=i.PartList;o.forEach(function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""}),T(o,function(r,i){if(h._isRunningTask(n))return r?S.emit("error",r):void(i?t({UploadId:e,PartList:o}):t())})}}))},function(e){h._isRunningTask(n)&&(C(null,!0),e&&e.UploadId?S.emit("upload_id_ready",e):S.emit("no_available_upload_id"))})}),S.on("seek_local_avail_upload_id",function(t){var i,o=a.getFileUUID(e.Body,e.ChunkSize);if(o&&(i=d.call(h,o))){var c=function(e){if(e>=i.length)S.emit("has_upload_id",t);else{var o=i[e];if(!a.isInArray(t,o))return f.call(h,o),void c(e+1);u[o]?c(e+1):m.call(h,{Bucket:r,Region:s,Key:l,UploadId:o},function(t,r){h._isRunningTask(n)&&(t?(f.call(h,o),c(e+1)):S.emit("upload_id_ready",{UploadId:o,PartList:r.PartList}))})}};c(0)}else S.emit("has_upload_id",t)}),S.on("get_remote_upload_id_list",function(t){g.call(h,{Bucket:r,Region:s,Key:l},function(t,r){if(h._isRunningTask(n)){if(t)return S.emit("error",t);var i=a.filter(r.UploadList,function(e){return e.Key===l&&(!c||e.StorageClass.toUpperCase()===c.toUpperCase())}).reverse().map(function(e){return e.UploadId||e.UploadID});if(i.length)S.emit("seek_local_avail_upload_id",i);else{var o,s=a.getFileUUID(e.Body,e.ChunkSize);s&&(o=d.call(h,s))&&a.each(o,function(e){f.call(h,e)}),S.emit("no_available_upload_id")}}})}),S.emit("get_remote_upload_id_list")}function g(e,t){var n=this,r=[],i={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key},o=function(){n.multipartList(i,function(e,n){if(e)return t(e);r.push.apply(r,n.Upload||[]),"true"===n.IsTruncated?(i.KeyMarker=n.NextKeyMarker,i.UploadIdMarker=n.NextUploadIdMarker,o()):t(null,{UploadList:r})})};o()}function m(e,t){var n=this,r=[],i={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId},o=function(){n.multipartListPart(i,function(e,n){if(e)return t(e);r.push.apply(r,n.Part||[]),"true"===n.IsTruncated?(i.PartNumberMarker=n.NextPartNumberMarker,o()):t(null,{PartList:r})})};o()}function v(e,t){var n=this,r=e.TaskId,o=e.Bucket,s=e.Region,u=e.Key,l=e.UploadData,c=e.FileSize,h=e.SliceSize,f=Math.min(e.AsyncLimit||n.options.ChunkParallelLimit||1,256),d=e.Body,p=Math.ceil(c/h),g=0,m=e.ServerSideEncryption,v=a.filter(l.PartList,function(e){return e["Uploaded"]&&(g+=e["PartNumber"]>=p&&c%h||h),!e["Uploaded"]}),y=e.onProgress;i.eachLimit(v,f,function(e,t){if(n._isRunningTask(r)){var i=e["PartNumber"],f=Math.min(c,e["PartNumber"]*h)-(e["PartNumber"]-1)*h,p=0;A.call(n,{TaskId:r,Bucket:o,Region:s,Key:u,SliceSize:h,FileSize:c,PartNumber:i,ServerSideEncryption:m,Body:d,UploadData:l,onProgress:function(e){g+=e.loaded-p,p=e.loaded,y({loaded:g,total:c})}},function(i,o){n._isRunningTask(r)&&(!a.isBrowser||i||o.ETag||(i='get ETag error, please add "ETag" to CORS ExposeHeader setting.'),i?g-=p:(g+=f-p,e.ETag=o.ETag),t(i||null,o))})}},function(e){if(n._isRunningTask(r))return e?t(e):void t(null,{UploadId:l.UploadId,SliceList:l.PartList})})}function A(e,t){var n=this,r=e.TaskId,o=e.Bucket,s=e.Region,u=e.Key,l=e.FileSize,c=e.Body,h=1*e.PartNumber,f=e.SliceSize,d=e.ServerSideEncryption,p=e.UploadData,g=n.options.ChunkRetryTimes+1,m=f*(h-1),v=f,A=m+f;A>l&&(A=l,v=A-m);var y=p.PartList[h-1];i.retry(g,function(t){n._isRunningTask(r)&&a.fileSlice(c,m,A,!0,function(i){n.multipartUpload({TaskId:r,Bucket:o,Region:s,Key:u,ContentLength:v,PartNumber:h,UploadId:p.UploadId,ServerSideEncryption:d,Body:i,onProgress:e.onProgress},function(e,i){if(n._isRunningTask(r))return e?t(e):(y.Uploaded=!0,t(null,i))})})},function(e,i){if(n._isRunningTask(r))return t(e,i)})}function y(e,t){var n=e.Bucket,r=e.Region,o=e.Key,a=e.UploadId,s=e.SliceList,u=this,l=this.options.ChunkRetryTimes+1,c=s.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});i.retry(l,function(e){u.multipartComplete({Bucket:n,Region:r,Key:o,UploadId:a,Parts:c},e)},function(e,n){t(e,n)})}function E(e,t){var n=e.Bucket,r=e.Region,i=e.Key,a=e.UploadId,s=e.Level||"task",u=e.AsyncLimit,l=this,c=new o;if(c.on("error",function(e){return t(e)}),c.on("get_abort_array",function(o){C.call(l,{Bucket:n,Region:r,Key:i,Headers:e.Headers,AsyncLimit:u,AbortArray:o},function(e,n){if(e)return t(e);t(null,n)})}),"bucket"===s)g.call(l,{Bucket:n,Region:r},function(e,n){if(e)return t(e);c.emit("get_abort_array",n.UploadList||[])});else if("file"===s){if(!i)return t({error:"abort_upload_task_no_key"});g.call(l,{Bucket:n,Region:r,Key:i},function(e,n){if(e)return t(e);c.emit("get_abort_array",n.UploadList||[])})}else{if("task"!==s)return t({error:"abort_unknown_level"});if(!a)return t({error:"abort_upload_task_no_id"});if(!i)return t({error:"abort_upload_task_no_key"});c.emit("get_abort_array",[{Key:i,UploadId:a}])}}function C(e,t){var n=e.Bucket,r=e.Region,o=e.Key,a=e.AbortArray,s=e.AsyncLimit||1,u=this,l=0,c=new Array(a.length);i.eachLimit(a,s,function(t,i){var a=l;if(o&&o!==t.Key)return c[a]={error:{KeyNotMatch:!0}},void i(null);var s=t.UploadId||t.UploadID;u.multipartAbort({Bucket:n,Region:r,Key:t.Key,Headers:e.Headers,UploadId:s},function(e,o){var u={Bucket:n,Region:r,Key:t.Key,UploadId:s};c[a]={error:e,task:u},i(null)}),l++},function(e){if(e)return t(e);for(var n=[],r=[],i=0,o=c.length;i<o;i++){var a=c[i];a["task"]&&(a["error"]?r.push(a["task"]):n.push(a["task"]))}return t(null,{successList:n,errorList:r})})}function _(e,t){var n=this,r=void 0===e.SliceSize?n.options.SliceSize:e.SliceSize,i=0,o=0,s=a.throttleOnProgress.call(n,o,e.onProgress),u=e.files.length,l=e.onFileFinish,c=Array(u),h=function(e,n,r){s(null,!0),l&&l(e,n,r),c[r.Index]={options:r,error:e,data:n},--u<=0&&t&&t(null,{files:c})},f=[];a.each(e.files,function(e,t){(function(){var n=e.Body,u=n.size||n.length||0,l={Index:t,TaskId:""};i+=u,a.each(e,function(e,t){"object"!==typeof e&&"function"!==typeof e&&(l[t]=e)});var c=e.onTaskReady,d=function(e){l.TaskId=e,c&&c(e)};e.onTaskReady=d;var p=0,g=e.onProgress,m=function(e){o=o-p+e.loaded,p=e.loaded,g&&g(e),s({loaded:o,total:i})};e.onProgress=m;var v=e.onFileFinish,A=function(e,t){v&&v(e,t),h&&h(e,t,l)},y=u>=r?"sliceUploadFile":"putObject";f.push({api:y,params:e,callback:A})})()}),n._addTasks(f)}function T(e,t){var n=new o,r=this,s=e.Bucket,u=e.Region,l=e.Key,c=e.CopySource,h=c.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^\/]+\/(.+)$/);if(h){var f=h[1],d=h[3],p=decodeURIComponent(h[4]),g=void 0===e.CopySliceSize?r.options.CopySliceSize:e.CopySliceSize;g=Math.max(0,g);var m,v,A=e.CopyChunkSize||this.options.CopyChunkSize,y=this.options.CopyChunkParallelLimit,E=0;n.on("copy_slice_complete",function(e){r.multipartComplete({Bucket:s,Region:u,Key:l,UploadId:e.UploadId,Parts:e.PartList},function(e,n){if(e)return v(null,!0),t(e);v({loaded:m,total:m},!0),t(null,n)})}),n.on("get_copy_data_finish",function(e){i.eachLimit(e.PartList,y,function(t,n){var i=t.PartNumber,o=t.CopySourceRange,a=t.end-t.start,h=0;S.call(r,{Bucket:s,Region:u,Key:l,CopySource:c,UploadId:e.UploadId,PartNumber:i,CopySourceRange:o,onProgress:function(e){E+=e.loaded-h,h=e.loaded,v({loaded:E,total:m})}},function(e,r){if(e)return n(e);v({loaded:E,total:m}),E+=a-h,t.ETag=r.ETag,n(e||null,r)})},function(r){if(r)return v(null,!0),t(r);n.emit("copy_slice_complete",e)})}),n.on("get_file_size_finish",function(i){var o;if(function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,i=0;i<t.length;i++)if(n=1024*t[i]*1024,m/n<=r.options.MaxPartNumber)break;e.ChunkSize=A=Math.max(A,n);for(var o=Math.ceil(m/A),a=[],s=1;s<=o;s++){var u=(s-1)*A,l=s*A<m?s*A-1:m-1,c={PartNumber:s,start:u,end:l,CopySourceRange:"bytes="+u+"-"+l};a.push(c)}e.PartList=a}(),o="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:i,o["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||i["x-cos-storage-class"],o=a.clearKey(o),"ARCHIVE"===i["x-cos-storage-class"]){var c=i["x-cos-restore"];if(!c||'ongoing-request="true"'===c)return void t({error:"Unrestored archive object is not allowed to be copied"})}delete o["x-cos-copy-source"],delete o["x-cos-metadata-directive"],delete o["x-cos-copy-source-If-Modified-Since"],delete o["x-cos-copy-source-If-Unmodified-Since"],delete o["x-cos-copy-source-If-Match"],delete o["x-cos-copy-source-If-None-Match"],r.multipartInit({Bucket:s,Region:u,Key:l,Headers:o},function(r,i){if(r)return t(r);e.UploadId=i.UploadId,n.emit("get_copy_data_finish",e)})}),r.headObject({Bucket:f,Region:d,Key:p},function(i,o){if(i)i.statusCode&&404===i.statusCode?t({ErrorStatus:p+" Not Exist"}):t(i);else if(m=e.FileSize=o.headers["content-length"],void 0!==m&&m)if(v=a.throttleOnProgress.call(r,m,e.onProgress),m<=g)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),r.putObjectCopy(e,function(e,n){if(e)return v(null,!0),t(e);v({loaded:m,total:m},!0),t(e,n)});else{var s=o.headers,u={"Cache-Control":s["cache-control"],"Content-Disposition":s["content-disposition"],"Content-Encoding":s["content-encoding"],"Content-Type":s["content-type"],Expires:s["expires"],"x-cos-storage-class":s["x-cos-storage-class"]};a.each(s,function(e,t){var n="x-cos-meta-";0===t.indexOf(n)&&t.length>n.length&&(u[t]=e)}),n.emit("get_file_size_finish",u)}else t({error:'get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.'})})}else t({error:"CopySource format error"})}function S(e,t){var n=e.TaskId,r=e.Bucket,o=e.Region,a=e.Key,s=e.CopySource,u=e.UploadId,l=1*e.PartNumber,c=e.CopySourceRange,h=this.options.ChunkRetryTimes+1,f=this;i.retry(h,function(t){f.uploadPartCopy({TaskId:n,Bucket:r,Region:o,Key:a,CopySource:s,UploadId:u,PartNumber:l,CopySourceRange:c,onProgress:e.onProgress},function(e,n){t(e||null,n)})},function(e,n){return t(e,n)})}var w={sliceUploadFile:s,abortUploadTask:E,uploadFiles:_,sliceCopyFile:T};e.exports.init=function(e,t){t.transferToTaskMethod(w,"sliceUploadFile"),a.each(w,function(t,n){e.prototype[n]=a.apiWrapper(n,t)})}},"24c5":function(e,t,n){"use strict";var r,i,o,a,s=n("b8e3"),u=n("e53d"),l=n("d864"),c=n("40c3"),h=n("63b6"),f=n("f772"),d=n("79aa"),p=n("1173"),g=n("a22a"),m=n("f201"),v=n("4178").set,A=n("aba2")(),y=n("656e"),E=n("4439"),C=n("bc13"),_=n("cd78"),T="Promise",S=u.TypeError,w=u.process,I=w&&w.versions,b=I&&I.v8||"",D=u[T],k="process"==c(w),M=function(){},R=i=y.f,P=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n("5168")("species")]=function(e){e(M,M)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==b.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(r){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;A(function(){var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&x(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?l(S("Promise-chain cycle")):(o=O(n))?o.call(n,u,l):u(n)):l(r)}catch(h){c&&!a&&c.exit(),l(h)}};while(n.length>o)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){v.call(u,function(){var t,n,r,i=e._v,o=B(e);if(o&&(t=E(function(){k?w.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=k||B(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},B=function(e){return 1!==e._h&&0===(e._a||e._c).length},x=function(e){v.call(u,function(){var t;k?w.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},U=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},G=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=O(e))?A(function(){var r={_w:n,_d:!1};try{t.call(e,l(G,r,1),l(U,r,1))}catch(i){U.call(r,i)}}):(n._v=e,n._s=1,L(n,!1))}catch(r){U.call({_w:n,_d:!1},r)}}};P||(D=function(e){p(this,D,T,"_h"),d(e),r.call(this);try{e(l(G,this,1),l(U,this,1))}catch(t){U.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("5c95")(D.prototype,{then:function(e,t){var n=R(m(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(G,e,1),this.reject=l(U,e,1)},y.f=R=function(e){return e===D||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!P,{Promise:D}),n("45f2")(D,T),n("4c95")(T),a=n("584a")[T],h(h.S+h.F*!P,T,{reject:function(e){var t=R(this),n=t.reject;return n(e),t.promise}}),h(h.S+h.F*(s||!P),T,{resolve:function(e){return _(s&&this===a?D:this,e)}}),h(h.S+h.F*!(P&&n("4ee1")(function(e){D.all(e)["catch"](M)})),T,{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=E(function(){var n=[],o=0,a=1;g(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=E(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},"256f":function(e,t,n){"use strict";var r=n("4329"),i=8589934592,o=4294967296,a="shared",s=function(e,t){var n=1;e>t&&(n=-1);while(Math.abs(t-e)>o)e+=n*i;return e},u=function(e){var t,n;u.prototype.init.call(this),this.type_=e||a,this.push=function(e){this.type_!==a&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=s(e.dts,n),e.pts=s(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};u.prototype=new r,e.exports={TimestampRolloverStream:u,handleRollover:s}},2655:function(e,t,n){},2806:function(e,t,n){"use strict";var r,i,o,a,s,u=n("7fe1").toUnsigned,l=n("7fe1").toHexString,c=n("9afa");r=function(e){var t={},n=c.findBox(e,["moov","trak"]);return n.reduce(function(e,t){var n,r,i,o,a;return n=c.findBox(t,["tkhd"])[0],n?(r=n[0],i=0===r?12:20,o=u(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),a=c.findBox(t,["mdia","mdhd"])[0],a?(r=a[0],i=0===r?12:20,e[o]=u(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),e):null):null},t)},i=function(e,t){var n,r,i;return n=c.findBox(t,["moof","traf"]),r=[].concat.apply([],n.map(function(t){return c.findBox(t,["tfhd"]).map(function(n){var r,i,o;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[r]||9e4,o=c.findBox(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n})[0],o=o||1/0,o/i})})),i=Math.min.apply(null,r),isFinite(i)?i:0},o=function(e,t){var n,r=c.findBox(t,["moof","traf"]),i=0,o=0;if(r&&r.length)for(var a=c.parseTraf(r[0]),s=0;s<a.boxes.length;s++)"tfhd"===a.boxes[s].type?n=a.boxes[s].trackId:"tfdt"===a.boxes[s].type?i=a.boxes[s].baseMediaDecodeTime:"trun"===a.boxes[s].type&&a.boxes[s].samples.length&&(o=a.boxes[s].samples[0].compositionTimeOffset||0);var u=e[n]||9e4;return(i+o)/u},a=function(e){var t=c.findBox(e,["moov","trak"]),n=[];return t.forEach(function(e){var t=c.findBox(e,["mdia","hdlr"]),r=c.findBox(e,["tkhd"]);t.forEach(function(e,t){var i,o,a,s=c.parseType(e.subarray(8,12)),u=r[t];"vide"===s&&(i=new DataView(u.buffer,u.byteOffset,u.byteLength),o=i.getUint8(0),a=0===o?i.getUint32(12):i.getUint32(20),n.push(a))})}),n},s=function(e){var t=c.findBox(e,["moov","trak"]),n=[];return t.forEach(function(e){var t,r,i={},o=c.findBox(e,["tkhd"])[0];o&&(t=new DataView(o.buffer,o.byteOffset,o.byteLength),r=t.getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var a=c.findBox(e,["mdia","hdlr"])[0];if(a){var s=c.parseType(a.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var h=c.findBox(e,["mdia","minf","stbl","stsd"])[0];if(h){var f=h.subarray(8);i.codec=c.parseType(f.subarray(4,8));var d,p,g=c.findBox(f,[i.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(d=g.subarray(78),p=c.parseType(d.subarray(4,8)),"avcC"===p&&d.length>11?(i.codec+=".",i.codec+=l(d[9]),i.codec+=l(d[10]),i.codec+=l(d[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(d=g.subarray(28),p=c.parseType(d.subarray(4,8)),"esds"===p&&d.length>20&&0!==d[19]?(i.codec+="."+l(d[19]),i.codec+="."+l(d[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var m=c.findBox(e,["mdia","mdhd"])[0];if(m&&o){var v=0===r?12:20;i.timescale=u(m[v]<<24|m[v+1]<<16|m[v+2]<<8|m[v+3])}n.push(i)}),n},e.exports={findBox:c.findBox,parseType:c.parseType,timescale:r,startTime:i,compositionStartTime:o,videoTrackIds:a,tracks:s}},"29d8":function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(e,t,n){if(!e){if(t instanceof o)return t;e=t}var r={},i=e instanceof Function;function a(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}function o(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function u(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new c,a=n.domBuilder||new o,s=n.errorHandler,u=n.locator,l=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),r.errorHandler=i(s,a,u),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(t)&&(h.nbsp=" ",h.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,h):r.errorHandler.error("invalid doc source"),a.doc},o.prototype={startDocument:function(){this.doc=(new h).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;l(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var u=0;u<s;u++){e=r.getURI(u);var c=r.getValue(u),h=(n=r.getQName(u),i.createAttributeNS(e,n));this.locator&&a(r.getLocator(u),h),h.value=h.nodeValue=c,o.setAttributeNode(h)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),l(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=u.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=u.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&a(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),l(this,i)}},warning:function(e){},error:function(e){},fatalError:function(e){throw e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});var c=n("d61d").XMLReader,h=t.DOMImplementation=n("749c").DOMImplementation;t.XMLSerializer=n("749c").XMLSerializer,t.DOMParser=r},"2b8c":function(e,t,n){var r=n("be09"),i=e.exports={WebVTT:n("d02c"),VTTCue:n("b03c"),VTTRegion:n("f97d")};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=r.VTTCue,u=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=a},i.restore=function(){r.VTTCue=s,r.VTTRegion=u},r.VTTCue||i.shim()},"2de7":function(e,t,n){"use strict";n.r(t),function(e){n("7f7f"),n("a481"),n("4917"),n("c5f6"),n("34ef"),n("6b54"),n("6c7b"),n("ac6a"),n("cadf"),n("456d"),n("ac4d");var t=n("7618");!function(r,i){"object"==("undefined"===typeof exports?"undefined":Object(t["a"])(exports))&&"object"==Object(t["a"])(e)?e.exports=i():"function"==typeof define&&n("3c35")?define([],i):"object"==("undefined"===typeof exports?"undefined":Object(t["a"])(exports))?exports.Encrypt=i():r.Encrypt=i()}(window,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==Object(t["a"])(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(6),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(4);o.inherits=n(0);var a=n(12),s=n(10);o.inherits(h,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(i){"object"==("undefined"===typeof window?"undefined":Object(t["a"])(window))&&(r=window)}e.exports=r},function(e,t,n){var r=n(7),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,n,r){(function(e){function r(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==Object(t["a"])(e)},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===r(e)},n.isObject=function(e){return"object"==Object(t["a"])(e)&&null!==e},n.isDate=function(e){return"[object Date]"===r(e)},n.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Object(t["a"])(e)||void 0===e},n.isBuffer=e.isBuffer}).call(this,r(7).Buffer)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(5))},function(e,t,n){(function(e){
/*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
       * @license  MIT
       */
var r=n(21),i=n(22),o=n(23);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=!1;break}if(h)return o}return-1}function A(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return j(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return E(e,t,n,r)}function _(e,t,n,r){return j(Q(t),e,n,r)}function T(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return b(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function b(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:F(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==Object(t["a"])(e)&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,u=0;u<r;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(12)).Stream=t,t.Readable=t,t.Writable=n(10),t.Duplex=n(1),t.Transform=n(16),t.PassThrough=n(33)},function(e,t,n){(function(t,r,i){var o=n(6);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=A;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;A.WritableState=v;var l=n(4);l.inherits=n(0);var c,h={deprecate:n(32)},f=n(13),d=n(3).Buffer,p=i.Uint8Array||function(){},g=n(14);function m(){}function v(e,t){s=s||n(1),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,i);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||C(e,n),r?u(E,e,n,a,i):E(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function A(e){if(s=s||n(1),!(c.call(A,this)||this instanceof s))return new A(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var n=_(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(A,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===A&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(e,t,n){var r=this._writableState,i=!1,a=!r.objectMode&&function(e){return d.isBuffer(e)||e instanceof p}(e);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=m),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,r,e,n))&&(r.pendingcb++,i=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return u}(this,r,a,e,t,n)),i},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||C(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=g.destroy,A.prototype._undestroy=g.undestroy,A.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(5),n(30).setImmediate,n(2))},function(e,t,n){var r=n(18);e.exports=window.RSA=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=function(e,t){return new r.BigInteger(e,t)}(e,16),this.e=parseInt(t,16)):uv_alert("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return uv_alert("Message too long for RSA"),null;for(var n=[],i=e.length-1;i>=0&&t>0;){var o=e.charCodeAt(i--);n[--t]=o}n[--t]=0;for(var a=new r.SecureRandom,s=[];t>2;){for(s[0]=0;0==s[0];)a.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new r.BigInteger(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},{encrypt:function(t,n,r){n=n||"F20CE00BAE5361F8FA3AE9CEFA495362FF7DA1BA628F64A347F0A8C012BF0B254A30CD92ABFFE7A6EE0DC424CB6166F8819EFA5BCCB20EDFB4AD02E412CCF579B1CA711D55B8B0B3AEB60153D5E0693A2A86F3167D7847A0CB8B00004716A9095D9BADC977CBB804DBDCBA6029A9710869A453F27DFDDF83C016D928B3CBF4C7",r=r||"3";var i=new e;return i.setPublic(n,r),i.encrypt(t)}}}()},function(e,t,n){(function(t,r){var i=n(6);e.exports=y;var o,a=n(26);y.ReadableState=A,n(8).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(13),l=n(3).Buffer,c=t.Uint8Array||function(){},h=n(4);h.inherits=n(0);var f=n(27),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(28),m=n(14);h.inherits(y,u);var v=["error","close","destroy","pause","resume"];function A(e,t){o=o||n(1),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(15).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(1),!(this instanceof y))return new y(e);this._readableState=new A(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function E(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,a)):(i||(o=function(e,t){var n;return function(e){return l.isBuffer(e)||e instanceof c}(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):I(e,a)):C(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),I(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},y.prototype.unshift=function(e){return E(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(15).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(w,e):w(e))}function w(e){d("emit readable"),e.emit("readable"),M(e)}function I(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){d("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?y:c;function l(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",A),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",l);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",h);var f=!1,p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){d("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",A),y()}function A(){d("onfinish"),e.removeListener("close",v),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",v),e.once("finish",A),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(D,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R}).call(this,n(2),n(5))},function(e,t,n){e.exports=n(8).EventEmitter},function(e,t,n){var r=n(6);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(3).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"锟�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"锟�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"锟�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"锟�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var r=n(1),i=n(4);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(0),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){n(11),e.exports=n(19)},function(e,t,n){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],l=this[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},t=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},t=26):(n.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],l=this[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+s*l,n[r++]=268435455&u}return i},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var o,a,s="0123456789abcdefghijklmnopqrstuvwxyz",u=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)u[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)u[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)u[o++]=a;function l(e){return s.charAt(e)}function c(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}function h(e){var t=r();return t.fromInt(e),t}function f(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function d(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e,t){return e&t}function m(e,t){return e|t}function v(e,t){return e^t}function A(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function C(){}function _(e){return e}function T(e){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}d.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},d.prototype.revert=function(e){return e},d.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},d.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&e[i]:c(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),o=r.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+r.t]=r.am(0,i[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var s=r(),u=this.s,l=e.s,c=this.DB-f(o[o.t-1]);c>0?(o.lShiftTo(c,s),a.lShiftTo(c,i)):(o.copyTo(s),a.copyTo(i));var h=s.t,d=s[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),g=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,A=i.t,y=A-h,E=null==t?r():t;for(s.dlShiftTo(y,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),n.ONE.dlShiftTo(h,E),E.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--y>=0;){var C=i[--A]==d?this.DM:Math.floor(i[A]*g+(i[A-1]+v)*m);if((i[A]+=s.am(0,C,i,y,0,h))<C)for(s.dlShiftTo(y,E),i.subTo(E,i);i[A]<--C;)i.subTo(E,i)}null!=t&&(i.drShiftTo(h,t),u!=l&&n.ZERO.subTo(t,t)),i.t=h,i.clamp(),c>0&&i.rShiftTo(c,i),u<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var i=r(),o=r(),a=t.convert(this),s=f(e)-1;for(a.copyTo(i);--s>=0;)if(t.sqrTo(i,o),(e&1<<s)>0)t.mulTo(o,a,i);else{var u=i;i=o,o=u}return t.revert(i)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=l(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=l(n));return i?o:"0"},n.prototype.negate=function(){var e=r();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new d(t):new p(t),this.exp(e,n)},n.ZERO=h(0),n.ONE=h(1),C.prototype.convert=_,C.prototype.revert=_,C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},C.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S,w,I,b=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],D=(1<<26)/b[b.length-1];function k(){!function(e){w[I++]^=255&e,w[I++]^=e>>8&255,w[I++]^=e>>16&255,w[I++]^=e>>24&255,I>=B&&(I-=B)}((new Date).getTime())}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=h(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),o=!1,a=0,s=0,u=0;u<e.length;++u){var l=c(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(s=t*s+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>b.length&&(e=b.length);for(var a=r(),s=0;s<e;++s){a.fromInt(b[Math.floor(Math.random()*b.length)]);var u=a.modPow(o,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(t)){for(var l=1;l++<i&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=r();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=r();return this.bitwiseTo(e,g,t),t},n.prototype.or=function(e){var t=r();return this.bitwiseTo(e,m,t),t},n.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,v,t),t},n.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,A,t),t},n.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=E(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,m)},n.prototype.clearBit=function(e){return this.changeBit(e,A)},n.prototype.flipBit=function(e){return this.changeBit(e,v)},n.prototype.add=function(e){var t=r();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),a=h(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new d(t):t.isEven()?new T(t):new p(t);var s=new Array,u=3,l=n-1,c=(1<<n)-1;if(s[1]=i.convert(this),n>1){var g=r();for(i.sqrTo(s[1],g);u<=c;)s[u]=r(),i.mulTo(g,s[u-2],s[u]),u+=2}var m,v,A=e.t-1,y=!0,E=r();for(o=f(e[A])-1;A>=0;){for(o>=l?m=e[A]>>o-l&c:(m=(e[A]&(1<<o+1)-1)<<l-o,A>0&&(m|=e[A-1]>>this.DB+o-l)),u=n;0==(1&m);)m>>=1,--u;if((o-=u)<0&&(o+=this.DB,--A),y)s[m].copyTo(a),y=!1;else{for(;u>1;)i.sqrTo(a,E),i.sqrTo(E,a),u-=2;u>0?i.sqrTo(a,E):(v=a,a=E,E=v),i.mulTo(E,s[m],a)}for(;A>=0&&0==(e[A]&1<<o);)i.sqrTo(a,E),v=a,a=E,E=v,--o<0&&(o=this.DB-1,--A)}return i.revert(a)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),i=this.clone(),o=h(1),a=h(0),s=h(0),u=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),t&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),t&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},n.prototype.pow=function(e){return this.exp(e,new C)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=b[b.length-1]){for(t=0;t<b.length;++t)if(n[0]==b[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<b.length;){for(var r=b[t],i=t+1;i<b.length&&r<D;)r*=b[i++];for(r=n.modInt(r);t<i;)if(r%b[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=r();return this.squareTo(e),e},n.prototype.Barrett=T,null==w){var M;if(w=new Array,I=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var R=new Uint8Array(32);for(window.crypto.getRandomValues(R),M=0;M<32;++M)w[I++]=R[M]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var P=window.crypto.random(32);for(M=0;M<P.length;++M)w[I++]=255&P.charCodeAt(M)}for(;I<B;)M=Math.floor(65536*Math.random()),w[I++]=M>>>8,w[I++]=255&M;I=0,k()}function O(){if(null==S){for(k(),(S=new N).init(w),I=0;I<w.length;++I)w[I]=0;I=0}return S.next()}function L(){}function N(){this.i=0,this.j=0,this.S=new Array}L.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=O()},N.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},N.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var B=256;e.exports={default:n,BigInteger:n,SecureRandom:L}}).call(this)},function(e,t,n){t.__esModule=!0,t.md5=i,t.getEncPwd=function(e){for(var t=e.vcode||"",n=i(e.pwd||""),r=i(o(n)+e.salt),l=a.strToBytes(t.toUpperCase(),!0),c=Number(l.length/2).toString(16),h=a.strToBytes(e.id),f=Number(h.length/2).toString(16),d=Number(e.sdkAppid).toString(16),p=Number(0).toString(16);c.length<4;)c="0"+c;for(;f.length<4;)f="0"+f;for(;d.length<8;)d="0"+d;for(;p.length<8;)p="0"+p;a.initkey(r);var g=a.encrypt(n+f+h+d+p+c+l);return a.initkey(""),u(s.encrypt(o(g),"00988f6fe99e3d7c72b8b8a1cc9563e9750f5815316de064b531a0bfaa4dd5c2a5ea1f0e9b6e87bbcd19f445a13afada991a8ef60b812c628019741e4337933fb68438d93b62a538da25884627d3d46e6c62a5a41d30a7167a3a1ce5f6ecc3353db98b14a04ce2f777f335223134a900caa74fa79d9ab2c20ce19aaac9c24a82c847fa2eed0704553f75e030d93aa721186576cf5c344015ddc384b6b37add7139531af060548be8060a4bb075cc842bb190343c7f5e0e0b03fe1ca46c29b0df0bec7345888028df47f71fe44a0bd9cb8aed6282c095a75c57b6a604600886744b2965138730b27cf7d173381f0e53523aa1ced6864c09f7cc4135d45c5d4cfcbd","10001"))},t.getRSAH1=function(e){var t=i(e=e||function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<16;n++)t+=e[Math.round(1e3*Math.random())%e.length];return t}());return u(s.encrypt(o(t),"00ccaa91239f0a10fae03522fe6fdc6194007809732b07cb89e04dee9b4fdb9186787659fdf308be6efbc8aa147ffd8b5e4d61aba8a7e40e08af759751e1acc207a3988ce381cca6dfac4c75af1acda8bb3c09dce7a3d43fc23c95eecf56ca0c0c7a7eaeb019c912877757fe23ab28ac7060ee5409da3f0b5f079901475b11ac7d6c5cea1e7bd26a324674878cc31094b62eb407247f3e7f2070bb76a919883eaa114b0a40ea1341bf99dfd131d77343fd113f3a294fc0e19d9cc06989b98a0c14677e589ac41dd414283a3cf7685089d92770e7fde43c6aa443f2822c52fdbba309ea819bea8e4c2f1fac03930081ffd5189de9f025e15c4a1c466b761ba8e7f3","10001"))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20));function i(e){var t=new r["default"];return t.update(e,"ascii"),t.digest("hex").toUpperCase()}function o(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")}var a=n(38),s=n(11);function u(e){return(e=btoa(o(e))).replace(/[\/\+=]/g,function(e){return{"/":"-","+":"*","=":"_"}[e]})}},function(e,t,n){(function(t){var r=n(0),i=n(24),o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,i,o,a){return s(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return s(e+(t&r|n&~r)+i+o|0,a)+t|0}function c(e,t,n,r,i,o,a){return s(e+(t^n^r)+i+o|0,a)+t|0}function h(e,t,n,r,i,o,a){return s(e+(n^(t|~r))+i+o|0,a)+t|0}r(a,i),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;r=h(r=h(r=h(r=h(r=c(r=c(r=c(r=c(r=l(r=l(r=l(r=l(r=u(r=u(r=u(r=u(r,i=u(i,a=u(a,n=u(n,r,i,a,e[0],3614090360,7),r,i,e[1],3905402710,12),n,r,e[2],606105819,17),a,n,e[3],3250441966,22),i=u(i,a=u(a,n=u(n,r,i,a,e[4],4118548399,7),r,i,e[5],1200080426,12),n,r,e[6],2821735955,17),a,n,e[7],4249261313,22),i=u(i,a=u(a,n=u(n,r,i,a,e[8],1770035416,7),r,i,e[9],2336552879,12),n,r,e[10],4294925233,17),a,n,e[11],2304563134,22),i=u(i,a=u(a,n=u(n,r,i,a,e[12],1804603682,7),r,i,e[13],4254626195,12),n,r,e[14],2792965006,17),a,n,e[15],1236535329,22),i=l(i,a=l(a,n=l(n,r,i,a,e[1],4129170786,5),r,i,e[6],3225465664,9),n,r,e[11],643717713,14),a,n,e[0],3921069994,20),i=l(i,a=l(a,n=l(n,r,i,a,e[5],3593408605,5),r,i,e[10],38016083,9),n,r,e[15],3634488961,14),a,n,e[4],3889429448,20),i=l(i,a=l(a,n=l(n,r,i,a,e[9],568446438,5),r,i,e[14],3275163606,9),n,r,e[3],4107603335,14),a,n,e[8],1163531501,20),i=l(i,a=l(a,n=l(n,r,i,a,e[13],2850285829,5),r,i,e[2],4243563512,9),n,r,e[7],1735328473,14),a,n,e[12],2368359562,20),i=c(i,a=c(a,n=c(n,r,i,a,e[5],4294588738,4),r,i,e[8],2272392833,11),n,r,e[11],1839030562,16),a,n,e[14],4259657740,23),i=c(i,a=c(a,n=c(n,r,i,a,e[1],2763975236,4),r,i,e[4],1272893353,11),n,r,e[7],4139469664,16),a,n,e[10],3200236656,23),i=c(i,a=c(a,n=c(n,r,i,a,e[13],681279174,4),r,i,e[0],3936430074,11),n,r,e[3],3572445317,16),a,n,e[6],76029189,23),i=c(i,a=c(a,n=c(n,r,i,a,e[9],3654602809,4),r,i,e[12],3873151461,11),n,r,e[15],530742520,16),a,n,e[2],3299628645,23),i=h(i,a=h(a,n=h(n,r,i,a,e[0],4096336452,6),r,i,e[7],1126891415,10),n,r,e[14],2878612391,15),a,n,e[5],4237533241,21),i=h(i,a=h(a,n=h(n,r,i,a,e[12],1700485571,6),r,i,e[3],2399980690,10),n,r,e[10],4293915773,15),a,n,e[1],2240044497,21),i=h(i,a=h(a,n=h(n,r,i,a,e[8],1873313359,6),r,i,e[15],4264355552,10),n,r,e[6],2734768916,15),a,n,e[13],1309151649,21),i=h(i,a=h(a,n=h(n,r,i,a,e[4],4149444226,6),r,i,e[11],3174756917,10),n,r,e[2],718787259,15),a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a}).call(this,n(7).Buffer)},function(e,t,n){t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(h(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(3).Buffer,i=n(25).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(0)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){e.exports=i;var r=n(8).EventEmitter;function i(){r.call(this)}n(0)(i,r),i.Readable=n(9),i.Writable=n(34),i.Duplex=n(35),i.Transform=n(36),i.PassThrough=n(37),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){var r=n(3).Buffer,i=n(29);function o(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(31),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(5))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation"),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=o;var r=n(16),i=n(4);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(0),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(10)},function(e,t,n){e.exports=n(1)},function(e,t,n){e.exports=n(9).Transform},function(e,t,n){e.exports=n(9).PassThrough},function(e,t){var n="",r=0,i=[],o=[],a=0,s=0,u=[],l=[],c=!0;function h(){return Math.round(4294967295*Math.random())}function f(e,t,n){(!n||n>4)&&(n=4);for(var r=0,i=t;i<t+n;i++)r<<=8,r|=e[i];return(4294967295&r)>>>0}function d(e,t,n){e[t+3]=n>>0&255,e[t+2]=n>>8&255,e[t+1]=n>>16&255,e[t+0]=n>>24&255}function p(e){if(!e)return"";for(var t="",n=0;n<e.length;n++){var r=Number(e[n]).toString(16);1==r.length&&(r="0"+r),t+=r}return t}function g(e){i=new Array(8),o=new Array(8),a=s=0,c=!0,r=0;var t=e.length,n=0;0!=(r=(t+10)%8)&&(r=8-r),u=new Array(t+r+10),i[0]=255&(248&h()|r);for(var l=1;l<=r;l++)i[l]=255&h();for(r++,l=0;l<8;l++)o[l]=0;for(n=1;n<=2;)r<8&&(i[r++]=255&h(),n++),8==r&&m();for(l=0;t>0;)r<8&&(i[r++]=e[l++],t--),8==r&&m();for(n=1;n<=7;)r<8&&(i[r++]=0,n++),8==r&&m();return u}function m(){for(var e=0;e<8;e++)i[e]^=c?o[e]:u[s+e];var t=function(e){for(var t=16,r=f(e,0,4),i=f(e,4,4),o=f(n,0,4),a=f(n,4,4),s=f(n,8,4),u=f(n,12,4),l=0;t-- >0;)i=(4294967295&(i+=((r=(4294967295&(r+=(i<<4)+o^i+(l=(4294967295&(l+=2654435769))>>>0)^(i>>>5)+a))>>>0)<<4)+s^r+l^(r>>>5)+u))>>>0;var c=new Array(8);return d(c,0,r),d(c,4,i),c}(i);for(e=0;e<8;e++)u[a+e]=t[e]^o[e],o[e]=i[e];s=a,a+=8,r=0,c=!1}function v(e){for(var t=16,r=f(e,0,4),i=f(e,4,4),o=f(n,0,4),a=f(n,4,4),s=f(n,8,4),u=f(n,12,4),l=3816266640;t-- >0;)r=(4294967295&(r-=((i=(4294967295&(i-=(r<<4)+s^r+l^(r>>>5)+u))>>>0)<<4)+o^i+l^(i>>>5)+a))>>>0,l=(4294967295&(l-=2654435769))>>>0;var c=new Array(8);return d(c,0,r),d(c,4,i),c}function A(){l.length;for(var e=0;e<8;e++)o[e]^=l[a+e];return o=v(o),a+=8,r=0,!0}function y(e,t){var n=[];if(t)for(var r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);else{var i=0;for(r=0;r<e.length;r+=2)n[i++]=parseInt(e.substr(r,2),16)}return n}var E={encrypt:function(e,t){return p(g(y(e,t)))},enAsBase64:function(e,t){for(var n=g(y(e,t)),r="",i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return btoa(r)},decrypt:function(e){return p(function(e){var t=0,n=new Array(8),i=e.length;if(l=e,i%8!=0||i<16)return null;if(o=v(e),(t=i-(r=7&o[0])-10)<0)return null;for(var c=0;c<n.length;c++)n[c]=0;u=new Array(t),s=0,a=8,r++;for(var h=1;h<=2;)if(r<8&&(r++,h++),8==r&&(n=e,!A()))return null;for(c=0;0!=t;)if(r<8&&(u[c]=255&(n[s+r]^o[r]),c++,t--,r++),8==r&&(n=e,s=a-8,!A()))return null;for(h=1;h<8;h++){if(r<8){if(0!=(n[s+r]^o[r]))return null;r++}if(8==r&&(n=e,s=a,!A()))return null}return u}(y(e,!1)))},initkey:function(e,t){n=y(e,t)},bytesToStr:function(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},strToBytes:function(e,t){if(!e)return"";t&&(e=function(e){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>0&&n<=127?r.push(e.charAt(t)):n>=128&&n<=2047?r.push(String.fromCharCode(192|n>>6&31),String.fromCharCode(128|63&n)):n>=2048&&n<=65535&&r.push(String.fromCharCode(224|n>>12&15),String.fromCharCode(128|n>>6&63),String.fromCharCode(128|63&n));return r.join("")}(e));for(var n=[],r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return p(n)},bytesInStr:p,dataFromStr:y},C={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte:function(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n},encode:function(e){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var t,n,r=C.PADCHAR,i=C.ALPHA,o=C.getbyte,a=[],s=(e=""+e).length-e.length%3;if(0==e.length)return e;for(t=0;t<s;t+=3)n=o(e,t)<<16|o(e,t+1)<<8|o(e,t+2),a.push(i.charAt(n>>18)),a.push(i.charAt(n>>12&63)),a.push(i.charAt(n>>6&63)),a.push(i.charAt(63&n));switch(e.length-s){case 1:n=o(e,t)<<16,a.push(i.charAt(n>>18)+i.charAt(n>>12&63)+r+r);break;case 2:n=o(e,t)<<16|o(e,t+1)<<8,a.push(i.charAt(n>>18)+i.charAt(n>>12&63)+i.charAt(n>>6&63)+r)}return a.join("")}};window.btoa||(window.btoa=C.encode),e.exports=E}])})}.call(this,n("dd40")(e))},"2eff":function(e,t,n){"use strict";n.r(t);n("e7e5");var r=n("d399"),i=(n("28a5"),n("e23e")),o=n.n(i),a=n("3438"),s=n.n(a),u=n("7642"),l=n("b8da"),c=n("4360"),h=n("a18c"),f=n("5f9c"),d=n("4db0");window.SERVER="https://live.meetao.com/interface.php?";var p={SDKAppID:1400022322},g=o.a.create(p);function m(){f["a"].userId||Object(d["i"])(),Object(l["k"])({userId:f["a"].userId,access_token:f["a"].access_token,globalUid:f["a"].globalUid,simt_token:f["a"].access_token,pt_:"fxh5c",v_:"1.0",m_:"h5"}).then(function(e){window.userinfo=e.data.result}),Object(u["d"])({liveId:h["a"].history.current.query.liveId}).then(function(e){if(0==e.tag){var t=e.data;t.result.liveshowUnique.split("_");window.room_id=t.result.roomId,window.username=t.result.compereName,Object(u["a"])({globalUid:f["a"].globalUid}).then(function(e){g.registerPlugin({"cos-js-sdk":s.a});var n=g.login({userID:f["a"].globalUid,userSig:e.data.result});n.then(function(e){}).catch(function(e){});var r=g.joinGroup({groupID:t.result.roomId,type:o.a.TYPES.GRP_AVCHATROOM});r.then(function(e){switch(e.data.status){case o.a.TYPES.JOIN_STATUS_WAIT_APPROVAL:break;case o.a.TYPES.JOIN_STATUS_SUCCESS:break;default:break}}).catch(function(e){})})}})}g.setLogLevel(0),window.room_id=null,window.username=null,window.times=setInterval(function(){h["a"].history.current.query&&(clearInterval(window.times),m())},2e3),window.accountMode=1,window.allinfo=null,window.sdkAppID=0,window.accountType=0,accountMode=0,sdkAppID=1400076568,accountType=24378,window.userinfo=null,window.sendmsg=function(e){if(!window.userinfo)return Object(r["a"])("没有用户信息");var t={cmd:"CustomCmdMsg",data:{cmd:"5",msg:e,userAvatar:window.userinfo.headImgUrl,userName:window.userinfo.nickName}},n=g.createCustomMessage({to:window.room_id,conversationType:o.a.TYPES.CONV_GROUP,payload:{data:JSON.stringify(t)}});g.sendMessage(n);return Promise.resolve()},window.sendGroupmsg=function(e){if(!window.userinfo)return Object(r["a"])("没有用户信息");var t={cmd:"CustomCmdMsg",data:{cmd:"2",msg:"",userAvatar:window.userinfo.headImgUrl,userName:window.userinfo.nickName}},n=g.createCustomMessage({to:window.room_id,conversationType:o.a.TYPES.CONV_GROUP,payload:{data:JSON.stringify(t)}});g.sendMessage(n);return Promise.resolve()},window.avChatRoomId="@#aJIPTVAEE",webim.Tool.getQueryString("groupid")&&(avChatRoomId=webim.Tool.getQueryString("groupid")),window.selType=webim.SESSION_TYPE.GROUP,window.selToID=avChatRoomId,window.selSess=null,window.selSessHeadUrl="img/2017.jpg",window.loginInfo={sdkAppID:"",appIDAt3rd:"",accountType:"",identifier:"",identifierNick:"",userSig:"",headurl:""},window.onGroupSystemNotifys={5:onDestoryGroupNotify,11:onRevokeGroupNotify,255:onCustomGroupNotify},window.onConnNotify=function(e){switch(e.ErrorCode){case webim.CONNECTION_STATUS.ON:break;case webim.CONNECTION_STATUS.OFF:webim.Log.warn("连接已断开，无法收到新消息，请检查下你的网络是否正常");break;default:webim.Log.error("未知连接状态,status="+e.ErrorCode);break}},window.listeners={onConnNotify:onConnNotify,jsonpCallback:jsonpCallback,onBigGroupMsgNotify:onBigGroupMsgNotify,onMsgNotify:onMsgNotify,onGroupSystemNotifys:onGroupSystemNotifys,onGroupInfoChangeNotify:onGroupInfoChangeNotify},window.isAccessFormalEnv=!0,"false"==webim.Tool.getQueryString("isAccessFormalEnv")&&(isAccessFormalEnv=!1),window.isLogOn=!1,window.options={isAccessFormalEnv:isAccessFormalEnv,isLogOn:isLogOn},window.openEmotionFlag=!1;var v=function(e){sendGroupmsg()};g.on(o.a.EVENT.SDK_READY,v),g.on(o.a.EVENT.SDK_READY,function(e){});var A="",y=!1;g.on(o.a.EVENT.MESSAGE_RECEIVED,function(e){if(e.data[0].payload.data&&y&&A<e.data[0].time){var t=c["a"].state.alldata.concat([e.data[0].payload.data]);c["a"].commit("SET_ALLDATA",t)}y=!0}),g.on(o.a.EVENT.CONVERSATION_LIST_UPDATED,function(e){}),g.on(o.a.EVENT.GROUP_LIST_UPDATED,function(e){if(A<e.data[0].lastMessage.lastTime&&""!==e.data[0].lastMessage.lastTime){if(A=e.data[0].lastMessage.lastTime,1==e.data[0].lastMessage.payload.groupJoinType||!e.data[0].lastMessage.payload.data)return;var t=e.data[0].lastMessage.payload.data,n=c["a"].state.alldata.concat(t);c["a"].commit("SET_ALLDATA",n)}}),g.on(o.a.EVENT.GROUP_SYSTEM_NOTICE_RECEIVED,function(e){}),g.on(o.a.EVENT.PROFILE_UPDATED,function(e){}),g.on(o.a.EVENT.BLACKLIST_UPDATED,function(e){}),g.on(o.a.EVENT.ERROR,function(e){}),g.on(o.a.EVENT.SDK_NOT_READY,function(e){}),g.on(o.a.EVENT.KICKED_OUT,function(e){m()})},"2f21":function(e,t,n){"use strict";var r=n("79e5");e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},3024:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"31ce":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n("818b"),s=i(a),u=n("8890"),l=i(u),c=n("cdad"),h=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},f=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new s["default"](Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(u=n[0],l=n[1],c=n[2],f=n[3],v=0;v<r.length;v+=4)d=h(r[v]),p=h(r[v+1]),g=h(r[v+2]),m=h(r[v+3]),i.decrypt(d,p,g,m,a,v),a[v]=h(a[v]^u),a[v+1]=h(a[v+1]^l),a[v+2]=h(a[v+2]^c),a[v+3]=h(a[v+3]^f),u=d,l=p,c=g,f=m;return o};t.decrypt=f;var d=function(){function e(t,n,r,i){o(this,e);var a=e.STEP,s=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),f=0;for(this.asyncStream_=new l["default"],this.asyncStream_.push(this.decryptChunk_(s.subarray(f,f+a),n,r,u)),f=a;f<s.length;f+=a)r=new Uint32Array([h(s[f-4]),h(s[f-3]),h(s[f-2]),h(s[f-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(f,f+a),n,r,u));this.asyncStream_.push(function(){i(null,(0,c.unpad)(u))})}return r(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var i=f(e,t,n);r.set(i,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();t.Decrypter=d,t["default"]={Decrypter:d,decrypt:f}},3438:function(e,t,n){var r=n("164b");e.exports=r},"36c6":function(e,t){var n,r,i,o,a,s,u,l=9e4;n=function(e){return e*l},r=function(e,t){return e*t},i=function(e){return e/l},o=function(e,t){return e/t},a=function(e,t){return n(o(e,t))},s=function(e,t){return r(i(e),t)},u=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:u}},3702:function(e,t,n){var r=n("481b"),i=n("5168")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},"3c11":function(e,t,n){"use strict";var r=n("63b6"),i=n("584a"),o=n("e53d"),a=n("f201"),s=n("cd78");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},"3c35":function(e,t){(function(t){e.exports=t}).call(this,{})},"40c3":function(e,t,n){var r=n("6b4c"),i=n("5168")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},4178:function(e,t,n){var r,i,o,a=n("d864"),s=n("3024"),u=n("32fc"),l=n("1ec9"),c=n("e53d"),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,m=0,v={},A="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},E=function(e){y.call(e.data)};f&&d||(f=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},d=function(e){delete v[e]},"process"==n("6b4c")(h)?r=function(e){h.nextTick(a(y,e,1))}:g&&g.now?r=function(e){g.now(a(y,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=E,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",E,!1)):r=A in l("script")?function(e){u.appendChild(l("script"))[A]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:d}},"423e":function(e,t,n){"use strict";var r=n("ae75"),i=function(e){var t=31&e[1];return t<<=8,t|=e[2],t},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},u=function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},l=function(e){var t={},n=o(e),r=4+a(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i,s,u;i=(15&e[r+1])<<8|e[r+2],s=3+i-4,u=(15&e[r+10])<<8|e[r+11];var l=12+u;while(l<s){var c=r+l;t[(31&e[c+1])<<8|e[c+2]]=e[c],l+=5+((15&e[c+3])<<8|e[c+4])}return t}},c=function(e,t){var n=i(e),o=t[n];switch(o){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},h=function(e){var t=o(e);if(!t)return null;var n=4+a(e);if(n>=e.byteLength)return null;var r,i=null;return r=e[n+7],192&r&&(i={},i.pts=(14&e[n+9])<<27|(255&e[n+10])<<20|(254&e[n+11])<<12|(255&e[n+12])<<5|(254&e[n+13])>>>3,i.pts*=4,i.pts+=(6&e[n+13])>>>1,i.dts=i.pts,64&r&&(i.dts=(14&e[n+14])<<27|(255&e[n+15])<<20|(254&e[n+16])<<12|(255&e[n+17])<<5|(254&e[n+18])>>>3,i.dts*=4,i.dts+=(6&e[n+18])>>>1)),i},f=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},d=function(e){for(var t,n=4+a(e),r=e.subarray(n),i=0,o=0,s=!1;o<r.byteLength-3;o++)if(1===r[o+2]){i=o+5;break}while(i<r.byteLength)switch(r[i]){case 0:if(0!==r[i-1]){i+=2;break}if(0!==r[i-2]){i++;break}o+3!==i-2&&(t=f(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0));do{i++}while(1!==r[i]&&i<r.length);o=i-2,i+=3;break;case 1:if(0!==r[i-1]||0!==r[i-2]){i+=3;break}t=f(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0),o=i-2,i+=3;break;default:i+=3;break}return r=r.subarray(o),i-=o,o=0,r&&r.byteLength>3&&(t=f(31&r[o+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0)),s};e.exports={parseType:s,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:o,parsePesType:c,parsePesTime:h,videoPacketContainsKeyFrame:d}},4329:function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t],n)if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},r.prototype.partialFlush=function(e){this.trigger("partialdone",e)},r.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},r.prototype.reset=function(e){this.trigger("reset",e)},e.exports=r},"43fc":function(e,t,n){"use strict";var r=n("63b6"),i=n("656e"),o=n("4439");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},4439:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},4491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){i(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=void 0;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;if(t=this.listeners[e],t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t["default"]=o,e.exports=t["default"]},"466b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("fc85"),a=h(o),s=n("ddac"),u=h(s),l=n("59a0"),c=h(l);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new u["default"],e.parseStream=new c["default"],e.lineStream.pipe(e.parseStream);var n=e,i=[],o={},a=void 0,s=void 0,l=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,u=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(s.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):s=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,p=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){a={},e.uri&&(a.uri=e.uri),e.byterange&&(a.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||h,e.attributes?(o.attributes||(o.attributes={}),r(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],u={default:/yes/i.test(e.attributes.DEFAULT)},u["default"]?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){p+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}}[e.tagType]||l).call(n)},uri:function(){o.uri=e.uri,i.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),s&&(o.key=s),o.timeline=p,a&&(o.map=a),o={}},comment:function(){}})[e.type].call(n)}),e}return p(t,e),i(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(a["default"]);t["default"]=g},"4c95":function(e,t,n){"use strict";var r=n("e53d"),i=n("584a"),o=n("d9f6"),a=n("8e60"),s=n("5168")("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},"4e69":function(e,t,n){"use strict";var r=n("4329"),i=n("dc6d"),o=function(){o.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new h(0,0),new h(0,1),new h(1,0),new h(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};o.prototype=new r,o.prototype.push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP),t.payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(n=i.parseUserData(t),n)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=i.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},o.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},o.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},o.prototype.flush=function(){return this.flushStream("flush")},o.prototype.partialFlush=function(){return this.flushStream("partialFlush")},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},o.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},o.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},u=14,l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){var e=[],t=u+1;while(t--)e.push("");return e},h=function(e,t){h.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if(t=32639&e.ccData,t!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=c();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,o=s(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(3&r)<<8,o=s(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=s(r),o+=s(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};h.prototype=new r,h.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(t){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},h.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=u,this.rollUpRows_=2,this.formatting_=[]},h.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},h.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},h.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},h.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},h.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},h.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},h.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},h.prototype.isNormalChar=function(e){return e>=32&&e<=127},h.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=u,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},h.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},h.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},h.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},h.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},h.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<u+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},h.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:o,Cea608Stream:h}},"4ee1":function(e,t,n){var r=n("5168")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(a){}return n}},"53a8":function(e,t){e.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}},"554b":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:""}},[n("loading",{ref:"load"}),n("div",{staticClass:"video-page",staticStyle:{display:"block"},attrs:{id:"j-video-page"}},[e._m(0),n("div",{staticClass:"downloadbtn jump",on:{click:e.downApp}},[n("p",[e._v("打开app")])]),n("div",{staticClass:"video-pane"},[e._m(1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.endoff,expression:"endoff"}],staticClass:"header"},[n("div",{staticClass:"person_header"},[n("img",{attrs:{src:e.compereHeadImgUrl?e.compereHeadImgUrl:"http://h5.meetao.com/h5/xPace/discount_sharew.jpg",alt:""}}),n("div",{staticClass:"bane_name",domProps:{textContent:e._s(e.liveshowName?e.liveshowName:"佚名")}})]),n("div",{staticClass:"end_content"},[n("div",{staticClass:"content1 "},[e._v("直播结束")]),n("div",{staticClass:"end_info"},[n("div",{staticClass:"end_detail"},[n("div",{staticClass:"end_time"},[e._v(e._s(e.timstr?e.timstr:"00:00:00"))]),n("div",{staticClass:"end_txt"},[e._v("直播时长")])]),n("div",{staticClass:"end_detail"},[n("div",{staticClass:"end_time"},[e._v(e._s(e.liveshowRealNum?e.liveshowRealNum:0))]),n("div",{staticClass:"end_txt"},[e._v("观看人数")])])])])]),n("div",{staticClass:"video-pane-body"},[n("div",{staticClass:"video-discuss"},[n("ul",{staticClass:"video-sms-list",attrs:{id:"video_sms_list"}}),n("div",{staticClass:"video-discuss-pane"},[e._m(2),e._m(3),n("div",{staticClass:"video-discuss-form",staticStyle:{display:"none"},attrs:{id:"video-discuss-form"}},[n("input",{staticClass:"video-discuss-input",attrs:{type:"text",id:"send_msg_text"}}),n("button",{staticClass:"video-discuss-button j-btn-send-msg",on:{click:e.send}},[e._v("发送")])]),e._m(4)])])]),n("fulltalk",{staticClass:"talk_more",attrs:{alldata:e.noticedata},on:{father:e.father}})],1),n("div",{staticClass:"talk_input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.info,expression:"info"}],staticClass:"talk_content",attrs:{type:"text",placeholder:"说点什么吧…"},domProps:{value:e.info},on:{blur:e.blur,input:function(t){t.target.composing||(e.info=t.target.value)}}}),n("span",{staticClass:"send"},[e._v("发送")])])])],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-play",attrs:{id:"PlayerContainer"}},[n("video",{staticClass:"video-js vjs-default-skin vjs-big-play-centered",staticStyle:{height:"100%",width:"100%"},attrs:{id:"player",controls:"",preload:"auto","x-webkit-airplay":"allow","webkit-playsinline":"",playsinline:"","x5-video-player-type":"h5","x5-video-player-fullscreen":"true",onerror:"loadErrorMessage()"}},[n("source",{attrs:{src:"",type:"application/x-mpegURL"}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-pane-head"},[n("div",{staticClass:"video-pane-info"},[n("div",{staticClass:"video-info"},[n("div",{staticClass:"user-img j-user-avatar"}),n("div",{staticClass:"user-info-text"},[n("div",{staticClass:"user-info-name j-user-name"},[e._v(" ")]),n("div",{staticClass:"user-info-num"},[n("i",{staticClass:"user-icon-like"}),n("span",{attrs:{id:"user-icon-like"}},[e._v("0")])])])])]),n("a",{staticClass:"j-btn-logout btn btn-logout",staticStyle:{display:"none"}},[e._v("退出")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pane-login",staticStyle:{display:"none"},attrs:{id:"j-pane-login"}},[n("a",{staticClass:"btn video-discuss-login j-btn-login"},[e._v("用户登录")]),n("a",{staticClass:"btn video-discuss-anologin j-btn-anologin"},[e._v("游客登录")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-discuss-tool",staticStyle:{display:"none"},attrs:{id:"video-discuss-tool"}},[n("a",{staticClass:"video-discuss-sms j-btn-sms"}),n("a",{staticClass:"video-discuss-like j-btn-like"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-discuss-emotion",staticStyle:{display:"none"},attrs:{id:"video-discuss-emotion"}},[n("div",{staticClass:"video-emotion-pane"},[n("ul",{attrs:{id:"emotionUL"}})])])}],o=(n("96cf"),n("795b")),a=n.n(o);function s(e,t,n,r,i,o,s){try{var u=e[o](s),l=u.value}catch(c){return void n(c)}u.done?t(l):a.a.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new a.a(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)})}}n("b54a"),n("a481"),n("28a5");var l=n("bd86"),c=(n("c5f6"),n("097d"),n("4917"),n("e7e5"),n("d399")),h=(n("7618"),n("6b54"),n("4db0")),f=n("1157"),d=n.n(f),p=n("7642"),g=n("bcd4"),m=n("cae9"),v=(n("ba56"),n("be09")),A=n.n(v),y=n("ef34"),E=n.n(y),C=n("8c10"),_=n.n(C),T=n("df33"),S=n.n(T),w=n("eec7"),I=n.n(w),b=n("2b8c"),D=n.n(b),k=n("d136"),M=n.n(k),R=n("c795"),P=n("8484"),O=n("9afa"),L=n.n(O),N=n("2806"),B=n.n(N),x=n("a8e0"),U=n.n(x),G=n("dc3e"),F=n.n(G),Q=n("b483"),j="7.6.6",H=[],K=function(e,t){return function(n,r,i){var o=t.levels[r],a=new RegExp("^("+o+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),H&&H.push([].concat(i)),A.a.console){var s=A.a.console[n];s||"debug"!==n||(s=A.a.console.info||A.a.console.log),s&&o&&a.test(n)&&s[Array.isArray(i)?"apply":"call"](A.a.console,i)}}};function Y(e){var t,n="info",r=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t("log",n,r)};return t=K(e,r),r.createLogger=function(t){return Y(e+": "+t)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=function(e){if("string"===typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},r.history=function(){return H?[].concat(H):[]},r.history.filter=function(e){return(H||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},r.history.clear=function(){H&&(H.length=0)},r.history.disable=function(){null!==H&&(H.length=0,H=null)},r.history.enable=function(){null===H&&(H=[])},r.error=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t("error",n,r)},r.warn=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t("warn",n,r)},r.debug=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t("debug",n,r)},r}var q=Y("VIDEOJS"),J=q.createLogger,V=Object.prototype.toString,W=function(e){return $(e)?Object.keys(e):[]};function z(e,t){W(e).forEach(function(n){return t(e[n],n)})}function X(e,t,n){return void 0===n&&(n=0),W(e).reduce(function(n,r){return t(n,e[r],r)},n)}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&z(t,function(t,n){e[n]=t})}),e)}function $(e){return!!e&&"object"===typeof e}function ee(e){return $(e)&&"[object Object]"===V.call(e)&&e.constructor===Object}function te(e,t){if(!e||!t)return"";if("function"===typeof A.a.getComputedStyle){var n=A.a.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function ne(e){return"string"===typeof e&&/\S/.test(e)}function re(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function ie(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function oe(){return E.a===A.a.document}function ae(e){return $(e)&&1===e.nodeType}function se(){try{return A.a.parent!==A.a.self}catch(e){return!0}}function ue(e){return function(t,n){if(!ne(t))return E.a[e](null);ne(n)&&(n=E.a.querySelector(n));var r=ae(n)?n:E.a;return r[e]&&r[e](t)}}function le(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=E.a.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(q.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?ce(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&ke(i,r),i}function ce(e,t){return"undefined"===typeof e.textContent?e.innerText=t:e.textContent=t,e}function he(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function fe(e,t){return re(t),e.classList?e.classList.contains(t):ie(t).test(e.className)}function de(e,t){return e.classList?e.classList.add(t):fe(e,t)||(e.className=(e.className+" "+t).trim()),e}function pe(e,t){return e.classList?e.classList.remove(t):(re(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function ge(e,t,n){var r=fe(e,t);if("function"===typeof n&&(n=n(e,t)),"boolean"!==typeof n&&(n=!r),n!==r)return n?de(e,t):pe(e,t),e}function me(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"===typeof r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function ve(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!==typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function Ae(e,t){return e.getAttribute(t)}function ye(e,t,n){e.setAttribute(t,n)}function Ee(e,t){e.removeAttribute(t)}function Ce(){E.a.body.focus(),E.a.onselectstart=function(){return!1}}function _e(){E.a.onselectstart=function(){return!0}}function Te(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(te(e,"height"))),n.width||(n.width=parseFloat(te(e,"width"))),n}}function Se(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=E.a.documentElement,r=E.a.body,i=n.clientLeft||r.clientLeft||0,o=A.a.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=A.a.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function we(e,t){var n={},r=Se(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function Ie(e){return $(e)&&3===e.nodeType}function be(e){while(e.firstChild)e.removeChild(e.firstChild);return e}function De(e){return"function"===typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"===typeof e&&(e=e()),ae(e)||Ie(e)?e:"string"===typeof e&&/\S/.test(e)?E.a.createTextNode(e):void 0}).filter(function(e){return e})}function ke(e,t){return De(t).forEach(function(t){return e.appendChild(t)}),e}function Me(e,t){return ke(be(e),t)}function Re(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var Pe,Oe=ue("querySelector"),Le=ue("querySelectorAll"),Ne=Object.freeze({isReal:oe,isEl:ae,isInFrame:se,createEl:le,textContent:ce,prependTo:he,hasClass:fe,addClass:de,removeClass:pe,toggleClass:ge,setAttributes:me,getAttributes:ve,getAttribute:Ae,setAttribute:ye,removeAttribute:Ee,blockTextSelection:Ce,unblockTextSelection:_e,getBoundingClientRect:Te,findPosition:Se,getPointerPosition:we,isTextNode:Ie,emptyEl:be,normalizeContent:De,appendContent:ke,insertContent:Me,isSingleLeftClick:Re,$:Oe,$$:Le}),Be=!1,xe=function(){if(oe()&&!1!==Pe.options.autoSetup){var e=Array.prototype.slice.call(E.a.getElementsByTagName("video")),t=Array.prototype.slice.call(E.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(E.a.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){Ue(1);break}if(void 0===a.player){var s=a.getAttribute("data-setup");null!==s&&Pe(a)}}else Be||Ue(1)}};function Ue(e,t){t&&(Pe=t),A.a.setTimeout(xe,e)}function Ge(){Be=!0,A.a.removeEventListener("load",Ge)}oe()&&("complete"===E.a.readyState?Ge():A.a.addEventListener("load",Ge));var Fe,Qe=function(e){var t=E.a.createElement("style");return t.className=e,t},je=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},He=3,Ke=He;function Ye(){return Ke++}A.a.WeakMap||(Fe=function(){function e(){this.vdata="vdata"+Math.floor(A.a.performance&&A.a.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Ye();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];q("We have no data for this element",e)},t.has=function(e){var t=e[this.vdata];return t in this.data},t["delete"]=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var qe=A.a.WeakMap?new WeakMap:new Fe;function Je(e,t){if(qe.has(e)){var n=qe.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&qe["delete"](e)}}function Ve(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function We(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||A.a.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||E.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=E.a.documentElement,a=E.a.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var ze=!1;(function(){try{var e=Object.defineProperty({},"passive",{get:function(){ze=!0}});A.a.addEventListener("test",null,e),A.a.removeEventListener("test",null,e)}catch(t){}})();var Xe=["touchstart","touchmove"];function Ze(e,t,n){if(Array.isArray(t))return Ve(Ze,e,t,n);qe.has(e)||qe.set(e,{});var r=qe.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Ye()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=We(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s;a++){if(t.isImmediatePropagationStopped())break;try{o[a].call(e,t,n)}catch(u){q.error(u)}}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;ze&&Xe.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function $e(e,t,n){if(qe.has(e)){var r=qe.get(e);if(r.handlers){if(Array.isArray(t))return Ve($e,e,t,n);var i=function(e,t){r.handlers[t]=[],Je(e,t)};if(void 0!==t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);Je(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function et(e,t,n){var r=qe.has(e)?qe.get(e):{},i=e.parentNode||e.ownerDocument;if("string"===typeof t?t={type:t,target:e}:t.target||(t.target=e),t=We(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)et.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){qe.has(t.target)||qe.set(t.target,{});var o=qe.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"===typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function tt(e,t,n){if(Array.isArray(t))return Ve(tt,e,t,n);var r=function r(){$e(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ye(),Ze(e,t,r)}function nt(e,t,n){var r=function r(){$e(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Ye(),Ze(e,t,r)}var rt,it=Object.freeze({fixEvent:We,on:Ze,off:$e,trigger:et,one:tt,any:nt}),ot=30,at=function(e,t,n){t.guid||(t.guid=Ye());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},st=function(e,t){var n=A.a.performance.now(),r=function(){var r=A.a.performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r},ut=function(e,t,n,r){var i;void 0===r&&(r=A.a);var o=function(){r.clearTimeout(i),i=null},a=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||e.apply(o,a)};!i&&n&&e.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,t)};return a.cancel=o,a},lt=function(){};lt.prototype.allowedEvents_={},lt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ze(this,e,t),this.addEventListener=n},lt.prototype.addEventListener=lt.prototype.on,lt.prototype.off=function(e,t){$e(this,e,t)},lt.prototype.removeEventListener=lt.prototype.off,lt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},tt(this,e,t),this.addEventListener=n},lt.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},nt(this,e,t),this.addEventListener=n},lt.prototype.trigger=function(e){var t=e.type||e;"string"===typeof e&&(e={type:t}),e=We(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),et(this,e)},lt.prototype.dispatchEvent=lt.prototype.trigger,lt.prototype.queueTrigger=function(e){var t=this;rt||(rt=new Map);var n=e.type||e,r=rt.get(this);r||(r=new Map,rt.set(this,r));var i=r.get(n);r["delete"](n),A.a.clearTimeout(i);var o=A.a.setTimeout(function(){0===r.size&&(r=null,rt["delete"](t)),t.trigger(e)},0);r.set(n,o)};var ct=function(e){return e instanceof lt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"===typeof e[t]})},ht=function(e,t){ct(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},ft=function(e){return"string"===typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},dt=function(e){if(!e.nodeName&&!ct(e))throw new Error("Invalid target; must be a DOM node or evented object.")},pt=function(e){if(!ft(e))throw new Error("Invalid event type; must be a non-empty string or array.")},gt=function(e){if("function"!==typeof e)throw new Error("Invalid listener; must be a function.")},mt=function(e,t){var n,r,i,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],i=t[1]):(n=t[0],r=t[1],i=t[2]),dt(n),pt(r),gt(i),i=at(e,i),{isTargetingSelf:o,target:n,type:r,listener:i}},vt=function(e,t,n,r){dt(e),e.nodeName?it[t](e,n,r):e[t](n,r)},At={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(vt(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,vt(this,"on","dispose",l),vt(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)vt(a,"one",s,u);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];u.apply(null,r)};l.guid=u.guid,vt(a,"one",s,l)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)vt(a,"any",s,u);else{var l=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];u.apply(null,r)};l.guid=u.guid,vt(a,"any",s,l)}},off:function(e,t,n){if(!e||ft(e))$e(this.eventBusEl_,e,t);else{var r=e,i=t;dt(r),pt(i),gt(n),n=at(this,n),this.off("dispose",n),r.nodeName?($e(r,i,n),$e(r,"dispose",n)):ct(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return et(this.eventBusEl_,e,t)}};function yt(e,t){void 0===t&&(t={});var n=t,r=n.eventBusKey;if(r){if(!e[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');e.eventBusEl_=e[r]}else e.eventBusEl_=le("span",{className:"vjs-event-bus"});return Z(e,At),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),A.a.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Et={state:{},setState:function(e){var t,n=this;return"function"===typeof e&&(e=e()),z(e,function(e,r){n.state[r]!==e&&(t=t||{},t[r]={from:n.state[r],to:e}),n.state[r]=e}),t&&ct(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Ct(e,t){return Z(e,Et),e.state=Z({},e.state,t),"function"===typeof e.handleStateChanged&&ct(e)&&e.on("statechanged",e.handleStateChanged),e}var _t=function(e){return"string"!==typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},Tt=function(e){return"string"!==typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},St=function(e,t){return Tt(e)===Tt(t)};function wt(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&z(t,function(t,n){ee(t)?(ee(e[n])||(e[n]={}),e[n]=wt(e[n],t)):e[n]=t})}),e}var It=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=wt({},this.options_),t=this.options_=wt(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Ye()}var i;this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&yt(this,{eventBusKey:this.el_?"el_":null}),Ct(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},A.a.Set||(i=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t["delete"]=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}()),this.setTimeoutIds_=A.a.Set?new Set:new i,this.setIntervalIds_=A.a.Set?new Set:new i,this.rafIds_=A.a.Set?new Set:new i,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),qe.has(this.el_)&&qe["delete"](this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=wt(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return le(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],u=n;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],i=r;return"undefined"===typeof r&&(i=e),i})),u},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.addChild=function(t,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"===typeof t){o=Tt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!==typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"===typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&Tt(i.name()),o&&(this.childNameIndex_[o]=i,this.childNameIndex_[_t(o)]=i),"function"===typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"===typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Tt(e.name())]=null,this.childNameIndex_[_t(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,o=function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var o=t.addChild(n,r);o&&(t[n]=o)}},a=e.getComponent("Tech");r=Array.isArray(n)?n:Object.keys(n),r.concat(Object.keys(this.options_).filter(function(e){return!r.some(function(t){return"string"===typeof t?e===t:e===t.name})})).map(function(e){var r,i;return"string"===typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||Tt(t.name));return n&&!a.isTech(n)}).forEach(o)}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return Oe(e,t||this.contentEl())},t.$$=function(e,t){return Le(e,t||this.contentEl())},t.hasClass=function(e){return fe(this.el_,e)},t.addClass=function(e){de(this.el_,e)},t.removeClass=function(e){pe(this.el_,e)},t.toggleClass=function(e,t){ge(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Ae(this.el_,e)},t.setAttribute=function(e,t){ye(this.el_,e,t)},t.removeAttribute=function(e){Ee(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+Tt(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=te(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){var n="offset"+Tt(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null,r=10,i=200;this.on("touchstart",function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=A.a.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,o=t.touches[0].pageY-n.pageY,a=Math.sqrt(i*i+o*o);a>r&&(e=!1)}});var o=function(){e=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(r){if(n=null,!0===e){var o=A.a.performance.now()-t;o<i&&(r.preventDefault(),this.trigger("tap"))}})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=at(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=at(this,e),this.clearTimersOnDispose_(),n=A.a.setTimeout(function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_["delete"](n),e()},t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_["delete"](e),A.a.clearTimeout(e)),e},t.setInterval=function(e,t){e=at(this,e),this.clearTimersOnDispose_();var n=A.a.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_["delete"](e),A.a.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=at(this,e),t=A.a.requestAnimationFrame(function(){n.rafIds_.has(t)&&n.rafIds_["delete"](t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_["delete"](e),A.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var n=t[0],r=t[1];e[n].forEach(e[r],e)}),e.clearingTimersOnDispose_=!1}))},e.registerComponent=function(t,n){if("string"!==typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),o=i&&i.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw r=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=Tt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(e){return u[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[_t(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function bt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Dt(e,t){return Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dt(e,t)}function kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Mt(e,t,n){return Mt=kt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&Dt(o,n.prototype),o},Mt.apply(null,arguments)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}It.prototype.supportsRaf_="function"===typeof A.a.requestAnimationFrame&&"function"===typeof A.a.cancelAnimationFrame,It.registerComponent("Component",It);var Pt=A.a.navigator&&A.a.navigator.userAgent||"",Ot=/AppleWebKit\/([\d.]+)/i.exec(Pt),Lt=Ot?parseFloat(Ot.pop()):null,Nt=/iPad/i.test(Pt),Bt=/iPhone/i.test(Pt)&&!Nt,xt=/iPod/i.test(Pt),Ut=Bt||Nt||xt,Gt=function(){var e=Pt.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ft=/Android/i.test(Pt),Qt=function(){var e=Pt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),jt=Ft&&Qt<5&&Lt<537,Ht=/Firefox/i.test(Pt),Kt=/Edge/i.test(Pt),Yt=!Kt&&(/Chrome/i.test(Pt)||/CriOS/i.test(Pt)),qt=function(){var e=Pt.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Jt=function(){var e=/MSIE\s(\d+)\.\d/.exec(Pt),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Pt)&&/rv:11.0/.test(Pt)&&(t=11),t}(),Vt=/Safari/i.test(Pt)&&!Yt&&!Ft&&!Kt,Wt=(Vt||Ut)&&!Yt,zt=/Windows/i.test(Pt),Xt=oe()&&("ontouchstart"in A.a||A.a.navigator.maxTouchPoints||A.a.DocumentTouch&&A.a.document instanceof A.a.DocumentTouch),Zt=Object.freeze({IS_IPAD:Nt,IS_IPHONE:Bt,IS_IPOD:xt,IS_IOS:Ut,IOS_VERSION:Gt,IS_ANDROID:Ft,ANDROID_VERSION:Qt,IS_NATIVE_ANDROID:jt,IS_FIREFOX:Ht,IS_EDGE:Kt,IS_CHROME:Yt,CHROME_VERSION:qt,IE_VERSION:Jt,IS_SAFARI:Vt,IS_ANY_SAFARI:Wt,IS_WINDOWS:zt,TOUCH_ENABLED:Xt});function $t(e,t,n){if("number"!==typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function en(e,t,n,r){return $t(e,r,n.length-1),n[r][t]}function tn(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:en.bind(null,"start",0,e),end:en.bind(null,"end",1,e)}}function nn(e,t){return Array.isArray(e)?tn(e):void 0===e||void 0===t?tn():tn([[e,t]])}function rn(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=nn(0,0));for(var o=0;o<e.length;o++)n=e.start(o),r=e.end(o),r>t&&(r=t),i+=r-n;return i/t}for(var on,an={prefixed:!0},sn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],un=sn[0],ln=0;ln<sn.length;ln++)if(sn[ln][1]in E.a){on=sn[ln];break}if(on){for(var cn=0;cn<on.length;cn++)an[un[cn]]=on[cn];an.prefixed=on[0]!==un[0]}function hn(e){if(e instanceof hn)return e;"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:$(e)&&("number"===typeof e.code&&(this.code=e.code),Z(this,e)),this.message||(this.message=hn.defaultMessages[this.code]||"")}hn.prototype.code=0,hn.prototype.message="",hn.prototype.status=null,hn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],hn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var fn=0;fn<hn.errorTypes.length;fn++)hn[hn.errorTypes[fn]]=fn,hn.prototype[hn.errorTypes[fn]]=fn;function dn(e){return void 0!==e&&null!==e&&"function"===typeof e.then}function pn(e){dn(e)&&e.then(null,function(e){})}var gn=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},mn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),r=Array.prototype.map.call(t,function(e){var t=gn(e.track);return e.src&&(t.src=e.src),t});return r.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(gn))},vn=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},An={textTracksToJson:mn,jsonToTextTracks:vn,trackToJson_:gn},yn="vjs-modal-dialog",En=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=le("div",{className:yn+"-content"},{role:"document"}),r.descEl_=le("p",{className:yn+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),ce(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return yn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"===typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"===typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Me(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),be(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return"undefined"!==typeof e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=E.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),S.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(S.a.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}E.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof A.a.HTMLAnchorElement||e instanceof A.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof A.a.HTMLInputElement||e instanceof A.a.HTMLSelectElement||e instanceof A.a.HTMLTextAreaElement||e instanceof A.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof A.a.HTMLIFrameElement||e instanceof A.a.HTMLObjectElement||e instanceof A.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(It);En.prototype.options_={pauseOnOpen:!0,temporary:!0},It.registerComponent("ModalDialog",En);var Cn=function(e){function t(t){var n;void 0===t&&(t=[]),n=e.call(this)||this,n.tracks_=[],Object.defineProperty(Rt(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}bt(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(lt);for(var _n in Cn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Cn.prototype.allowedEvents_)Cn.prototype["on"+_n]=null;var Tn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Sn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){Tn(t,t[r]);break}return n=e.call(this,t)||this,n.changing_=!1,n}bt(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Tn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Tn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Cn),wn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},In=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){wn(t,t[r]);break}return n=e.call(this,t)||this,n.changing_=!1,Object.defineProperty(Rt(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}bt(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&wn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,wn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Cn),bn=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);var r=["metadata","chapters"];-1===r.indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Cn),Dn=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"===typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"===typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),kn=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),Mn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Rn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Pn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},On={disabled:"disabled",hidden:"hidden",showing:"showing"},Ln=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+Ye(),kind:t.kind||"",label:t.label||"",language:t.language||""},i=function(e){Object.defineProperty(Rt(n),e,{get:function(){return r[e]},set:function(){}})};for(var o in r)i(o);return n}return bt(t,e),t}(lt),Nn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=E.a.createElement("a");n.href=e;var r,i=""===n.host&&"file:"!==n.protocol;i&&(r=E.a.createElement("div"),r.innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),E.a.body.appendChild(r));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=A.a.location.protocol),i&&E.a.body.removeChild(r),o},Bn=function(e){if(!e.match(/^https?:\/\//)){var t=E.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},xn=function(e){if("string"===typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},Un=function(e){var t=A.a.location,n=Nn(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i},Gn=Object.freeze({parseUrl:Nn,getAbsoluteURL:Bn,getFileExtension:xn,isCrossOrigin:Un}),Fn=function(e,t){var n=new A.a.WebVTT.Parser(A.a,A.a.vttjs,A.a.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(A.a.console&&A.a.console.groupCollapsed&&A.a.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return q.error(e)}),A.a.console&&A.a.console.groupEnd&&A.a.console.groupEnd()),n.flush()},Qn=function(e,t){var n={uri:e},r=Un(e);r&&(n.cors=r),I()(n,at(this,function(e,n,r){if(e)return q.error(e,n);t.loaded_=!0,"function"!==typeof A.a.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return Fn(r,t);q.error("vttjs failed to load, stopping trying to process "+t.src)}):Fn(r,t)}))},jn=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=wt(t,{kind:Pn[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=On[r.mode]||"disabled",o=r["default"];"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),n=e.call(this,r)||this,n.tech_=r.tech,n.cues_=[],n.activeCues_=[];var a=new kn(n.cues_),s=new kn(n.activeCues_),u=!1,l=at(Rt(n),function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==i&&n.tech_.ready(function(){n.tech_.on("timeupdate",l)},!0),Object.defineProperties(Rt(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){var t=this;On[e]&&(i=e,"disabled"!==i?this.tech_.ready(function(){t.tech_.on("timeupdate",l)},!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(u=!1,t.length!==this.activeCues_.length)u=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(u=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,Qn(r.src,Rt(n))):n.loaded_=!0,n}bt(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(A.a.vttjs&&!(e instanceof A.a.vttjs.VTTCue)){for(var n in t=new A.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){var t=this.cues_.length;while(t--){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Ln);jn.prototype.allowedEvents_={cuechange:"cuechange"};var Hn=function(e){function t(t){var n;void 0===t&&(t={});var r=wt(t,{kind:Rn[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(Rt(n),"enabled",{get:function(){return i},set:function(e){"boolean"===typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return bt(t,e),t}(Ln),Kn=function(e){function t(t){var n;void 0===t&&(t={});var r=wt(t,{kind:Mn[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(Rt(n),"selected",{get:function(){return i},set:function(e){"boolean"===typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return bt(t,e),t}(Ln),Yn=0,qn=1,Jn=2,Vn=3,Wn=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new jn(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n["default"]=i["default"],Object.defineProperties(Rt(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=Yn,i.addEventListener("loadeddata",function(){r=Jn,n.trigger({type:"load",target:Rt(n)})}),n}return bt(t,e),t}(lt);Wn.prototype.allowedEvents_={load:"load"},Wn.NONE=Yn,Wn.LOADING=qn,Wn.LOADED=Jn,Wn.ERROR=Vn;var zn={audio:{ListClass:Sn,TrackClass:Hn,capitalName:"Audio"},video:{ListClass:In,TrackClass:Kn,capitalName:"Video"},text:{ListClass:bn,TrackClass:jn,capitalName:"Text"}};Object.keys(zn).forEach(function(e){zn[e].getterName=e+"Tracks",zn[e].privateName=e+"Tracks_"});var Xn={remoteText:{ListClass:bn,TrackClass:jn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Dn,TrackClass:Wn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Zn=wt(zn,Xn);function $n(e,t,n,r,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new Zn.text.TrackClass(i);return o.addTrack(a),a}Xn.names=Object.keys(Xn),zn.names=Object.keys(zn),Zn.names=[].concat(Xn.names).concat(zn.names);var er=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,r=e.call(this,null,t,n)||this,r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),Zn.names.forEach(function(e){var n=Zn[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new Zn.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}bt(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(at(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return nn(0,0)},n.bufferedPercent=function(){return rn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(zn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){var n=t[e+"Tracks"]()||[],r=n.length;while(r--){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}})},n.cleanupAutoTextTracks=function(){var e=this.autoRemoteTextTracks_||[],t=e.length;while(t--){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new hn(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?nn(0,0):nn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;zn.names.forEach(function(t){var n=zn[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},n.addWebVttScript_=function(){var e=this;if(!A.a.WebVTT)if(E.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&ee(D.a)&&Object.keys(D.a).length>0)return void this.trigger("vttjsloaded");var t=E.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),A.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){var s=t[e];s.removeEventListener("cuechange",o)}})},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return $n(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=wt(e,{tech:this});return new Xn.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(r.track)}),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||A.a.Promise;if(e)return e.reject()},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Tt(e),t.techs_[e]=n,t.techs_[_t(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=Tt(e),A.a&&A.a.videojs&&A.a.videojs[e]?(q.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),A.a.videojs[e]):void 0)},t}(It);Zn.names.forEach(function(e){var t=Zn[e];er.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),er.prototype.featuresVolumeControl=!0,er.prototype.featuresMuteControl=!0,er.prototype.featuresFullscreenResize=!1,er.prototype.featuresPlaybackRate=!1,er.prototype.featuresProgressEvents=!1,er.prototype.featuresSourceset=!1,er.prototype.featuresTimeupdateEvents=!1,er.prototype.featuresNativeTextTracks=!1,er.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t),n)return n;return""},e.selectSourceHandler=function(t,n){for(var r,i=e.sourceHandlers||[],o=0;o<i.length;o++)if(r=i[o].canHandleSource(t,n),r)return i[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","seeking","duration"];t.forEach(function(e){var t=this[e];"function"===typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:q.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},It.registerComponent("Tech",er),er.registerTech("Tech",er),er.defaultTechOrder_=[];var tr={},nr={},rr={};function ir(e,t){tr[e]=tr[e]||[],tr[e].push(t)}function or(e,t,n){e.setTimeout(function(){return vr(t,tr[t.type],n,e)},1)}function ar(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function sr(e,t,n){return e.reduceRight(dr(n),t[n]())}function ur(e,t,n,r){return t[n](e.reduce(dr(n),r))}function lr(e,t,n,r){void 0===r&&(r=null);var i="call"+Tt(n),o=e.reduce(dr(i),r),a=o===rr,s=a?null:t[n](o);return pr(e,n,s,a),s}var cr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1,volume:1},hr={setCurrentTime:1,setVolume:1},fr={play:1,pause:1};function dr(e){return function(t,n){return t===rr?rr:n[e]?n[e](t):t}}function pr(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}function gr(e){nr[e.id()]=null}function mr(e,t){var n=nr[e.id()],r=null;if(void 0===n||null===n)return r=t(e),nr[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}function vr(e,t,n,r,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=t,s=a[0],u=a.slice(1);if("string"===typeof s)vr(e,tr[s],n,r,i,o);else if(s){var l=mr(r,s);if(!l.setSource)return i.push(l),vr(e,u,n,r,i,o);l.setSource(Z({},e),function(t,a){if(t)return vr(e,u,n,r,i,o);i.push(l),vr(a,e.type===a.type?u:tr[a.type],n,r,i,o)})}else u.length?vr(e,u,n,r,i,o):o?n(e,i):vr(e,tr["*"],n,r,i,!0)}var Ar={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},yr=function(e){void 0===e&&(e="");var t=xn(e),n=Ar[t.toLowerCase()];return n||""},Er=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return yr(t)},Cr=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):$(t)&&n.push(t)}),t=n}else t="string"===typeof t&&t.trim()?[_r({src:t})]:$(t)&&"string"===typeof t.src&&t.src&&t.src.trim()?[_r(t)]:[];return t};function _r(e){if(!e.type){var t=yr(e.src);t&&(e.type=t)}return e}var Tr=function(e){function t(t,n,r){var i,o=wt({createEl:!1},n);if(i=e.call(this,t,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=Tt(s[a]),l=er.getTech(u);if(u||(l=It.getComponent(u)),l&&l.isSupported()){t.loadTech_(u);break}}return i}return bt(t,e),t}(It);It.registerComponent("MediaLoader",Tr);var Sr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.emitTapEvents(),r.enable(),r}bt(t,e);var n=t.prototype;return n.createEl=function(t,n,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=Z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&q.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=Z({role:"button"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=le("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,ce(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){},n.handleKeyDown=function(t){S.a.isEventKey(t,"Space")||S.a.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(It);It.registerComponent("ClickableComponent",Sr);var wr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.update(),t.on("posterchange",at(Rt(r),r.update)),r}bt(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){var e=le("div",{className:"vjs-poster",tabIndex:-1});return e},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?pn(this.player_.play()):this.player_.pause())},t}(Sr);It.registerComponent("PosterImage",wr);var Ir="#222",br="#ccc",Dr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function kr(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Mr(e,t,n){try{e.style[t]=n}catch(r){return}}var Rr=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=at(Rt(i),i.updateDisplay);return t.on("loadstart",at(Rt(i),i.toggleDisplay)),t.on("texttrackchange",o),t.on("loadedmetadata",at(Rt(i),i.preselectTrack)),t.ready(at(Rt(i),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),A.a.addEventListener("orientationchange",o),t.on("dispose",function(){return A.a.removeEventListener("orientationchange",o)});for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}})),i}bt(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in r?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s["default"]&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"===typeof A.a.WebVTT&&A.a.WebVTT.processCues(A.a,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{var o=null,a=null,s=e.length;while(s--){var u=e[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;while(r--){var i=n[r];if(i){var o=i.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&Mr(o.firstChild,"color",kr(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Mr(o.firstChild,"backgroundColor",kr(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Mr(o,"backgroundColor",kr(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+Ir+", 2px 2px 4px "+Ir+", 2px 2px 5px "+Ir:"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Ir+", 2px 2px "+Ir+", 3px 3px "+Ir:"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px "+br+", 0 1px "+br+", -1px -1px "+Ir+", 0 -1px "+Ir:"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+Ir+", 0 0 4px "+Ir+", 0 0 4px "+Ir+", 0 0 4px "+Ir)),t.fontPercent&&1!==t.fontPercent){var a=A.a.parseFloat(o.style.fontSize);o.style.fontSize=a*t.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Dr[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"===typeof A.a.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.activeCues.length;++i)t.push(r.activeCues[i]);A.a.WebVTT.processCues(A.a,t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var u=a.activeCues[s].displayState;de(u,"vjs-text-track-cue"),de(u,"vjs-text-track-cue-"+(a.language?a.language:o))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(It);It.registerComponent("TextTrackDisplay",Rr);var Pr=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=le("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(It);It.registerComponent("LoadingSpinner",Pr);var Or=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),e="button",t=Z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=Z({type:"button"},n);var r=It.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return q.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),It.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){S.a.isEventKey(t,"Space")||S.a.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Sr);It.registerComponent("Button",Or);var Lr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return pn(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function(){return r.focus()};dn(t)?t.then(i,function(){}):this.setTimeout(i,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Or);Lr.prototype.controlText_="Play Video",It.registerComponent("BigPlayButton",Lr);var Nr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.controlText(n&&n.controlText||r.localize("Close")),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){S.a.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Or);It.registerComponent("CloseButton",Nr);var Br=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),n.replay&&r.on(t,"ended",r.handleEnded),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Or);Br.prototype.controlText_="Play",It.registerComponent("PlayToggle",Br);var xr=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n},Ur=xr;function Gr(e){Ur=e}function Fr(){Ur=xr}function Qr(e,t){return void 0===t&&(t=e),Ur(e,t)}var jr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.throttledUpdateContent=st(at(Rt(r),r.updateContent),ot),r.on(t,"timeupdate",r.throttledUpdateContent),r}bt(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=le("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=E.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(e){return Qr(e)},n.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(e){},t}(It);jr.prototype.labelText_="Time",jr.prototype.controlText_="Time",It.registerComponent("TimeDisplay",jr);var Hr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,"ended",r.handleEnded),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(jr);Hr.prototype.labelText_="Current Time",Hr.prototype.controlText_="Current Time",It.registerComponent("CurrentTimeDisplay",Hr);var Kr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.throttledUpdateContent),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(jr);Kr.prototype.labelText_="Duration",Kr.prototype.controlText_="Duration",It.registerComponent("DurationDisplay",Kr);var Yr=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(It);It.registerComponent("TimeDivider",Yr);var qr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,"durationchange",r.throttledUpdateContent),r.on(t,"ended",r.handleEnded),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(le("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){"number"===typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(jr);qr.prototype.labelText_="Remaining Time",qr.prototype.controlText_="Remaining Time",It.registerComponent("RemainingTimeDisplay",qr);var Jr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}bt(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=le("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(It);It.registerComponent("LiveDisplay",Jr);var Vr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}bt(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=le("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(Or);Vr.prototype.controlText_="Seek to live, currently playing live",It.registerComponent("SeekToLive",Vr);var Wr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}bt(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=Z({tabIndex:0},n),r=Z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Yt||e.preventDefault(),Ce(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;_e(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!==typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style,i=this.vertical()?"height":"width";return r[i]!==n&&(r[i]=n),e}}},n.calculateDistance=function(e){var t=we(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){S.a.isEventKey(t,"Left")||S.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):S.a.isEventKey(t,"Right")||S.a.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(It);It.registerComponent("Slider",Wr);var zr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.partEls_=[],r.on(t,"progress",r.update),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),r=t&&t.isLive()?t.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,n){var r=e/t||0;return r=100*(r>=1?1:r),n&&(r=r.toFixed(2)),r+"%"};this.el_.style.width=s(i,r),ce(a,s(i,r,!0));for(var u=0;u<n.length;u++){var l=n.start(u),c=n.end(u),h=o[u];h||(h=this.el_.appendChild(le()),o[u]=h),h.style.left=s(l,i),h.style.width=s(c-l,i)}for(var f=o.length;f>n.length;f--)this.el_.removeChild(o[f-1]);o.length=n.length},t}(It);It.registerComponent("LoadProgressBar",zr);var Xr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.update=st(at(Rt(r),r.update),ot),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=Te(this.el_),i=Te(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(e){ce(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),u=s-t*s;o=(u<1?"":"-")+Qr(u,s)}else o=Qr(n,a);i.update(e,t,o),r&&r()})},t}(It);It.registerComponent("TimeTooltip",Xr);var Zr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.update=st(at(Rt(r),r.update),ot),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(It);Zr.prototype.options_={children:[]},Ut||Ft||Zr.prototype.options_.children.push("timeTooltip"),It.registerComponent("PlayProgressBar",Zr);var $r=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.update=st(at(Rt(r),r.update),ot),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,function(){n.el_.style.left=e.width*t+"px"})},t}(It);$r.prototype.options_={children:["timeTooltip"]},It.registerComponent("MouseTimeDisplay",$r);var ei=5,ti=12,ni=30,ri=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.setEventHandlers_(),r}bt(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update=st(at(this,this.update),ni),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in E.a&&"visibilityState"in E.a&&this.on(E.a,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){E.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){e.requestAnimationFrame(e.update)},ni)},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(e,t){var n=this.player_.liveTracker,r=this.player_.duration();n&&n.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Qr(e,r),Qr(r,r)],"{1} of {2}")),this.bar&&this.bar.update(Te(this.el_),t)},n.update=function(t){if(null!==this.el().offsetParent){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(e){this.update_(this.player_.duration(),1)},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},n.handleMouseDown=function(t){Re(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(Re(e)){var t,n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){var i=r.seekableStart(),o=r.liveCurrentTime();if(t=i+n*r.liveWindow(),t>=o&&(t=o),t<=i&&(t=i+.1),t===1/0)return}else t=n*this.player_.duration(),t===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&pn(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+ei)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-ei)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(S.a.isEventKey(t,"Space")||S.a.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(S.a.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(S.a.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(S()(t))){t.preventDefault(),t.stopPropagation();var n=10*(S.a.codes[S()(t)]-S.a.codes["0"])/100;this.player_.currentTime(this.player_.duration()*n)}else S.a.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-ei*ti)):S.a.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+ei*ti)):e.prototype.handleKeyDown.call(this,t)},t}(Wr);ri.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Ut||Ft||ri.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),It.registerComponent("SeekBar",ri);var ii=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.handleMouseMove=st(at(Rt(r),r.handleMouseMove),ot),r.throttledHandleMouseSeek=st(at(Rt(r),r.handleMouseSeek),ot),r.enable(),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),i=Te(r),o=we(r,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(It);ii.prototype.options_={children:["seekBar"]},It.registerComponent("ProgressControl",ii);var oi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,["enterpictureinpicture","leavepictureinpicture"],r.handlePictureInPictureChange),E.a.pictureInPictureEnabled||r.disable(),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Or);oi.prototype.controlText_="Picture-in-Picture",It.registerComponent("PictureInPictureToggle",oi);var ai=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,"fullscreenchange",r.handleFullscreenChange),!1===E.a[t.fsApi_.fullscreenEnabled]&&r.disable(),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Or);ai.prototype.controlText_="Fullscreen",It.registerComponent("FullscreenToggle",ai);var si=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},ui=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(It);It.registerComponent("VolumeLevel",ui);var li=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready(function(){return r.updateARIAAttributes()}),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Re(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){Re(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Wr);li.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},li.prototype.playerEvent="volumechange",It.registerComponent("VolumeBar",li);var ci=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||ee(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=e.call(this,t,n)||this,si(Rt(r),t),r.throttledHandleMouseMove=st(at(Rt(r),r.handleMouseMove),ot),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}bt(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(It);ci.prototype.options_={children:["volumeBar"]},It.registerComponent("VolumeControl",ci);var hi=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},fi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,hi(Rt(r),t),r.on(t,["loadstart","volumechange"],r.update),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Ut&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)pe(this.el_,"vjs-vol-"+n);de(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(Or);fi.prototype.controlText_="Mute",It.registerComponent("MuteToggle",fi);var di=function(e){function t(t,n){var r;return void 0===n&&(n={}),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||ee(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),r=e.call(this,t,n)||this,r.on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}bt(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){S.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),Ze(E.a,"keyup",at(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),$e(E.a,"keyup",at(this,this.handleKeyPress))},n.handleKeyPress=function(e){S.a.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(It);di.prototype.options_={children:["muteToggle","volumeControl"]},It.registerComponent("VolumePanel",di);var pi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=at(Rt(r),r.handleBlur),r.boundHandleTapClick_=at(Rt(r),r.handleTapClick),r}bt(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof It&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof It&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"===typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=le(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Ze(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||E.a.activeElement;if(!this.children().some(function(e){return e.el()===t})){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter(function(t){return t.el()===e.target})[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){S.a.isEventKey(e,"Left")||S.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(S.a.isEventKey(e,"Right")||S.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(It);It.registerComponent("Menu",pi);var gi=function(e){function t(t,n){var r;void 0===n&&(n={}),r=e.call(this,t,n)||this,r.menuButton_=new Or(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Or.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",function(){r.addClass("vjs-hover"),r.menu.show(),Ze(E.a,"keyup",at(Rt(r),r.handleMenuKeyUp))}),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}bt(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new pi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=le("li",{className:"vjs-menu-title",innerHTML:Tt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new It(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";!0===this.options_.inline?t+="-inline":t+="-popup";var n=Or.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+n+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),$e(E.a,"keyup",at(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){S.a.isEventKey(e,"Esc")||S.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),S.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(S.a.isEventKey(e,"Up")||S.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(S.a.isEventKey(e,"Esc")||S.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(S.a.isEventKey(e,"Esc")||S.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),S.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ut&&se())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(It);It.registerComponent("MenuButton",gi);var mi=function(e){function t(t,n){var r,i=n.tracks;if(r=e.call(this,t,n)||this,r.items.length<=1&&r.hide(),!i)return Rt(r);var o=at(Rt(r),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),r.player_.on("ready",o),r.player_.on("dispose",function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)}),r}return bt(t,e),t}(gi);It.registerComponent("TrackButton",mi);var vi=["Tab","Esc","Up","Down","Right","Left"],Ai=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}bt(t,e);var n=t.prototype;return n.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",Z({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},n.handleKeyDown=function(t){vi.some(function(e){return S.a.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Sr);It.registerComponent("MenuItem",Ai);var yi=function(e){function t(t,n){var r,i=n.track,o=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,r=e.call(this,t,n)||this,r.track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(Rt(r),t)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(Rt(r),t)};(t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),r.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)}),void 0===o.onchange)&&r.on(["tap","click"],function(){if("object"!==typeof A.a.Event)try{a=new A.a.Event("change")}catch(e){}a||(a=E.a.createEvent("Event"),a.initEvent("change",!0,!0)),o.dispatchEvent(a)});return r.handleTracksChange(),r}bt(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Ai);It.registerComponent("TextTrackMenuItem",yi);var Ei=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}bt(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(yi);It.registerComponent("OffTextTrackMenuItem",Ei);var Ci=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}bt(t,e);var n=t.prototype;return n.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=yi),this.label_&&(n=this.label_+" off"),e.push(new Ei(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(mi);It.registerComponent("TextTrackButton",Ci);var _i=function(e){function t(t,n){var r,i=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,r=e.call(this,t,n)||this,r.track=i,r.cue=o,i.addEventListener("cuechange",at(Rt(r),r.update)),r}bt(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(Ai);It.registerComponent("ChaptersTrackMenuItem",_i);var Ti=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Tt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new _i(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(Ci);Ti.prototype.kind_="chapters",Ti.prototype.controlText_="Chapters",It.registerComponent("ChaptersButton",Ti);var Si=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=t.textTracks(),a=at(Rt(i),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",function(){o.removeEventListener("change",a)}),i}bt(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ci);Si.prototype.kind_="descriptions",Si.prototype.controlText_="Descriptions",It.registerComponent("DescriptionsButton",Si);var wi=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ci);wi.prototype.kind_="subtitles",wi.prototype.controlText_="Subtitles",It.registerComponent("SubtitlesButton",wi);var Ii=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",r=e.call(this,t,n)||this,r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}bt(t,e);var n=t.prototype;return n.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(yi);It.registerComponent("CaptionSettingsMenuItem",Ii);var bi=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ii(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ci);bi.prototype.kind_="captions",bi.prototype.controlText_="Captions",It.registerComponent("CaptionsButton",bi);var Di=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>";var o=e.prototype.createEl.call(this,t,Z({innerHTML:i},n),r);return o},t}(yi);It.registerComponent("SubsCapsMenuItem",Di);var ki=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Tt(r.label_)),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Ii(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Di),t},t}(Ci);ki.prototype.kinds_=["captions","subtitles"],ki.prototype.controlText_="Subtitles",It.registerComponent("SubsCapsButton",ki);var Mi=function(e){function t(t,n){var r,i=n.track,o=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,r=e.call(this,t,n)||this,r.track=i,r.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(Rt(r),t)};return o.addEventListener("change",a),r.on("dispose",function(){o.removeEventListener("change",a)}),r}bt(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>";var o=e.prototype.createEl.call(this,t,Z({innerHTML:i},n),r);return o},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Ai);It.registerComponent("AudioTrackMenuItem",Mi);var Ri=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Mi(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(mi);Ri.prototype.controlText_="Audio Track",It.registerComponent("AudioTrackButton",Ri);var Pi=function(e){function t(t,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,r=e.call(this,t,n)||this,r.label=i,r.rate=o,r.on(t,"ratechange",r.update),r}bt(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Ai);Pi.prototype.contentElType="button",It.registerComponent("PlaybackRateMenuItem",Pi);var Oi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}bt(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=le("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new pi(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Pi(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(gi);Oi.prototype.controlText_="Playback Rate",It.registerComponent("PlaybackRateMenuButton",Oi);var Li=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(It);It.registerComponent("Spacer",Li);var Ni=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(Li);It.registerComponent("CustomControlSpacer",Ni);var Bi=function(e){function t(){return e.apply(this,arguments)||this}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(It);Bi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in E.a&&Bi.prototype.options_.children.splice(Bi.prototype.options_.children.length-1,0,"pictureInPictureToggle"),It.registerComponent("ControlBar",Bi);var xi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.on(t,"error",r.open),r}bt(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(En);xi.prototype.options_=wt(En.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),It.registerComponent("ErrorDisplay",xi);var Ui="vjs-text-track-settings",Gi=["#000","Black"],Fi=["#00F","Blue"],Qi=["#0FF","Cyan"],ji=["#0F0","Green"],Hi=["#F0F","Magenta"],Ki=["#F00","Red"],Yi=["#FFF","White"],qi=["#FF0","Yellow"],Ji=["1","Opaque"],Vi=["0.5","Semi-Transparent"],Wi=["0","Transparent"],zi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Gi,Yi,Ki,ji,Fi,qi,Hi,Qi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ji,Vi,Wi]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Yi,Gi,Ki,ji,Fi,qi,Hi,Qi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ji,Vi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Wi,Vi,Ji]}};function Xi(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Zi(e,t){var n=e.options[e.options.selectedIndex].value;return Xi(n,t)}function $i(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(Xi(e.options[r].value,n)===t){e.selectedIndex=r;break}}zi.windowColor.options=zi.backgroundColor.options;var eo=function(e){function t(t,n){var r;return n.temporary=!1,r=e.call(this,t,n)||this,r.updateDisplay=at(Rt(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=le("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),z(zi,function(e){r.on(r.$(e.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}bt(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=zi[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map(function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return le("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return le("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return le("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e=this;return X(zi,function(t,n,r){var i=Zi(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t},{})},n.setValues=function(e){var t=this;z(zi,function(n,r){$i(t.$(n.selector),e[r],n.parser)})},n.setDefaults=function(){var e=this;z(zi,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},n.restoreSettings=function(){var e;try{e=JSON.parse(A.a.localStorage.getItem(Ui))}catch(t){q.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?A.a.localStorage.setItem(Ui,JSON.stringify(e)):A.a.localStorage.removeItem(Ui)}catch(t){q.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(En);It.registerComponent("TextTrackSettings",eo);var to=function(e){function t(t,n){var r,i=n.ResizeObserver||A.a.ResizeObserver;null===n.ResizeObserver&&(i=!1);var o=wt({createEl:!i,reportTouchActivity:!1},n);return r=e.call(this,t,o)||this,r.ResizeObserver=n.ResizeObserver||A.a.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=ut(function(){r.resizeHandler()},100,!1,Rt(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){$e(this,"resize",e),$e(this,"unload",t),t=null};Ze(r.el_.contentWindow,"unload",t),Ze(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}bt(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(It);It.registerComponent("ResizeManager",to);var no=function(e){var t=Math.floor(e.length/2),n=[].concat(e).sort(function(e,t){return e-t});return e.length%2!==0?n[t]:(n[t-1]+n[t])/2},ro=function(e){function t(t,n){var r,i=wt({createEl:!1},n);return r=e.call(this,t,i)||this,r.reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),Jt&&"hidden"in E.a&&"visibilityState"in E.a&&r.on(E.a,"visibilitychange",r.handleVisibilityChange),r}bt(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(E.a.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),n=2*this.seekableIncrement_+.07;return e!==1/0&&e-n>=t},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(t-this.lastSeekEnd_)),this.seekableIncrementList_.length>3&&(this.seekableIncrement_=no(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var e=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.seekableIncrementList_=[],this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){var e=this.player_.seekable(),t=[],n=e?e.length:0;while(n--)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){var e=this.player_.seekable(),t=[],n=e?e.length:0;while(n--)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"===typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(It);It.registerComponent("LiveTracker",ro);var io=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},oo=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=E.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;var n=E.a.createDocumentFragment();while(t.childNodes.length)n.appendChild(t.childNodes[0]);return this.innerText="",A.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),ao=function(e,t){for(var n={},r=0;r<e.length;r++)if(n=Object.getOwnPropertyDescriptor(e[r],t),n&&n.set&&n.get)break;return n.enumerable=!0,n.configurable=!0,n},so=function(e){return ao([e.el(),A.a.HTMLMediaElement.prototype,A.a.Element.prototype,oo],"innerHTML")},uo=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=so(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(t,i);return io(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))}),Object.defineProperty(t,"innerHTML",wt(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(e){t[e]=n[e]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},lo=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Bn(A.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return A.a.Element.prototype.setAttribute.call(this,"src",e),e}}),co=function(e){return ao([e.el(),A.a.HTMLMediaElement.prototype,lo],"src")},ho=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=co(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",wt(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var o=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=i.call(t);return io(e)||(e.triggerSourceset(""),uo(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):io(e)||uo(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},fo=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,o=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){var a=r.el_.childNodes,s=a.length,u=[];while(s--){var l=a[s],c=l.nodeName.toLowerCase();"track"===c&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(l),r.remoteTextTracks().addTrack(l.track),r.textTracks().addTrack(l.track),o||r.el_.hasAttribute("crossorigin")||!Un(l.src)||(o=!0)):u.push(l))}for(var h=0;h<u.length;h++)r.el_.removeChild(u[h])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&q.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Xt||Bt||jt)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}bt(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){ho(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)})},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(e){var t=n.el()[r+"Tracks"];t.removeEventListener(e,n[r+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=zn[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}while(e.length)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach(function(e){var n=o[e];r.addEventListener(e,n),t.on("dispose",function(t){return r.removeEventListener(e,n)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},n.proxyNativeTracks_=function(){var e=this;zn.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=E.a.createElement("video");var r=this.options_.tag&&ve(this.options_.tag),i=wt({},r);Xt&&!0===this.options_.nativeControlsForTouch||delete i.controls,me(e,Z(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&ye(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];"undefined"!==typeof u&&(u?ye(e,s,s):Ee(e,s),e[s]=u)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){q(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&Ft&&Yt&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},n.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var e=A.a.navigator&&A.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=E.a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks){var n=this.$$("track"),r=n.length;while(r--)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])}},n.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),A.a.performance&&"function"===typeof A.a.performance.now?e.creationTime=A.a.performance.now():A.a.performance&&A.a.performance.timing&&"number"===typeof A.a.performance.timing.navigationStart&&(e.creationTime=A.a.Date.now()-A.a.performance.timing.navigationStart),e},t}(er);if(oe()){fo.TEST_VID=E.a.createElement("video");var po=E.a.createElement("track");po.kind="captions",po.srclang="en",po.label="English",fo.TEST_VID.appendChild(po)}fo.isSupported=function(){try{fo.TEST_VID.volume=.5}catch(e){return!1}return!(!fo.TEST_VID||!fo.TEST_VID.canPlayType)},fo.canPlayType=function(e){return fo.TEST_VID.canPlayType(e)},fo.canPlaySource=function(e,t){return fo.canPlayType(e.type)},fo.canControlVolume=function(){try{var e=fo.TEST_VID.volume;return fo.TEST_VID.volume=e/2+.1,e!==fo.TEST_VID.volume}catch(t){return!1}},fo.canMuteVolume=function(){try{var e=fo.TEST_VID.muted;return fo.TEST_VID.muted=!e,fo.TEST_VID.muted?ye(fo.TEST_VID,"muted","muted"):Ee(fo.TEST_VID,"muted","muted"),e!==fo.TEST_VID.muted}catch(t){return!1}},fo.canControlPlaybackRate=function(){if(Ft&&Yt&&qt<58)return!1;try{var e=fo.TEST_VID.playbackRate;return fo.TEST_VID.playbackRate=e/2+.1,e!==fo.TEST_VID.playbackRate}catch(t){return!1}},fo.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(E.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(E.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(E.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(E.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},fo.supportsNativeTextTracks=function(){return Wt||Ut&&Yt},fo.supportsNativeVideoTracks=function(){return!(!fo.TEST_VID||!fo.TEST_VID.videoTracks)},fo.supportsNativeAudioTracks=function(){return!(!fo.TEST_VID||!fo.TEST_VID.audioTracks)},fo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],fo.prototype.featuresVolumeControl=fo.canControlVolume(),fo.prototype.featuresMuteControl=fo.canMuteVolume(),fo.prototype.featuresPlaybackRate=fo.canControlPlaybackRate(),fo.prototype.featuresSourceset=fo.canOverrideAttributes(),fo.prototype.movingMediaElementInDOM=!Ut,fo.prototype.featuresFullscreenResize=!0,fo.prototype.featuresProgressEvents=!0,fo.prototype.featuresTimeupdateEvents=!0,fo.prototype.featuresNativeTextTracks=fo.supportsNativeTextTracks(),fo.prototype.featuresNativeVideoTracks=fo.supportsNativeVideoTracks(),fo.prototype.featuresNativeAudioTracks=fo.supportsNativeAudioTracks();var go=fo.TEST_VID&&fo.TEST_VID.constructor.prototype.canPlayType,mo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;fo.patchCanPlayType=function(){Qt>=4&&!Ht&&!Yt&&(fo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&mo.test(e)?"maybe":go.call(this,e)})},fo.unpatchCanPlayType=function(){var e=fo.TEST_VID.constructor.prototype.canPlayType;return fo.TEST_VID.constructor.prototype.canPlayType=go,e},fo.patchCanPlayType(),fo.disposeMediaElement=function(e){if(e){e.parentNode&&e.parentNode.removeChild(e);while(e.hasChildNodes())e.removeChild(e.firstChild);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},fo.resetMediaElement=function(e){if(e){var t=e.querySelectorAll("source"),n=t.length;while(n--)e.removeChild(t[n]);e.removeAttribute("src"),"function"===typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){fo.prototype["set"+Tt(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){fo.prototype["set"+Tt(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]()}}),er.withSourceHandlers(fo),fo.nativeSourceHandler={},fo.nativeSourceHandler.canPlayType=function(e){try{return fo.TEST_VID.canPlayType(e)}catch(t){return""}},fo.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return fo.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=xn(e.src);return fo.nativeSourceHandler.canPlayType("video/"+n)}return""},fo.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},fo.nativeSourceHandler.dispose=function(){},fo.registerSourceHandler(fo.nativeSourceHandler),er.registerTech("Html5",fo);var vo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ao={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},yo=["tiny","xsmall","small","medium","large","xlarge","huge"],Eo={};yo.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Eo[e]="vjs-layout-"+t});var Co={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},_o=function(e){function t(n,r,i){var o;if(n.id=n.id||r.id||"vjs_video_"+Ye(),r=Z(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"===typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else{var s=n;while(s&&1===s.nodeType){if(ve(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}}if(o=e.call(this,null,r,i)||this,o.boundDocumentFullscreenChange_=at(Rt(o),o.documentFullscreenChange_),o.boundFullWindowOnEscKey_=at(Rt(o),o.fullWindowOnEscKey),o.log=J(o.id_),o.fsApi_=an,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&ve(n),o.language(o.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach(function(e){u[e.toLowerCase()]=r.languages[e]}),o.languages_=u}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(e){if("function"!==typeof o[e])throw new Error('plugin "'+e+'" does not exist')}),o.scrubbing_=!1,o.el_=o.createEl(),yt(Rt(o),{eventBusKey:"el_"}),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var l=wt(o.options_);r.plugins&&Object.keys(r.plugins).forEach(function(e){o[e](r.plugins[e])}),o.options_.playerOptions=l,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),Xt&&o.addClass("vjs-touch-enabled"),Ut||o.addClass("vjs-workinghover"),t.players[o.id_]=Rt(o);var c=j.split(".")[0];return o.addClass("vjs-v"+c),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("stageclick",o.handleStageClick_),o.on("keydown",o.handleKeyDown),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}bt(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),$e(E.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$e(E.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),gr(this),Zn.names.forEach(function(e){var t=Zn[e],r=n[t.getterName]();r&&r.off&&r.off()}),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=ve(n);if(i){t=this.el_=n,n=this.tag=E.a.createElement("video");while(t.children.length)n.appendChild(t.firstChild);fe(t,"video-js")||de(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{n[e]=t[e]}catch(r){}})}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(Jt||Yt&&zt)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(e){i&&"class"===e||t.setAttribute(e,o[e]),i&&n.setAttribute(e,o[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==A.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Qe("vjs-styles-dimensions");var a=Oe(".vjs-styles-defaults"),s=Oe("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=n.getElementsByTagName("a"),l=0;l<u.length;l++){var c=u.item(l);de(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),he(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?q.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,ct(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),ht(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==A.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var i=n.split(":"),o=i[1]/i[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,r=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(r),je(this.styleEl_,"\n      ."+r+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+r+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,s="number"===typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=Tt(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(er.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o="string"!==typeof this.autoplay()&&this.autoplay(),a={source:t,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Zn.names.forEach(function(e){var t=Zn[e];a[t.getterName]=n[t.privateName]}),Z(a,this.options_[r]),Z(a,this.options_[i]),Z(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=er.getTech(e);if(!s)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(at(this,this.handleTechReady_),!0),An.jsonToTextTracks(this.textTracksJson_||[],this.tech_),vo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+Tt(e)+"_"])}),Object.keys(Ao).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Ao[e]+"_"].bind(n),event:t}):n["handleTech"+Ao[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||he(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;Zn.names.forEach(function(t){var n=Zn[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=An.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&q.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"===typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(dn(r))return r["catch"](n)};if("any"===e&&!0!==this.muted()?(n=this.play(),dn(n)&&(n=n["catch"](r))):n="muted"===e&&!0!==this.muted()?r():this.play(),dn(n))return n.then(function(){t.trigger({type:"autoplay-success",autoplay:e})})["catch"](function(n){t.trigger({type:"autoplay-failure",autoplay:e})})}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!==typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=Er(this,t)),this.cache_.source=wt({},e,{src:t,type:n});for(var r=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=ve(o[s]);i.push(u),u.src&&u.src===t&&a.push(u.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime(),n=function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))};this.on("timeupdate",n)},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){Re(e)&&this.controls_&&(this.paused()?pn(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)});t||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"===typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=this.el(),n=E.a[this.fsApi_.fullscreenElement]===t;!n&&t.matches?n=t.matches(":"+this.fsApi_.fullscreen):!n&&t.msMatchesSelector&&(n=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n),!1===this.isFullscreen()&&$e(E.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed&&this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready(function(){if(e in hr)return ur(this.middleware_,this.tech_,e,t);if(e in fr)return lr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw q(n),n}},!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in cr)return sr(this.middleware_,this.tech_,e);if(e in fr)return lr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw q("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw q("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw q(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||A.a.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=pn),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!Wt&&!Ut||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||nn(0,0)},n.scrubbing=function(e){if("undefined"===typeof e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return"undefined"!==typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=nn(0,0)),e},n.bufferedPercent=function(){return rn(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,void this.toggleFullscreenClass_()):!!this.isFullscreen_},n.requestFullscreen=function(e){var t;this.isFullscreen(!0),this.fsApi_.requestFullscreen?(Ze(E.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),pn(this.el_[this.fsApi_.requestFullscreen](t))):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){this.isFullscreen(!1),this.fsApi_.requestFullscreen?pn(E.a[this.fsApi_.exitFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=E.a.documentElement.style.overflow,Ze(E.a,"keydown",this.boundFullWindowOnEscKey_),E.a.documentElement.style.overflow="hidden",de(E.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){S.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,$e(E.a,"keydown",this.boundFullWindowOnEscKey_),E.a.documentElement.style.overflow=this.docOrigOverflow,pe(E.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in E.a)return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in E.a)return E.a.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){var n=function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;var n=["button","checkbox","hidden","radio","reset","submit"];if("input"===t)return-1===n.indexOf(e.type);var r=["textarea"];return-1!==r.indexOf(t)};n(this.el_.ownerDocument.activeElement)||("function"===typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return S.a.isEventKey(e,"f")}:n,i=t.muteKey,o=void 0===i?function(e){return S.a.isEventKey(e,"m")}:i,a=t.playPauseKey,s=void 0===a?function(e){return S.a.isEventKey(e,"k")||S.a.isEventKey(e,"Space")}:a;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var u=It.getComponent("FullscreenToggle");!1!==E.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation();var l=It.getComponent("MuteToggle");l.prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation();var c=It.getComponent("PlayToggle");c.prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=er.getTech(i);if(o||(o=It.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e),t))return t}else q.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map(function(e){return[e,er.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(q.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(e,t,n){var r;return e.some(function(e){return t.some(function(t){if(r=n(e,t),r)return!0})}),r},o=function(e){return function(t,n){return e(n,t)}},a=function(e,t){var r=e[0],i=e[1];if(i.canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return t=this.options_.sourceOrder?i(e,r,o(a)):i(r,e,a),t||!1},n.src=function(e){var t=this;if("undefined"===typeof e)return this.cache_.src||"";var n=Cr(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),or(this,n[0],function(e,r){t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e);var i=t.src_(e);if(i)return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());ar(r,t.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(e){var t=this,n=this.selectSource([e]);return!n||(St(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||A.a.Promise;if(this.paused()||!t)this.doReset_();else{var n=this.play();pn(n.then(function(){return e.doReset_()}))}},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),ct(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"===typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t="undefined"===typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&e.message&&e.message===this.localize(this.options_.notSupportedMessage)){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new hn(e),this.addClass("vjs-error"),q.error("(CODE:"+this.error_.code+" "+hn.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=at(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(t){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a);var s,u=this.getChild("controlBar");!u||Ut||Ft||(u.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e,n=t.track;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return wt(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=wt(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=wt(r),r.player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new En(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<yo.length;n++){var r=yo[n],i=this.breakpoints_[r];if(t<=i){if(e===r)return;e&&this.removeClass(Eo[e]),this.addClass(Eo[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e?Z(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Z({},Co,e),this.updateCurrentBreakpoint_(),Z(this.breakpoints_))},n.responsive=function(e){if(void 0===e)return this.responsive_;e=Boolean(e);var t=this.responsive_;return e!==t?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return Eo[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"===typeof e){this.reset(),this.cache_.media=wt(e);var r=this.cache_.media,i=r.artwork,o=r.poster,a=r.src,s=r.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:yr(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach(function(e){return n.addRemoteTextTrack(e,!1)}),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}),r={src:t,textTracks:n};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:yr(r.poster)}]),r}return wt(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=ve(e),r=n["data-setup"];if(fe(e,"vjs-fill")&&(n.fill=!0),fe(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=_()(r||"{}"),o=i[0],a=i[1];o&&q.error(o),Z(n,a)}if(Z(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],h=c.nodeName.toLowerCase();"source"===h?t.sources.push(ve(c)):"track"===h&&t.tracks.push(ve(c))}return t},n.flexNotSupported_=function(){var e=E.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(It);Zn.names.forEach(function(e){var t=Zn[e];_o.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),_o.players={};var To=A.a.navigator;_o.prototype.options_={techOrder:er.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:To&&(To.languages&&To.languages[0]||To.userLanguage||To.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){_o.prototype[e]=function(){return this.techGet_(e)}}),vo.forEach(function(e){_o.prototype["handleTech"+Tt(e)+"_"]=function(){return this.trigger(e)}}),It.registerComponent("Player",_o);var So="plugin",wo="activePlugins_",Io={},bo=function(e){return Io.hasOwnProperty(e)},Do=function(e){return bo(e)?Io[e]:void 0},ko=function(e,t){e[wo]=e[wo]||{},e[wo][t]=!0},Mo=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Ro=function(e,t){var n=function(){Mo(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return ko(this,e),Mo(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},Po=function(e,t){return t.prototype.name=e,function(){Mo(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Mt(t,[this].concat(r));return this[e]=function(){return o},Mo(this,o.getEventHash()),o}},Oo=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,yt(this),delete this.trigger,Ct(this,this.constructor.defaultState),ko(t,this.name),this.dispose=at(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),et(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[wo][e]=!1,this.player=this.state=null,t[e]=Po(e,Io[e])},e.isBasic=function(t){var n="string"===typeof t?Do(t):t;return"function"===typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!==typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(bo(t))q.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(_o.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!==typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return Io[t]=n,t!==So&&(e.isBasic(n)?_o.prototype[t]=Ro(t,n):_o.prototype[t]=Po(t,n)),n},e.deregisterPlugin=function(e){if(e===So)throw new Error("Cannot de-register base plugin.");bo(e)&&(delete Io[e],delete _o.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Io)),e.forEach(function(e){var n=Do(e);n&&(t=t||{},t[e]=n)}),t},e.getPluginVersion=function(e){var t=Do(e);return t&&t.VERSION||""},e}();Oo.getPlugin=Do,Oo.BASE_PLUGIN_NAME=So,Oo.registerPlugin(So,Oo),_o.prototype.usingPlugin=function(e){return!!this[wo]&&!0===this[wo][e]},_o.prototype.hasPlugin=function(e){return!!bo(e)};var Lo=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},No=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"===typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"===typeof t&&(n=t),Lo(n,e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},Bo=function(e){return 0===e.indexOf("#")?e.slice(1):e};function xo(e,t,n){var r=xo.getPlayer(e);if(r)return t&&q.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"===typeof e?Oe("#"+Bo(e)):e;if(!ae(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||q.warn("The element supplied is not included in the DOM"),t=t||{},xo.hooks("beforesetup").forEach(function(e){var n=e(i,wt(t));$(n)&&!Array.isArray(n)?t=wt(t,n):q.error("please return an object in beforesetup hooks")});var o=It.getComponent("Player");return r=new o(i,t,n),xo.hooks("setup").forEach(function(e){return e(r)}),r}if(xo.hooks_={},xo.hooks=function(e,t){return xo.hooks_[e]=xo.hooks_[e]||[],t&&(xo.hooks_[e]=xo.hooks_[e].concat(t)),xo.hooks_[e]},xo.hook=function(e,t){xo.hooks(e,t)},xo.hookOnce=function(e,t){xo.hooks(e,[].concat(t).map(function(t){var n=function n(){return xo.removeHook(e,n),t.apply(void 0,arguments)};return n}))},xo.removeHook=function(e,t){var n=xo.hooks(e).indexOf(t);return!(n<=-1)&&(xo.hooks_[e]=xo.hooks_[e].slice(),xo.hooks_[e].splice(n,1),!0)},!0!==A.a.VIDEOJS_NO_DYNAMIC_STYLE&&oe()){var Uo=Oe(".vjs-styles-defaults");if(!Uo){Uo=Qe("vjs-styles-defaults");var Go=Oe("head");Go&&Go.insertBefore(Uo,Go.firstChild),je(Uo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Ue(1,xo),xo.VERSION=j,xo.options=_o.prototype.options_,xo.getPlayers=function(){return _o.players},xo.getPlayer=function(e){var t,n=_o.players;if("string"===typeof e){var r=Bo(e),i=n[r];if(i)return i;t=Oe("#"+r)}else t=e;if(ae(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},xo.getAllPlayers=function(){return Object.keys(_o.players).map(function(e){return _o.players[e]}).filter(Boolean)},xo.players=_o.players,xo.getComponent=It.getComponent,xo.registerComponent=function(e,t){er.isTech(t)&&q.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),It.registerComponent.call(It,e,t)},xo.getTech=er.getTech,xo.registerTech=er.registerTech,xo.use=ir,Object.defineProperty(xo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(xo.middleware,"TERMINATOR",{value:rr,writeable:!1,enumerable:!0}),xo.browser=Zt,xo.TOUCH_ENABLED=Xt,xo.extend=No,xo.mergeOptions=wt,xo.bind=at,xo.registerPlugin=Oo.registerPlugin,xo.deregisterPlugin=Oo.deregisterPlugin,xo.plugin=function(e,t){return q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Oo.registerPlugin(e,t)},xo.getPlugins=Oo.getPlugins,xo.getPlugin=Oo.getPlugin,xo.getPluginVersion=Oo.getPluginVersion,xo.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),xo.options.languages=wt(xo.options.languages,(n={},n[e]=t,n)),xo.options.languages[e]},xo.log=q,xo.createLogger=J,xo.createTimeRange=xo.createTimeRanges=nn,xo.formatTime=Qr,xo.setFormatTime=Gr,xo.resetFormatTime=Fr,xo.parseUrl=Nn,xo.isCrossOrigin=Un,xo.EventTarget=lt,xo.on=Ze,xo.one=tt,xo.off=$e,xo.trigger=et,xo.xhr=I.a,xo.TextTrack=jn,xo.AudioTrack=Hn,xo.VideoTrack=Kn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){xo[e]=function(){return q.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Ne[e].apply(null,arguments)}}),xo.computedStyle=te,xo.dom=Ne,xo.url=Gn;
/**
 * @videojs/http-streaming
 * @version 1.10.6
 * @copyright 2019 Brightcove, Inc
 * @license Apache-2.0
 */
var Fo=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=M.a.buildAbsoluteURL(A.a.location.href,e)),M.a.buildAbsoluteURL(e,t))},Qo=function(e,t,n){return e&&n.responseURL&&t!==n.responseURL?n.responseURL:t},jo=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ho=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ko=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Yo=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},qo=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Jo=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vo=xo.mergeOptions,Wo=xo.EventTarget,zo=xo.log,Xo=function(e,t){["AUDIO","SUBTITLES"].forEach(function(n){for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var o=e.mediaGroups[n][r][i];t(o,n,r,i)}})},Zo=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=Vo(e[o],r[o-n]);return r},$o=function(e,t){e.resolvedUri||(e.resolvedUri=Fo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Fo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Fo(t,e.map.uri))},ea=function(e,t){var n=Vo(e,{}),r=n.playlists[t.uri];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.endList===t.endList&&r.mediaSequence===t.mediaSequence)return null;var i=Vo(r,t);r.segments&&(i.segments=Zo(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach(function(e){$o(e,i.resolvedUri)});for(var o=0;o<n.playlists.length;o++)n.playlists[o].uri===t.uri&&(n.playlists[o]=i);return n.playlists[t.uri]=i,n},ta=function(e){var t=e.playlists.length;while(t--){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=Fo(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},zo.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},na=function(e){Xo(e,function(t){t.uri&&(t.resolvedUri=Fo(e.uri,t.uri))})},ra=function(e,t){var n=e.segments[e.segments.length-1],r=void 0;return r=t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10),r},ia=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jo(this,t);var i=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.withCredentials,a=void 0!==o&&o,s=r.handleManifestRedirects,u=void 0!==s&&s;i.srcUrl=e,i.hls_=n,i.withCredentials=a,i.handleManifestRedirects=u;var l=n.options_;if(i.customTagParsers=l&&l.customTagParsers||[],i.customTagMappers=l&&l.customTagMappers||[],!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:Fo(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}return Yo(t,e),Ho(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new R["Parser"];this.customTagParsers.forEach(function(e){return r.addParser(e)}),this.customTagMappers.forEach(function(e){return r.addTagMapper(e)}),r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=ea(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(A.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=A.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},ra(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),A.a.clearTimeout(this.mediaUpdateTimeout),A.a.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(A.a.clearTimeout(this.finalRenditionTimeout),t){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=A.a.setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,o=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(t,r){if(n.request){if(e.resolvedUri=Qo(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e.uri,i);n.haveMetadata(r,e.uri),"HAVE_MASTER"===i?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),A.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;A.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=A.a.setTimeout(function(){return t.load()},r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new R["Parser"];return e.customTagParsers.forEach(function(e){return r.addParser(e)}),e.customTagMappers.forEach(function(e){return r.addTagMapper(e)}),r.push(n.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=Qo(e.handleManifestRedirects,e.srcUrl,n),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,ta(e.master),na(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:A.a.location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(Wo),oa=xo.createTimeRange,aa=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if("undefined"!==typeof i.start)return{result:i.start,precise:!0};if("undefined"!==typeof i.end)return{result:i.end-i.duration,precise:!0}}while(r--){if(i=e.segments[r],"undefined"!==typeof i.end)return{result:n+i.end,precise:!0};if(n+=i.duration,"undefined"!==typeof i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},sa=function(e,t){for(var n=0,r=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if(r=e.segments[i],"undefined"!==typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!==typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},ua=function(e,t,n){var r=void 0,i=void 0;return"undefined"===typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=aa(e,t),r.precise?r.result:(i=sa(e,t),i.precise?i.result:r.result+n))},la=function(e,t,n){if(!e)return 0;if("number"!==typeof n&&(n=0),"undefined"===typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return A.a.Infinity}return ua(e,t,n)},ca=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r},ha=function(e){if(!e.segments.length)return 0;var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;while(t--)if(n+=e.segments[t].duration,n>=r)break;return Math.max(0,t)},fa=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return la(e);if(null===t)return null;t=t||0;var r=n?ha(e):e.segments.length;return ua(e,e.mediaSequence+r,t)},da=function(e,t){var n=!0,r=t||0,i=fa(e,t,n);return null===i?oa():oa(r,i)},pa=function(e){return e-Math.floor(e)===0},ga=function(e,t){if(pa(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),o=t*i;if(pa(o)||r===n)return(o+e)/i}},ma=ga.bind(null,1),va=ga.bind(null,-1),Aa=function(e,t,n,r){var i=void 0,o=void 0,a=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(o=e.segments[i],s+=va(o.duration),s>0)return{mediaIndex:i,startTime:r-ca(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if(s-=e.targetDuration,s<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<a;i++)if(o=e.segments[i],s-=ma(o.duration),s<0)return{mediaIndex:i,startTime:r+ca(e,n,i)};return{mediaIndex:a-1,startTime:t}},ya=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Ea=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Ca=function(e){var t=ya(e);return!e.disabled&&!t},_a=function(e){return e.disabled},Ta=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},Sa=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},wa=function(e,t){return t.attributes&&t.attributes[e]},Ia=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!wa("BANDWIDTH",n))return NaN;var i=e*n.attributes.BANDWIDTH;return(i-8*r)/t},ba=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Ca(e)&&(e.attributes.BANDWIDTH||0)<n}).length},Da={duration:la,seekable:da,safeLiveIndex:ha,getMediaInfoForTime:Aa,isEnabled:Ca,isDisabled:_a,isBlacklisted:ya,isIncompatible:Ea,playlistEnd:fa,isAes:Ta,isFmp4:Sa,hasAttribute:wa,estimateSegmentRequestTime:Ia,isLowestEnabledRendition:ba},ka=xo.xhr,Ma=xo.mergeOptions,Ra=function(){var e=function e(t,n){t=Ma({timeout:45e3},t);var r=e.beforeRequest||xo.Hls.xhr.beforeRequest;if(r&&"function"===typeof r){var i=r(t);i&&(t=i)}var o=ka(t,function(e,t){var r=o.response;!e&&r&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=r.byteLength||r.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(r||o.responseText)))),n(e,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e},Pa=function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n},Oa=function(e){var t={};return e.byterange&&(t.Range=Pa(e.byterange)),t},La=function(e,t){return e.start(t)+"-"+e.end(t)},Na=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Ba=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},xa=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},Ua=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Ga=function(e){return e.resolvedUri},Fa=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=void 0,o=void 0,a=0;a<t.length/n;a++)i=t.slice(a*n,a*n+n).map(Na).join(""),o=t.slice(a*n,a*n+n).map(Ba).join(""),r+=i+" "+o+"\n";return r},Qa=function(e){var t=e.bytes;return Fa(t)},ja=function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=La(e,n)+" ";return t},Ha=Object.freeze({createTransferableMessage:xa,initSegmentId:Ua,segmentKeyId:Ga,hexDump:Fa,tagDump:Qa,textRanges:ja}),Ka=.25,Ya=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=t.videoTimingInfo.transmuxedPresentationStart,i=r+n,o=e-i;return new Date(t.dateTimeObject.getTime()+1e3*o)},qa=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},Ja=function(e,t){var n=void 0;try{n=new Date(e)}catch(c){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1;i++){r=t.segments[i];var o=t.segments[i+1].dateTimeObject;if(n<o)break}var a=t.segments[t.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?qa(a.videoTimingInfo):a.duration+a.duration*Ka,l=new Date(s.getTime()+1e3*u);return n>l?null:(n>s&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Da.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Va=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n=0,r=void 0,i=0;i<t.segments.length;i++)if(r=t.segments[i],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,e<=n)break;var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+o.duration*Ka)return null;r=o}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},Wa=function(e,t){var n=void 0,r=void 0;try{n=new Date(e),r=new Date(t)}catch(a){}var i=n.getTime(),o=r.getTime();return(o-i)/1e3},za=function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++){var n=e.segments[t];if(!n.dateTimeObject)return!1}return!0},Xa=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var o=Va(r,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:r},s=Ya(r,o.segment);return s&&(a.programDateTime=s.toISOString()),i(null,a)},Za=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,u=void 0===s||s,l=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if("undefined"===typeof n||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!za(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var h=Ja(n,r);if(!h)return c({message:n+" was not found in the stream"});var f=h.segment,d=Wa(f.dateTimeObject,n);if("estimate"===h.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(h.estimatedStart+d),void l.one("seeked",function(){e({programTime:n,playlist:r,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})}));var p=f.start+d,g=function(){return c(null,l.currentTime())};l.one("seeked",g),u&&l.pause(),a(p)},$a=1/30,es=3*$a,ts=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return xo.createTimeRanges(n)},ns=function(e,t){return ts(e,function(e,n){return e-es<=t&&n+es>=t})},rs=function(e,t){return ts(e,function(e){return e-$a>=t})},is=function(e){if(e.length<2)return xo.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return xo.createTimeRanges(t)},os=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},as=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.length?e.end(e.length-1):0;return(r-t)/n},ss=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},us=function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length)for(var i in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=o||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)},ls=function(e,t,n){var r=void 0,i=void 0;if(n&&n.cues){r=n.cues.length;while(r--)i=n.cues[r],i.startTime<=t&&i.endTime>=e&&n.removeCue(i)}},cs=function(e){Object.defineProperties(e.frame,{id:{get:function(){return xo.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return xo.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return xo.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},hs=function(e){var t=void 0;return t=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e,t},fs=function(e,t,n){var r=A.a.WebKitDataCue||A.a.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n){var i=hs(e.mediaSource_.duration);if(n.forEach(function(e){var t=e.cueTime+this.timestampOffset;!("number"!==typeof t||A.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach(function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,cs(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var o=e.metadataTrack_.cues,a=[],s=0;s<o.length;s++)o[s]&&a.push(o[s]);var u=a.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),l=Object.keys(u).sort(function(e,t){return Number(e)-Number(t)});l.forEach(function(e,t){var n=u[e],r=Number(l[t+1])||i;n.forEach(function(e){e.endTime=r})})}}},ds="undefined"!==typeof window?window:{},ps="undefined"===typeof Symbol?"__target":Symbol(),gs="application/javascript",ms=ds.BlobBuilder||ds.WebKitBlobBuilder||ds.MozBlobBuilder||ds.MSBlobBuilder,vs=ds.URL||ds.webkitURL||vs&&vs.msURL,As=ds.Worker;function ys(e,t){return function(n){var r=this;if(!t)return new As(e);if(As&&!n){var i=t.toString().replace(/^function.+?{/,"").slice(0,-1),o=Ts(i);return this[ps]=new As(o),Ss(this[ps],o),this[ps]}var a={postMessage:function(e){r.onmessage&&setTimeout(function(){r.onmessage({data:e,target:a})})}};t.call(a),this.postMessage=function(e){setTimeout(function(){a.onmessage({data:e,target:r})})},this.isThisThread=!0}}if(As){var Es,Cs=Ts("self.onmessage = function () {}"),_s=new Uint8Array(1);try{Es=new As(Cs),Es.postMessage(_s,[_s.buffer])}catch(ql){As=null}finally{vs.revokeObjectURL(Cs),Es&&Es.terminate()}}function Ts(e){try{return vs.createObjectURL(new Blob([e],{type:gs}))}catch(ql){var t=new ms;return t.append(e),vs.createObjectURL(t.getBlob(type))}}function Ss(e,t){if(e&&t){var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&vs.revokeObjectURL(e.objURL),n.call(e)}}}var ws=new ys("./transmuxer-worker.worker.js",function(e,t){var n=this;(function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t],n)if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v,A,y,E,C,_,T,S,w,I,b,D,k,M,R,P,O,L,N,B,x,U=e,G=Math.pow(2,32)-1;(function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),b=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),I=new Uint8Array([0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:D,audio:k},O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),N=L,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),x=L,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),t=function(e){var t,n,r,i=[],o=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);t=i.length;while(t--)o+=i[t].byteLength;for(n=new Uint8Array(o+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(e,4),t=0,o=8;t<i.length;t++)n.set(i[t],o),o+=i[t].byteLength;return n},r=function(){return t(S.dinf,t(S.dref,O))},i=function(e){return t(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return t(S.ftyp,w,I,w,b)},v=function(e){return t(S.hdlr,M[e])},a=function(e){return t(S.mdat,e)},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(S.mdhd,n)},g=function(e){return t(S.mdia,m(e),v(e.type),u(e))},s=function(e){return t(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return t(S.minf,"video"===e.type?t(S.vmhd,R):t(S.smhd,P),r(),y(e))},l=function(e,n){var r=[],i=n.length;while(i--)r[i]=C(n[i]);return t.apply(null,[S.moof,s(e)].concat(r))},c=function(e){var n=e.length,r=[];while(n--)r[n]=d(e[n]);return t.apply(null,[S.moov,f(4294967295)].concat(r).concat(h(e)))},h=function(e){var n=e.length,r=[];while(n--)r[n]=_(e[n]);return t.apply(null,[S.mvex].concat(r))},f=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(S.mvhd,n)},A=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(S.sdtp,o)},y=function(e){return t(S.stbl,E(e),t(S.stts,x),t(S.stsc,N),t(S.stsz,B),t(S.stco,L))},function(){var e,n;E=function(r){return t(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===r.type?e(r):n(r))},e=function(e){var n,r,i=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(r=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],a,[o.length],s))),t(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var u=e.sarRatio[0],l=e.sarRatio[1];r.push(t(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return t.apply(null,r)},n=function(e){return t(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))}}(),p=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(S.tkhd,n)},C=function(e){var n,r,i,o,a,s,u;return n=t(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(G+1)),u=Math.floor(e.baseMediaDecodeTime%(G+1)),r=t(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),a=92,"audio"===e.type?(i=T(e,a),t(S.traf,n,r,i)):(o=A(e),i=T(e,o.length+a),t(S.traf,n,r,i,o))},d=function(e){return e.duration=e.duration||4294967295,t(S.trak,p(e),g(e))},_=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(S.trex,n)},function(){var e,n,r;r=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},n=function(e,n){var i,o,a,s;for(o=e.samples||[],n+=20+16*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size,a.flags.isLeading<<2|a.flags.dependsOn,a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,61440&a.flags.degradationPriority,15&a.flags.degradationPriority,(4278190080&a.compositionTimeOffset)>>>24,(16711680&a.compositionTimeOffset)>>>16,(65280&a.compositionTimeOffset)>>>8,255&a.compositionTimeOffset]);return t(S.trun,new Uint8Array(i))},e=function(e,n){var i,o,a,s;for(o=e.samples||[],n+=20+8*o.length,i=r(o,n),s=0;s<o.length;s++)a=o[s],i=i.concat([(4278190080&a.duration)>>>24,(16711680&a.duration)>>>16,(65280&a.duration)>>>8,255&a.duration,(4278190080&a.size)>>>24,(16711680&a.size)>>>16,(65280&a.size)>>>8,255&a.size]);return t(S.trun,new Uint8Array(i))},T=function(t,r){return"audio"===t.type?e(t,r):n(t,r)}}();var F,Q,j,H,K,Y,q,J={ftyp:o,mdat:a,moof:l,moov:c,initSegment:function(e){var t,n=o(),r=c(e);return t=new Uint8Array(n.byteLength+r.byteLength),t.set(n),t.set(r,n.byteLength),t}},V=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},W=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},z=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},X=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Z=function(e,t){var n=X();return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},$=function(e,t){var n,r,i,o,a,s=t||0,u=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)a=o[r],i=Z(a,s),s+=i.size,u.push(i);return u},ee=function(e){var t,n,r,i,o,a,s=0,u=e.byteLength,l=e.nalCount,c=u+4*l,h=new Uint8Array(c),f=new DataView(h.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],f.setUint32(s,a.data.byteLength),s+=4,h.set(a.data,s),s+=a.data.byteLength;return h},te=function(e,t){var n,r=t||0,i=[];return n=Z(e,r),i.push(n),i},ne=function(e){var t,n,r=0,i=e.byteLength,o=e.length,a=i+4*o,s=new Uint8Array(a),u=new DataView(s.buffer);for(t=0;t<e.length;t++)n=e[t],u.setUint32(r,n.data.byteLength),r+=4,s.set(n.data,r),r+=n.data.byteLength;return s},re={groupNalsIntoFrames:V,groupFramesIntoGops:W,extendFirstKeyFrame:z,generateSampleTable:$,concatenateNalData:ee,generateSampleTableForFrame:te,concatenateNalDataForFrame:ne},ie=[33,16,5,32,164,27],oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ae=function(e){var t=[];while(e--)t.push(0);return t},se=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(e,t){return e.concat(t)},[])),t},{})},ue={96e3:[ie,[227,64],ae(154),[56]],88200:[ie,[231],ae(170),[56]],64e3:[ie,[248,192],ae(240),[56]],48e3:[ie,[255,192],ae(268),[55,148,128],ae(54),[112]],44100:[ie,[255,192],ae(268),[55,163,128],ae(84),[112]],32e3:[ie,[255,192],ae(268),[55,234],ae(226),[112]],24e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,112],ae(126),[224]],16e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,255],ae(269),[223,108],ae(195),[1,192]],12e3:[oe,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,253,128],ae(259),[56]],11025:[oe,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,255,192],ae(268),[55,175,128],ae(108),[112]],8e3:[oe,ae(268),[3,121,16],ae(47),[7]]},le=se(ue),ce=9e4;F=function(e){return e*ce},Q=function(e,t){return e*t},j=function(e){return e/ce},H=function(e,t){return e/t},K=function(e,t){return F(H(e,t))},Y=function(e,t){return Q(j(e),t)},q=function(e,t,n){return j(n?e:e-t)};var he={ONE_SECOND_IN_TS:ce,secondsToVideoTs:F,secondsToAudioTs:Q,videoTsToSeconds:j,audioTsToSeconds:H,audioTsToVideoTs:K,videoTsToAudioTs:Y,metadataTsToSeconds:q},fe=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},de=function(e,t,n,r){var i,o,a,s,u=0,l=0,c=0,h=0;if(t.length&&(i=he.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),u=Math.ceil(he.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&r&&(l=i-Math.max(n,r),c=Math.floor(l/u),h=c*u),!(c<1||h>he.ONE_SECOND_IN_TS/2))){for(o=le[e.samplerate],o||(o=t[0].data),a=0;a<c;a++)s=t[0],t.splice(0,0,{data:o,dts:s.dts-u,pts:s.pts-u});e.baseMediaDecodeTime-=Math.floor(he.videoTsToAudioTs(h,e.samplerate))}},pe=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},ge=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},me=function(e){var t,n,r=0,i=new Uint8Array(fe(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},ve={prefixWithSilence:de,trimAdtsFramesByEarliestDts:pe,generateSampleTable:ge,concatenateFrameData:me},Ae=he.ONE_SECOND_IN_TS,ye=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Ee=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Ce=function(e,t){var n,r,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(r=e.samplerate/Ae,n*=r,n=Math.floor(n)),n},_e={clearDtsInfo:Ee,calculateTrackBaseMediaDecodeTime:Ce,collectDtsInfo:ye},Te=4,Se=128,we=function(e){var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;while(t<e.byteLength){if(e[t]===Se)break;while(255===e[t])r+=255,t++;r+=e[t++];while(255===e[t])i+=255,t++;if(i+=e[t++],!n.payload&&r===Te){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n},Ie=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},be=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i=3*n,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},De=function(e){var t,n,r=e.byteLength,i=[],o=1;while(o<r-2)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},ke={parseSei:we,parseUserData:Ie,parseCaptionPackets:be,discardEmulationPreventionBytes:De,USER_DATA_REGISTERED_ITU_T_T35:Te},Me=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Be(0,0),new Be(0,1),new Be(1,0),new Be(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this)};Me.prototype=new U,Me.prototype.push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=ke.parseSei(e.escapedRBSP),t.payloadType===ke.USER_DATA_REGISTERED_ITU_T_T35&&(n=ke.parseUserData(t),n)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=ke.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Me.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},Me.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Me.prototype.flush=function(){return this.flushStream("flush")},Me.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Me.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Me.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Me.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},Me.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},Me.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var Re={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Pe=function(e){return null===e?"":(e=Re[e]||e,String.fromCharCode(e))},Oe=14,Le=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ne=function(){var e=[],t=Oe+1;while(t--)e.push("");return e},Be=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if(t=32639&e.ccData,t!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ne();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ne();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ne()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))r=(3&r)<<8,o=Pe(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(3&r)<<8,o=Pe(r|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&i)&&this.addFormatting(e.pts,["i"]),1===(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=Le.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14===(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=Pe(r),o+=Pe(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Be.prototype=new U,Be.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(ql){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Be.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ne(),this.nonDisplayed_=Ne(),this.lastControlCode_=null,this.column_=0,this.row_=Oe,this.rollUpRows_=2,this.formatting_=[]},Be.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Be.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Be.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Be.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Be.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Be.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Be.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Be.prototype.isNormalChar=function(e){return e>=32&&e<=127},Be.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=Oe,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ne(),this.displayed_=Ne()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Be.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},Be.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Be.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},Be.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},Be.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<Oe+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Be.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var xe={CaptionStream:Me,Cea608Stream:Be},Ue={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ge=8589934592,Fe=4294967296,Qe="shared",je=function(e,t){var n=1;e>t&&(n=-1);while(Math.abs(t-e)>Fe)e+=n*Ge;return e},He=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||Qe,this.push=function(e){this.type_!==Qe&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=je(e.dts,r),e.pts=je(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};He.prototype=new U;var Ke,Ye={TimestampRolloverStream:He,handleRollover:je},qe=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Je=function(e,t,n){return decodeURIComponent(qe(e,t,n))},Ve=function(e,t,n){return unescape(qe(e,t,n))},We=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},ze={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.value=Je(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Je(e.data,1,t),e.url=Je(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Ve(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};Ke=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,i=[],o=0;if(Ke.prototype.init.call(this),this.dispatchType=Ue.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,u,l,c;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug;else if(i.push(e),o+=e.data.byteLength,1===i.length&&(r=We(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},l=0;l<r;)t.data.set(i[0].data.subarray(0,r-l),l),l+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=We(t.data.subarray(10,14)),r-=We(t.data.subarray(16,20)));do{if(s=We(t.data.subarray(a+4,a+8)),s<1)return;if(c=String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),u={id:c,data:t.data.subarray(a+10,a+s+10)},u.key=u.id,ze[u.id]&&(ze[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,f=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;f*=4,f+=3&h[7],u.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),a+=10,a+=s}while(a<r);this.trigger("data",t)}}},Ke.prototype=new U;var Xe,Ze,$e,et=Ke,tt=Ye.TimestampRolloverStream,nt=188,rt=71;Xe=function(){var e=new Uint8Array(nt),t=0;Xe.prototype.init.call(this),this.push=function(n){var r,i=0,o=nt;t?(r=new Uint8Array(n.byteLength+t),r.set(e.subarray(0,t)),r.set(n,t),t=0):r=n;while(o<r.byteLength)r[i]!==rt||r[o]!==rt?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=nt,o+=nt);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===nt&&e[0]===rt&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}},Xe.prototype=new U,Ze=function(){var e,t,n,r;Ze.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i,o,a;if(1&e[5]){r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],i=3+n-4,o=(15&e[10])<<8|e[11],a=12+o;while(a<i){var s=e[a],u=(31&e[a+1])<<8|e[a+2];s===Ue.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=u:s===Ue.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=u:s===Ue.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][u]=s),a+=5+((15&e[a+3])<<8|e[a+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid){n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ue.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ue.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},Ze.prototype=new U,Ze.STREAM_TYPES={h264:27,adts:15},$e=function(){var e,t=this,n={data:[],size:0},r={data:[],size:0},i={data:[],size:0},o=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},a=function(e,n,r){var i,a=new Uint8Array(e.size),s={type:n},u=0,l=0,c=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)i=e.data[u],a.set(i.data,l),l+=i.data.byteLength;o(a,s),c="video"===n||s.packetLength<=e.size,(r||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",s)}};$e.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case Ue.H264_STREAM_TYPE:case Ue.H264_STREAM_TYPE:e=n,t="video";break;case Ue.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ue.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&a(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};e=o.programMapTable,null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(n,"video"),a(r,"audio"),a(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},$e.prototype=new U;var it={PAT_PID:0,MP2T_PACKET_LENGTH:nt,TransportPacketStream:Xe,TransportParseStream:Ze,ElementaryStream:$e,TimestampRolloverStream:tt,CaptionStream:xe.CaptionStream,Cea608Stream:xe.Cea608Stream,MetadataStream:et};for(var ot in Ue)Ue.hasOwnProperty(ot)&&(it[ot]=Ue[ot]);var at,st=it,ut=he.ONE_SECOND_IN_TS,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];at=function(e){var t,n=0;at.prototype.init.call(this),this.push=function(r){var i,o,a,s,u,l,c=0;if(e||(n=0),"audio"===r.type){t?(s=t,t=new Uint8Array(s.byteLength+r.data.byteLength),t.set(s),t.set(r.data,s.byteLength)):t=r.data;while(c+5<t.length)if(255===t[c]&&240===(246&t[c+1])){if(o=2*(1&~t[c+1]),i=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=1024*(1+(3&t[c+6])),l=u*ut/lt[(60&t[c+2])>>>2],a=c+i,t.byteLength<a)return;if(this.trigger("data",{pts:r.pts+n*l,dts:r.dts+n*l,sampleCount:u,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:lt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,a)}),n++,t.byteLength===a)return void(t=void 0);t=t.subarray(a)}else c++}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},at.prototype=new U;var ct,ht=at;ct=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,i=Math.floor(e/8),e-=8*i,t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return r-=i,r>0?n<<=i:t>0&&this.loadWord(),i=e-i,i>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ft,dt,pt,gt=ct;dt=function(){var e,t,n=0;dt.prototype.init.call(this),this.push=function(r){var i;t?(i=new Uint8Array(t.byteLength+r.data.byteLength),i.set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}while(e<o)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3;break}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},dt.prototype=new U,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ft=function(){var e,t,n,r,i,o,a,s=new dt;ft.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp";break;default:break}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),s.on("partialdone",function(){e.trigger("partialdone")}),s.on("reset",function(){e.trigger("reset")}),s.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,r,i=8,o=8;for(n=0;n<e;n++)0!==o&&(r=t.readExpGolomb(),o=(i+r+256)%256),i=0===o?i:o},i=function(e){var t,n,r=e.byteLength,i=[],o=1;while(o<r-2)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},o=function(e){var t,n,r,i,o,s,u,l,c,h,f,d,p,g,m=0,v=0,A=0,y=0,E=1;if(t=new gt(e),n=t.readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(o=t.readUnsignedExpGolomb(),3===o&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(f=3!==o?8:12,g=0;g<f;g++)t.readBoolean()&&a(g<6?16:64,t);if(t.skipUnsignedExpGolomb(),s=t.readUnsignedExpGolomb(),0===s)t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),g=0;g<u;g++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),h=t.readBits(1),0===h&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),A=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(p=t.readUnsignedByte(),p){case 1:d=[1,1];break;case 2:d=[12,11];break;case 3:d=[10,11];break;case 4:d=[16,11];break;case 5:d=[40,33];break;case 6:d=[24,11];break;case 7:d=[20,11];break;case 8:d=[32,11];break;case 9:d=[80,33];break;case 10:d=[18,11];break;case 11:d=[15,11];break;case 12:d=[64,33];break;case 13:d=[160,99];break;case 14:d=[4,3];break;case 15:d=[3,2];break;case 16:d=[2,1];break;case 255:d=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()];break}d&&(E=d[0]/d[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(l+1)-2*m-2*v)*E),height:(2-h)*(c+1)*16-2*A-2*y,sarRatio:d}}},ft.prototype=new U;var mt,vt={H264Stream:ft,NalByteStream:dt},At=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],yt=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},Et=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ct=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},_t=function(e,t,n){return unescape(Ct(e,t,n))},Tt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],i=(16&r)>>4;return i?n+20:n+10},St=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,i=6144&e[t+3];return i|r|n},wt=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},It=function(e){var t=0;while(t+5<e.length){if(255===e[t]&&240===(246&e[t+1]))return At[(60&e[t+2])>>>2];t++}return null},bt=function(e){var t,n,r,i;t=10,64&e[5]&&(t+=4,t+=Et(e.subarray(10,14)));do{if(n=Et(e.subarray(t+4,t+8)),n<1)return null;if(i=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===i){r=e.subarray(t+10,t+n+10);for(var o=0;o<r.byteLength;o++)if(0===r[o]){var a=_t(r,0,o);if("com.apple.streaming.transportStreamTimestamp"===a){var s=r.subarray(o+1),u=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return u*=4,u+=3&s[7],u}break}}t+=10,t+=n}while(t<e.byteLength);return null},Dt={isLikelyAacData:yt,parseId3TagSize:Tt,parseAdtsSize:St,parseType:wt,parseSampleRate:It,parseAacTimestamp:bt};mt=function(){var e=new Uint8Array,t=0;mt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,o,a,s=0,u=0;e.length?(a=e.length,e=new Uint8Array(n.byteLength+a),e.set(e.subarray(0,a)),e.set(n,a)):e=n;while(e.length-u>=3)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!==(255&e[u])||240!==(240&e[u+1]))u++;else{if(e.length-u<7)break;if(s=Dt.parseAdtsSize(e,u),u+s>e.length)break;o={type:"audio",data:e.subarray(u,u+s),pts:t,dts:t},this.trigger("data",o),u+=s}else{if(e.length-u<10)break;if(s=Dt.parseId3TagSize(e,u),u+s>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+s)},this.trigger("data",i),u+=s}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}},mt.prototype=new U;var kt,Mt,Rt,Pt,Ot=mt,Lt=vt.H264Stream,Nt=Dt.isLikelyAacData,Bt=he.ONE_SECOND_IN_TS,xt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ut=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Gt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ft=function(e,t,n,r,i,o){var a=n-t,s=r-t,u=i-n;return{start:{dts:e,pts:e+a},end:{dts:e+s,pts:e+u},prependedContentDuration:o,baseMediaDecodeTime:e}};Mt=function(e,t){var n=[],r=0,i=0,o=0,a=1/0;t=t||{},Mt.prototype.init.call(this),this.push=function(t){_e.collectDtsInfo(e,t),e&&xt.forEach(function(n){e[n]=t[n]}),n.push(t)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,u,l,c,h;0!==n.length?(s=ve.trimAdtsFramesByEarliestDts(n,e,i),e.baseMediaDecodeTime=_e.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),ve.prefixWithSilence(e,s,o,a),e.samples=ve.generateSampleTable(s),l=J.mdat(ve.concatenateFrameData(s)),n=[],u=J.moof(r,[e]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),_e.clearDtsInfo(e),h=Math.ceil(1024*Bt/e.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].dts,end:s[0].dts+s.length*h}),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){_e.clearDtsInfo(e),n=[],this.trigger("reset")}},Mt.prototype=new U,kt=function(e,t){var n,r,i=0,o=[],a=[];t=t||{},kt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){_e.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Ut.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){var n,r,s,u,l,c,h,f,d=0;while(o.length){if("access_unit_delimiter_rbsp"===o[0].nalUnitType)break;o.shift()}if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=re.groupNalsIntoFrames(o),s=re.groupFramesIntoGops(n),s[0][0].keyFrame||(r=this.getGopForFusion_(o[0],e),r?(d=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=re.extendFirstKeyFrame(s)),a.length){var p;if(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s),!p)return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");_e.clearDtsInfo(e),s=p}_e.collectDtsInfo(e,s),e.samples=re.generateSampleTable(s),l=J.mdat(re.concatenateNalData(s)),e.baseMediaDecodeTime=_e.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),h=s[0],f=s[s.length-1],this.trigger("segmentTimingInfo",Ft(e.baseMediaDecodeTime,h.dts,h.pts,f.dts+f.duration,f.pts+f.duration,d)),this.trigger("timingInfo",{start:s[0].dts,end:s[s.length-1].dts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),u=J.moof(i,[e]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){_e.clearDtsInfo(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=45e3,u=1e4,l=1/0;for(a=0;a<this.gopCache_.length;a++)o=this.gopCache_[a],i=o.gop,e.pps&&Gt(e.pps[0],o.pps[0])&&e.sps&&Gt(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration,n>=-u&&n<=s&&(!r||l>n)&&(r=o,l=n)));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,s,u,l;o=e.byteLength,s=e.nalCount,u=e.duration,t=n=0;while(t<a.length&&n<e.length){if(r=a[t],i=e[n],r.pts===i.pts)break;i.pts>r.pts?t++:(n++,o-=i.byteLength,s-=i.nalCount,u-=i.duration)}return 0===n?e:n===e.length?null:(l=e.slice(n),l.byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,s,u;t=a.length-1,n=e.length-1,o=null,s=!1;while(t>=0&&n>=0){if(r=a[t],i=e[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(u=s?n:o,0===u)return e;var l=e.slice(u),c=l.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(e){a=e}},kt.prototype=new U,Pt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},"undefined"!==typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Pt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},Pt.prototype=new U,Pt.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Ut.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,xt.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=J.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)t=this.pendingCaptions[i],t.startTime=he.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=he.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)n=this.pendingMetadata[i],n.cueTime=he.metadataTsToSeconds(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),i=0;i<a.captions.length;i++)t=a.captions[i],this.trigger("caption",t);for(i=0;i<a.metadata.length;i++)n=a.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Pt.prototype.setRemux=function(e){this.remuxTracks=e},Rt=function(e){var t,n,r=this,i=!0;Rt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new st.MetadataStream,i.aacStream=new Ot,i.audioTimestampRolloverStream=new st.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new st.TimestampRolloverStream("timed-metadata"),i.adtsStream=new ht,i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",function(e){i.aacStream.setTimestamp(e.timeStamp)}),i.aacStream.on("data",function(o){"timed-metadata"!==o.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Mt(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new st.MetadataStream,i.packetStream=new st.TransportPacketStream,i.parseStream=new st.TransportParseStream,i.elementaryStream=new st.ElementaryStream,i.timestampRolloverStream=new st.TimestampRolloverStream,i.adtsStream=new ht,i.h264Stream=new Lt,i.captionStream=new st.CaptionStream,i.coalesceStream=new Pt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){a=o.tracks.length;while(a--)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||(n=o.tracks[a],n.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a],t.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new kt(t,e),i.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Mt(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,_e.clearDtsInfo(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,_e.clearDtsInfo(t),i.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r)),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=Nt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Rt.prototype=new U;var Qt={Transmuxer:Rt,VideoSegmentStream:kt,AudioSegmentStream:Mt,AUDIO_PROPERTIES:xt,VIDEO_PROPERTIES:Ut,generateVideoSegmentTimingInfo:Ft},jt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kt=function(e,t){t.on("data",function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){e.postMessage({action:"caption",data:t})}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})})},Yt=function(){function e(t,n){jt(this,e),this.options=n||{},this.self=t,this.init()}return Ht(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Qt.Transmuxer(this.options),Kt(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),qt=function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new Yt(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new Yt(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}},Jt=new qt(n)})()}),Is={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},bs=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var r=("00"+Number(t).toString(16)).slice(-2),i=("00"+Number(n).toString(16)).slice(-2);return"avc1."+r+"00"+i})})},Ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},ks=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return bs([e])[0]})},Ms=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},Rs=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},Ps=function(e){var t=e.attributes||{};return t.CODECS?Ds(t.CODECS):Is},Os=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i["default"]&&i.playlists)return Ds(i.playlists[0].attributes.CODECS).audioProfile}return null},Ls=function(e,t){var n=Rs(t),r=Ps(t),i=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s)for(var u in a=!0,o=!1,s)if(!s[u].uri&&!s[u].playlists){o=!0;break}}a&&!r.audioProfile&&(o||(r.audioProfile=Os(e,i.AUDIO)),r.audioProfile||(xo.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=Is.audioProfile));var l={};r.videoCodec&&(l.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(l.audio="mp4a.40."+r.audioProfile);var c=Ms("audio",n,[l.audio]),h=Ms("video",n,[l.video]),f=Ms("video",n,[l.video,l.audio]);return a?!o&&l.video?[h,c]:o||l.video?[f,c]:[c,c]:l.video?[f]:[c]},Ns=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();t.parameters[r]=i}}),t},Bs=function(e){return/mp4a\.\d+.\d+/i.test(e)},xs=function(e){return/avc1\.[\da-f]+/i.test(e)},Us=function(e,t,n){if("undefined"===typeof t||null===t||!e.length)return[];var r=Math.ceil(9e4*(t-n+3)),i=void 0;for(i=0;i<e.length;i++)if(e[i].pts>r)break;return e.slice(i)},Gs=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var r=t[0].pts,i=0;for(i;i<e.length;i++)if(e[i].pts>=r)break;return e.slice(0,i).concat(t)},Fs=function(e,t,n,r){var i=Math.ceil(9e4*(t-r)),o=Math.ceil(9e4*(n-r)),a=e.slice(),s=e.length;while(s--)if(e[s].pts<=o)break;if(-1===s)return a;var u=s+1;while(u--)if(e[u].pts<=i)break;return u=Math.max(u,0),a.splice(u,s-u+1),a},Qs=function(e,t,n){var r=null,i=null,o=0,a=[],s=[];if(!e&&!t)return xo.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return xo.createTimeRange();var u=e.buffered,l=t.buffered,c=u.length;while(c--)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});c=l.length;while(c--)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?(o++,2===o&&(r=a[c].time)):"end"===a[c].type&&(o--,1===o&&(i=a[c].time)),null!==r&&null!==i&&(s.push([r,i]),r=null,i=null);return xo.createTimeRanges(s)},js=9e4,Hs=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var i=function(e){"function"===typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:"undefined"===typeof r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var o in n)i(o);return r},Ks=function(e){function t(e,n){jo(this,t);var r=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,xo.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=n,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=xo.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(e){Bs(e)?r.audioCodec_=e:xs(e)&&(r.videoCodec_=e)}),r.transmuxer_=new ws,r.transmuxer_.postMessage({action:"init",options:i}),r.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?r.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"===typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return Qs(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return Yo(t,e),Ho(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),us(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/js,presentation:e.start.pts/js},end:{decode:e.end.dts/js,presentation:e.end.pts/js},baseMediaDecodeTime:e.baseMediaDecodeTime/js};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/js),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])r=e.mediaSource_[n+"Buffer_"],r.updating=!1;else{var i=n+"Codec_",o=n+'/mp4;codecs="'+e[i]+'"';r=Hs(e.mediaSource_.nativeMediaSource_,o),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!e.audioDisabled_){"updateend"===i&&(e[n+"Buffer_"].updating=!1);var r=t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)});return r?e.trigger(i):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Us(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=Gs(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=Fs(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),ls(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)ls(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),fs(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(i){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:i.message,originalError:i})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(xo.EventTarget),Ys=function(e){function t(){jo(this,t);var e=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;for(n in e.nativeMediaSource_=new A.a.MediaSource,e.nativeMediaSource_)n in t.prototype||"function"!==typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?xo.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,i=0;i<e.player_.audioTracks().length;i++){var o=e.player_.audioTracks()[i];if(o.enabled&&"main"!==o.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach(function(t,i){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=i?r:!r,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},e),e.on("sourceopen",function(t){var n=E.a.querySelector('[src="'+e.url_+'"]');n&&(e.player_=xo(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))}),e.on("sourceended",function(t){for(var n=hs(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}}),e.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return Yo(t,e),Ho(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=Ns(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=bs(r),r=r.filter(function(e){return Bs(e)||xs(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new Ks(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(xo.EventTarget),qs=0;xo.mediaSources={};var Js=function(e,t){var n=xo.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},Vs=function(){return!!A.a.MediaSource&&!!A.a.MediaSource.isTypeSupported&&A.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Ws=function(){if(this.MediaSource={open:Js,supportsNativeMediaSources:Vs},Vs())return new Ys;throw new Error("Cannot use create a virtual MediaSource for this video")};Ws.open=Js,Ws.supportsNativeMediaSources=Vs;var zs={createObjectURL:function(e){var t="blob:vjs-media-source/",n=void 0;return e instanceof Ys?(n=A.a.URL.createObjectURL(e.nativeMediaSource_),e.url_=n,n):e instanceof Ys?(n=t+qs,qs++,xo.mediaSources[n]=e,n):(n=A.a.URL.createObjectURL(e),e.url_=n,n)}};xo.MediaSource=Ws,xo.URL=zs;var Xs=xo.EventTarget,Zs=xo.mergeOptions,$s=function(e,t){for(var n=void 0,r=Zs(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var o=ea(r,t.playlists[i]);o?r=o:n=!0}return Xo(t,function(e,t,i,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].uri,s=ea(r,e.playlists[0]);s&&(r=s,r.mediaGroups[t][i][o].playlists[0]=r.playlists[a],n=!1)}}),n?null:r},eu=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},tu=function(e,t){var n=Boolean(!e.map&&!t.map),r=n||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length);return r&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},nu=function(e,t){var n={};for(var r in e){var i=e[r],o=i.sidx;if(o){var a=eu(o);if(!t[a])break;var s=t[a].sidxInfo;tu(s,o)&&(n[a]=t[a])}}return n},ru=function(e,t,n,r){var i=Object(P["a"])(e,{manifestUri:t,clientOffset:n}),o=nu(i.playlists,r),a=o;return Xo(i,function(e,t,n,i){if(e.playlists&&e.playlists.length){var o=e.playlists;a=Zs(a,nu(o,r))}}),a},iu=function(e,t,n,r,i){var o={uri:Qo(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:t},a=xo.mergeOptions(o,{responseType:"arraybuffer",headers:Oa(o)});return n(a,i)},ou=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];jo(this,t);var o=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=r.withCredentials,s=void 0!==a&&a,u=r.handleManifestRedirects,l=void 0!==u&&u;if(o.hls_=n,o.withCredentials=s,o.handleManifestRedirects=l,!e)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().uri)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"===typeof e?(o.srcUrl=e,o.sidxMapping_={},qo(o)):(o.setupChildLoader(i,e),o)}return Yo(t,e),Ho(t,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},A.a.clearTimeout(this.minimumUpdatePeriodTimeout_),A.a.clearTimeout(this.mediaRequest_),A.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"sidxRequestFinished_",value:function(e,t,n,r){var i=this;return function(o,a){if(i.request){if(i.request=null,o)return i.error={status:a.status,message:"DASH playlist request error at URL: "+e.uri,response:a.response,code:2},n&&(i.state=n),i.trigger("error"),r(t,null);var s=new Uint8Array(a.response),u=L.a.parseSidx(s.subarray(8));return r(t,u)}}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"===typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(r&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var i=void 0,o=void 0;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,o=this.masterPlaylistLoader_.sidxMapping_):(i=this.master,o=this.sidxMapping_);var a=eu(e.sidx);o[a]={sidxInfo:e.sidx},this.request=iu(e.sidx,e,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,i,n,function(r,i){if(!r||!i)throw new Error("failed to request sidx");o[a].sidx=i,t.haveMetadata({startingState:n,playlist:r.playlists[e.uri]})}))}else this.mediaRequest_=A.a.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0)}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(n.uri),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),A.a.clearTimeout(this.mediaUpdateTimeout),A.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;A.a.clearTimeout(this.mediaUpdateTimeout),A.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=A.a.setTimeout(function(){return t.load()},r)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=Object(P["a"])(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n,e.playlists[n]=e.playlists[t]}return Xo(e,function(t,n,r,i){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+n+"-"+r+"-"+i;t.playlists[0].uri=o,e.playlists[o]=t.playlists[0]}}),ta(e),na(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=A.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Qo(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,n=Object(P["b"])(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:Fo(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(r,i){if(t.request){if(r)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o=void 0;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.clientOffset_=o-Date.now(),e()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=A.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.sidxMapping_=ru(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var r=e.parseMasterXml(),i=$s(e.master,r),o=e.media().sidx;if(i)if(o){var a=eu(o);if(!e.sidxMapping_[a]){var s=e.media();e.request=iu(s.sidx,s,e.hls_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(s,r,e.state,function(t,n){if(!t||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[a].sidx=n,e.minimumUpdatePeriodTimeout_=A.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod),e.refreshMedia_(e.media().uri)}))}}else e.master=i;e.minimumUpdatePeriodTimeout_=A.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media uri");var n=void 0,r=void 0;this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,r=this.masterPlaylistLoader_.parseMasterXml()):(n=this.master,r=this.parseMasterXml());var i=$s(n,r);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[e]):(this.media_=r.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=A.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},ra(this.media(),!!i))),this.trigger("loadedplaylist")}}]),t}(Xs),au=function(e){return xo.log.debug?xo.log.debug.bind(xo,"VHS:",e+" >"):function(){}};function su(){}var uu=function(){function e(t,n,r,i){jo(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=r,this.mimeType_=n,this.logger_=au("SourceUpdater["+r+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,i)):this.createSourceBuffer_(n,i)}return Ho(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.sourceBuffer_.removing=!1,e.logger_("buffered ["+os(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:xo.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:su;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.removing=!0,n.sourceBuffer_.remove(e,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==su}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!==typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e,t.runCallback_()}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){var e=this,t=function t(){e.sourceBuffer_&&"open"===e.mediaSource.readyState&&e.sourceBuffer_.abort(),e.sourceBuffer_.removeEventListener("updateend",t)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),e}(),lu={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},cu={FAILURE:2,TIMEOUT:-101,ABORTED:-102},hu=function(e){e.forEach(function(e){e.abort()})},fu=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},du=function(e){var t=e.target,n=Date.now()-t.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},pu=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:cu.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:cu.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:cu.FAILURE,xhr:t}:null},gu=function(e,t){return function(n,r){var i=r.response,o=pu(n,r);if(o)return t(o,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:cu.FAILURE,xhr:r},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}},mu=function(e,t,n){return function(r,i){var o=i.response,a=pu(r,i);return a?n(a,e):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:cu.FAILURE,xhr:i},e):(e.map.bytes=new Uint8Array(i.response),t&&!t.isInitialized()&&t.init(),e.map.timescales=B.a.timescale(e.map.bytes),e.map.videoTrackIds=B.a.videoTrackIds(e.map.bytes),n(null,e))}},vu=function(e,t,n){return function(r,i){var o=i.response,a=pu(r,i),s=void 0;return a?n(a,e):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:cu.FAILURE,xhr:i},e):(e.stats=fu(i),e.key?e.encryptedBytes=new Uint8Array(i.response):e.bytes=new Uint8Array(i.response),t&&e.map&&e.map.bytes&&(t.isInitialized()||t.init(),s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales),s&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),n(null,e))}},Au=function(e,t,n){var r=function r(i){if(i.data.source===t.requestId){e.removeEventListener("message",r);var o=i.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,t)}};e.addEventListener("message",r);var i=void 0;i=t.key.bytes.slice?t.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.key.bytes)),e.postMessage(xa({source:t.requestId,encrypted:t.encryptedBytes,key:i,iv:t.key.iv}),[t.encryptedBytes.buffer,i.buffer])},yu=function(e,t,n){var r=0,i=!1;return function(o,a){if(!i)return o?(i=!0,hu(e),n(o,a)):(r+=1,r===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?Au(t,a,n):n(null,a)):void 0)}},Eu=function(e,t){return function(n){return e.stats=xo.mergeOptions(e.stats,du(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},Cu=function(e,t,n,r,i,o,a){var s=[],u=yu(s,n,a);if(i.key&&!i.key.bytes){var l=xo.mergeOptions(t,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),c=gu(i,u),h=e(l,c);s.push(h)}if(i.map&&!i.map.bytes){var f=xo.mergeOptions(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Oa(i.map)}),d=mu(i,r,u),p=e(f,d);s.push(p)}var g=xo.mergeOptions(t,{uri:i.resolvedUri,responseType:"arraybuffer",headers:Oa(i)}),m=vu(i,r,u),v=e(g,m);return v.addEventListener("progress",Eu(i,o)),s.push(v),function(){return hu(s)}},_u=function(e,t){var n=void 0;return e?(n=A.a.getComputedStyle(e),n?n[t]:""):""},Tu=function(e,t){var n=e.slice();e.sort(function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i})},Su=function(e,t){var n=void 0,r=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||A.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||A.a.Number.MAX_VALUE,n-r},wu=function(e,t){var n=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||A.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||A.a.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},Iu=function(e,t,n,r,i){var o=e.playlists.map(function(e){var t=void 0,n=void 0,r=void 0;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,r=e.attributes.BANDWIDTH,r=r||A.a.Number.MAX_VALUE,{bandwidth:r,width:t,height:n,playlist:e}});Tu(o,function(e,t){return e.bandwidth-t.bandwidth}),o=o.filter(function(e){return!Da.isIncompatible(e.playlist)});var a=o.filter(function(e){return Da.isEnabled(e.playlist)});a.length||(a=o.filter(function(e){return!Da.isDisabled(e.playlist)}));var s=a.filter(function(e){return e.bandwidth*lu.BANDWIDTH_VARIANCE<t}),u=s[s.length-1],l=s.filter(function(e){return e.bandwidth===u.bandwidth})[0];if(!1===i){var c=l||a[0]||o[0];return c?c.playlist:null}var h=s.filter(function(e){return e.width&&e.height});Tu(h,function(e,t){return e.width-t.width});var f=h.filter(function(e){return e.width===n&&e.height===r});u=f[f.length-1];var d=f.filter(function(e){return e.bandwidth===u.bandwidth})[0],p=void 0,g=void 0,m=void 0;d||(p=h.filter(function(e){return e.width>n||e.height>r}),g=p.filter(function(e){return e.width===p[0].width&&e.height===p[0].height}),u=g[g.length-1],m=g.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var v=m||d||l||a[0]||o[0];return v?v.playlist:null},bu=function(){return Iu(this.playlists.master,this.systemBandwidth,parseInt(_u(this.tech_.el(),"width"),10),parseInt(_u(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},Du=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,u=e.syncController,l=t.playlists.filter(function(e){return!Da.isIncompatible(e)}),c=l.filter(Da.isEnabled);c.length||(c=l.filter(function(e){return!Da.isDisabled(e)}));var h=c.filter(Da.hasAttribute.bind(null,"BANDWIDTH")),f=h.map(function(e){var t=u.getSyncPoint(e,i,s,n),l=t?1:2,c=Da.estimateSegmentRequestTime(o,r,e),h=c*l-a;return{playlist:e,rebufferingImpact:h}}),d=f.filter(function(e){return e.rebufferingImpact<=0});return Tu(d,function(e,t){return Su(t.playlist,e.playlist)}),d.length?d[0]:(Tu(f,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),f[0]||null)},ku=function(){var e=this.playlists.master.playlists.filter(Da.isEnabled);Tu(e,function(e,t){return Su(e,t)});var t=e.filter(function(e){return Ds(e.attributes.CODECS).videoCodec});return t[0]||null},Mu=function(e,t,n){for(var r in n)if(!e[r]){t.trigger({type:"usage",name:"hls-608"});var i=t.textTracks().getTrackById(r);e[r]=i||t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}},Ru=function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var i=window.WebKitDataCue||window.VTTCue;n.forEach(function(e){var n=e.stream,o=e.startTime,a=e.endTime;t[n]&&(o+=r,a+=r,t[n].addCue(new i(o,a,e.text)))})}},Pu=500,Ou=function(e,t,n){if(!e||!t)return!1;var r=e.segments,i=n===r.length;return e.endList&&"open"===t.readyState&&i},Lu=function(e){return"number"===typeof e&&isFinite(e)},Nu=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Bu=function(e,t,n){var r=void 0;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)},xu=function(e){var t=e.segment,n=t.start,r=t.end,i=e.playlist,o=i.mediaSequence,a=i.id,s=i.segments,u=void 0===s?[]:s,l=e.mediaIndex,c=e.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+r+"] in timeline ["+c+"]"].join(" ")},Uu=function(e){function t(e){jo(this,t);var n=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!==typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=e.cacheEncryptionKeys,n.keyCache_={},"main"===n.loaderType_?n.captionParser_=new U.a:n.captionParser_=null,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=au("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return Yo(t,e),Ho(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!==typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():xo.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ua(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"segmentKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ga(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new uu(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(A.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),ls(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)ls(e,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&A.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=A.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&A.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=A.a.setTimeout(this.monitorBufferTick_.bind(this),Pu)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(e.timeline!==this.currentTimeline_&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return Ou(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,n,r,i,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var u=Math.max(0,a-i);if(!t.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!r&&u>=1)return null;if(null===o)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){t.segments[n];return s=a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var l=Da.getMediaInfoForTime(t,a,o.segmentIndex,o.time);n=l.mediaIndex,s=l.startTime}else{var c=Da.getMediaInfoForTime(t,i,o.segmentIndex,o.time);n=c.mediaIndex,s=c.startTime}return this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=Da.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=as(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=o)return!1;var a=Du({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o,u=s-a.rebufferingImpact,l=.5;return o<=$a&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||u<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*lu.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=Cu(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=Bu(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=r}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===cu.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===cu.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),t.key&&this.segmentKey(t.key,!0),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(Mu(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),Ru({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);"undefined"===typeof this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i=Nu(this.loaderType_,this.startingMedia_,r);if(i)return this.error({message:i,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(r&&r.segmentTimestampInfo){var o=r.segmentTimestampInfo[0].ptsTime,a=r.segmentTimestampInfo[0].dtsTime;t.timestampOffset-=o-a}this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset")}var s=this.syncController_.mappingForTimeline(t.timeline);if(null!==s&&this.trigger({type:"segmenttimemapping",mapping:s}),this.state="APPENDING",n.map){var u=Ua(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==u){var l=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:l.bytes},function(){e.activeInitSegmentId_=u})}}t.byteLength=t.bytes.byteLength,"number"===typeof n.start&&"number"===typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(xu(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(Lu(n)&&Lu(r)){ls(n,r,this.segmentMetadataTrack_);var i=A.a.WebKitDataCue||A.a.VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},a=JSON.stringify(o),s=new i(n,r,a);s.value=o,this.segmentMetadataTrack_.addCue(s)}}}}]),t}(xo.EventTarget),Gu=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},Fu=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),Qu=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jo(this,t);var r=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return Yo(t,e),Ho(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return xo.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return xo.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=Ua(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=Fu.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(Fu,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"===typeof e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){ls(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t),t){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){while(e&&e.segment.empty)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!==typeof A.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=void 0,i=function(){e.subtitlesTrack_.tech_.off("vttjsloaded",r),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")};return r=function(){e.subtitlesTrack_.tech_.off("vttjserror",i),e.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",i)}n.requested=!0;try{this.parseVTTCues_(t)}catch(ql){return this.error({message:ql.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"===typeof A.a.TextDecoder?t=new A.a.TextDecoder("utf8"):(t=A.a.WebVTT.StringDecoder(),n=!0);var r=new A.a.WebVTT.Parser(A.a,A.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){xo.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=Gu(i)),r.parse(i)}var o=e.bytes;n&&(o=Gu(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}else r.empty=!0}}]),t}(Uu),ju=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},Hu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var r=n,i=void 0,o=0;o<e.segments.length;o++){var a=e.segments[o];if(i||(i=ju(t,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new A.a.VTTCue(r,r+a.duration,a.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),t.addCue(i)),"cueOutCont"in a){var s=void 0,u=void 0,l=a.cueOutCont.split("/").map(parseFloat),c=Jo(l,2);s=c[0],u=c[1],i=new A.a.VTTCue(r,r+a.duration,""),i.adStartTime=r-s,i.adEndTime=i.adStartTime+u,t.addCue(i)}r+=a.duration}},Ku=F.a.inspect,Yu=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){var o={time:0,segmentIndex:0};return o}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3,h=c+e.datetimeToDisplayTime,f=Math.abs(i-h);if(null!==s&&(0===f||s<f))break;s=f,a={time:h,segmentIndex:u}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===r&&"undefined"!==typeof l.start){var c=Math.abs(i-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var u=t.discontinuityStarts[s],l=t.discontinuitySequence+s+1,c=e.discontinuities[l];if(c){var h=Math.abs(i-c.time);if(null!==a&&a<h)break;(!o||null===a||a>=h)&&(a=h,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){if(t.syncInfo){var o={time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence};return o}return null}}],qu=function(e){function t(){jo(this,t);var e=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=au("SyncController"),e}return Yo(t,e),Ho(t,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+ca(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],o=0;o<Yu.length;o++){var a=Yu[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,r=n-1;r>=0;r--){var i=e.segments[r];if(i&&"undefined"!==typeof i.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:i.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=void 0;return r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),r&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=B.a.timescale(t.map.bytes),r=B.a.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=Ku(e.bytes,this.inspectCache_),n=void 0,r=void 0,i=void 0;if(!t)return null;t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime,i=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime,i=t.audio);var o={segmentTimestampInfo:i,start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length};return o}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"===typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-ca(t,e.mediaIndex,i):n.end+ca(t,e.mediaIndex+1,i),this.discontinuities[o]={time:u,accuracy:s}}}}}]),t}(xo.EventTarget),Ju=new ys("./decrypter-worker.worker.js",function(e,t){var n=this;(function(){function e(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},a=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,g=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(d=s^s<<1^s<<2^s<<3^s<<4,d=d>>8^255&d^99,r[a]=d,i[d]=a,f=u[h=u[c=u[a]]],g=16843009*f^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,o=0;o<4;o++)t[o][a]=p=p<<24^p>>>8,n[o][d]=g=g<<24^g>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},s=null,u=function(){function e(n){t(this,e),s||(s=a()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var r=void 0,i=void 0,o=void 0,u=void 0,l=void 0,c=this._tables[0][4],h=this._tables[1],f=n.length,d=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");for(u=n.slice(0),l=[],this._key=[u,l],r=f;r<4*f+28;r++)o=u[r-1],(r%f===0||8===f&&r%f===4)&&(o=c[o>>>24]<<24^c[o>>16&255]<<16^c[o>>8&255]<<8^c[255&o],r%f===0&&(o=o<<8^o>>>24^d<<24,d=d<<1^283*(d>>7))),u[r]=u[r-f]^o;for(i=0;r;i++,r--)o=u[3&i?r:r-4],l[i]=r<=4||i<4?o:h[0][c[o>>>24]]^h[1][c[o>>16&255]]^h[2][c[o>>8&255]]^h[3][c[255&o]]}return e.prototype.decrypt=function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=n^a[2],c=t^a[3],h=void 0,f=void 0,d=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],A=v[0],y=v[1],E=v[2],C=v[3],_=v[4];for(g=0;g<p;g++)h=A[s>>>24]^y[u>>16&255]^E[l>>8&255]^C[255&c]^a[m],f=A[u>>>24]^y[l>>16&255]^E[c>>8&255]^C[255&s]^a[m+1],d=A[l>>>24]^y[c>>16&255]^E[s>>8&255]^C[255&u]^a[m+2],c=A[c>>>24]^y[s>>16&255]^E[u>>8&255]^C[255&l]^a[m+3],m+=4,s=h,u=f,l=d;for(g=0;g<4;g++)i[(3&-g)+o]=_[s>>>24]<<24^_[u>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^a[m++],h=s,s=u,u=l,l=c,c=h},e}(),l=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),c=function(e){function n(){t(this,n);var r=o(this,e.call(this,l));return r.jobs=[],r.delay=1,r.timeout_=null,r}return i(n,e),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(l),h=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},f=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new u(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(s=n[0],l=n[1],c=n[2],f=n[3],v=0;v<r.length;v+=4)d=h(r[v]),p=h(r[v+1]),g=h(r[v+2]),m=h(r[v+3]),i.decrypt(d,p,g,m,a,v),a[v]=h(a[v]^s),a[v+1]=h(a[v+1]^l),a[v+2]=h(a[v+2]^c),a[v+3]=h(a[v+3]^f),s=d,l=p,c=g,f=m;return o},d=function(){function n(r,i,o,a){t(this,n);var s=n.STEP,u=new Int32Array(r.buffer),l=new Uint8Array(r.byteLength),f=0;for(this.asyncStream_=new c,this.asyncStream_.push(this.decryptChunk_(u.subarray(f,f+s),i,o,l)),f=s;f<u.length;f+=s)o=new Uint32Array([h(u[f-4]),h(u[f-3]),h(u[f-2]),h(u[f-1])]),this.asyncStream_.push(this.decryptChunk_(u.subarray(f,f+s),i,o,l));this.asyncStream_.push(function(){a(null,e(l))})}return n.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=f(e,t,n);r.set(i,e.byteOffset)}},r(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),p=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},g=function(e){e.onmessage=function(t){var n=t.data,r=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new d(r,i,o,function(t,r){e.postMessage(p({source:n.source,decrypted:r}),[r.buffer])})}},m=new g(n)})()}),Vu=function(e){var t=e["default"]?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Wu=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},zu=function(e,t){t.activePlaylistLoader=e,e.load()},Xu=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;Wu(r,o),s&&(s.playlistLoader?(r.resyncLoader(),zu(s.playlistLoader,o)):u&&i.resetEverything())}},Zu=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;Wu(r,o),s&&(s.playlistLoader?u!==s.playlistLoader?(r.track&&r.track(a),r.resetEverything(),zu(s.playlistLoader,o)):zu(s.playlistLoader,o):i.resetEverything())}},$u={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Wu(n,r);var o=r.activeTrack(),a=r.activeGroup(),s=(a.filter(function(e){return e["default"]})[0]||a[0]).id,u=r.tracks[s];if(o!==u){for(var l in xo.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[l].enabled=r.tracks[l]===u;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];xo.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Wu(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},el={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",$u[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",$u[e](e,n))}},tl={AUDIO:function(e,t){var n=t.hls,r=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,a=t.master.mediaGroups,s=t.mediaTypes[e],u=s.groups,l=s.tracks,c=t.masterPlaylistLoader;for(var h in a[e]&&0!==Object.keys(a[e]).length||(a[e]={main:{default:{default:!0}}}),a[e])for(var f in u[h]||(u[h]=[]),a[e][h]){var d=a[e][h][f],p=void 0;if(p=d.resolvedUri?new ia(d.resolvedUri,n,o):d.playlists&&"dash"===r?new ou(d.playlists[0],n,o,c):null,d=xo.mergeOptions({id:f,playlistLoader:p},d),el[e](e,d.playlistLoader,t),u[h].push(d),"undefined"===typeof l[f]){var g=new xo.AudioTrack({id:f,kind:Vu(d),enabled:!1,language:d.language,default:d["default"],label:f});l[f]=g}}i.on("error",$u[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,u=t.mediaTypes[e],l=u.groups,c=u.tracks,h=t.masterPlaylistLoader;for(var f in s[e])for(var d in l[f]||(l[f]=[]),s[e][f])if(!s[e][f][d].forced){var p=s[e][f][d],g=void 0;if("hls"===i?g=new ia(p.resolvedUri,r,a):"dash"===i&&(g=new ou(p.playlists[0],r,a,h)),p=xo.mergeOptions({id:d,playlistLoader:g},p),el[e](e,p.playlistLoader,t),l[f].push(p),"undefined"===typeof c[d]){var m=n.addRemoteTextTrack({id:d,kind:"subtitles",default:p["default"]&&p.autoselect,language:p.language,label:d},!1).track;c[d]=m}}o.on("error",$u[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in r[e])for(var u in o[s]||(o[s]=[]),r[e][s]){var l=r[e][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(xo.mergeOptions({id:u},l)),"undefined"===typeof a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l["default"]&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},nl=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=i[o.attributes[e]]),a=a||i.main,"undefined"===typeof n?a:null===n?null:a.filter(function(e){return e.id===n.id})[0]||null}},rl={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}},il=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){tl[t](t,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.hls;["AUDIO","SUBTITLES"].forEach(function(n){t[n].activeGroup=nl(n,e),t[n].activeTrack=rl[n](n,e),t[n].onGroupChanged=Xu(n,e),t[n].onTrackChanged=Zu(n,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e["default"]})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var u in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])},ol=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:su,activeTrack:su,onGroupChanged:su,onTrackChanged:su}}),e},al=120,sl=void 0,ul=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ll=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},cl=function(e){function t(e){jo(this,t);var n=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.url,i=e.handleManifestRedirects,o=e.withCredentials,a=e.tech,s=e.bandwidth,u=e.externHls,l=e.useCueTags,c=e.blacklistDuration,h=e.enableLowInitialPlaylist,f=e.sourceType,d=e.seekTo,p=e.cacheEncryptionKeys;if(!r)throw new Error("A non-empty playlist URL is required");sl=u,n.withCredentials=o,n.tech_=a,n.hls_=a.hls,n.seekTo_=d,n.sourceType_=f,n.useCueTags_=l,n.blacklistDuration=c,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:i,timeout:null},n.mediaTypes_=ol(),n.mediaSource=new xo.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=xo.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new qu(e),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Ju,n.inbandTextTracks_={};var g={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p};return n.masterPlaylistLoader_="dash"===n.sourceType_?new ou(r,n.hls_,n.requestOptions_):new ia(r,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Uu(xo.mergeOptions(g,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new Uu(xo.mergeOptions(g,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new Qu(xo.mergeOptions(g,{loaderType:"vtt"}),e),n.setupSegmentLoaderListeners_(),ul.forEach(function(e){n[e+"_"]=ll.bind(n,e)}),n.logger_=au("MPC"),n.masterPlaylistLoader_.load(),n}return Yo(t,e),Ho(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ba(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),il({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(ql){return xo.log.warn("Failed to create SourceBuffers",ql),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var r=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){var i=function t(){e.duration()===1/0?r():e.tech_.one("durationchange",t)};e.tech_.one("durationchange",i)}else r()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;ba(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media(),n=e.stuckAtPlaylistEnd_(t);n&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){var s=n.AUDIO[o][a];s.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),sl.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),sl.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),i=r.length?r.end(r.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!n.endList||e.duration()<lu.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},al)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){xo.browser.IE_VERSION||xo.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(xo.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(ql){return xo.log.warn("Failed to create Source Buffers",ql),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();"undefined"!==typeof e&&"function"===typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(ql){xo.log.warn("Failed to call media source endOfStream",ql)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){var t=this.seekable();if(!t.length)return!1;var n=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===n)return!1;var r=sl.Playlist.playlistEnd(e,n),i=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return r-i<=es;var a=o.end(o.length-1);return a-i<=es&&r-a<=es}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,r=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(ql){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(Ca).length,o=this.masterPlaylistLoader_.master.playlists;return 1===o.length?(xo.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(i&&(xo.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),o.forEach(function(e){e.excludeUntil!==1/0&&delete e.excludeUntil}),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),xo.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r,i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=ns(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:sl.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(e=sl.Playlist.seekable(n,r),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===r)return;if(t=sl.Playlist.seekable(n,r),0===t.length)return}var i=void 0,o=void 0;this.seekable_&&this.seekable_.length&&(i=this.seekable_.end(0),o=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=xo.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===i&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+os(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=sl.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+n);try{e.mediaSource.duration=n}catch(ql){xo.log.warn("Failed to set media source duration",ql)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if(t=Ls(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new xo.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){e.attributes.CODECS&&A.a.MediaSource&&A.a.MediaSource.isTypeSupported&&!A.a.MediaSource.isTypeSupported('video/mp4; codecs="'+ks(e.attributes.CODECS)+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,r=void 0;e.attributes.CODECS&&(r=Ds(e.attributes.CODECS),n=r.videoCodec,t=r.codecCount),this.master().playlists.forEach(function(e){var r={codecCount:2,videoCodec:null};e.attributes.CODECS&&(r=Ds(e.attributes.CODECS)),r.codecCount!==t&&(e.excludeUntil=1/0),r.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),Hu(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=lu.GOAL_BUFFER_LENGTH,n=lu.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,lu.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=lu.BUFFER_LOW_WATER_LINE,n=lu.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,lu.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),t}(xo.EventTarget),hl=function(e,t,n){return function(r){var i=e.master.playlists[t],o=Ea(i),a=Ca(i);return"undefined"===typeof r?a:(r?delete i.disabled:i.disabled=!0,r===a||o||(n(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},fl=function e(t,n,r){jo(this,e);var i=t.masterPlaylistController_,o=t.options_.smoothQualityChange,a=o?"smooth":"fast",s=i[a+"QualityChange_"].bind(i);if(n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=hl(t.playlists,n.uri,s)},dl=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!Ea(e)}).map(function(t,n){return new fl(e,t,t.uri)})}},pl=["seeking","seeked","pause","playing","error"],gl=function(){function e(t){var n=this;jo(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=au("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(pl,o),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",i),n.tech_.off(pl,o),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&A.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return Ho(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&A.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=A.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+es>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking();if(!e)return!1;var t=this.seekable(),n=this.tech_.currentTime(),r=this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow),i=void 0;if(r){var o=t.end(t.length-1);i=o}if(this.beforeSeekableWindow_(t,n)){var a=t.start(0);i=a+es}return"undefined"!==typeof i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+os(t)+". Seeking to "+i+"."),this.seekTo(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=ns(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=rs(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var o=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var i=e.end(e.length-1)+es,o=!n.endList;return o&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-es)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=rs(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+$a),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=is(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null}}]),e}(),ml={errorInterval:30,getSource:function(e){var t=this.tech({IWillNotUseThisInPlugins:!0}),n=t.currentSource_;return e(n)}},vl=function e(t,n){var r=0,i=0,o=xo.mergeOptions(ml,n);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&t.currentTime(i)},s=function(e){null!==e&&void 0!==e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},u=function(){if(Date.now()-r<1e3*o.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"===typeof o.getSource)return r=Date.now(),o.getSource.call(t,s);xo.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function e(){t.off("loadedmetadata",a),t.off("error",u),t.off("dispose",e)},c=function(n){l(),e(t,n)};t.on("error",u),t.on("dispose",l),t.reloadSourceOnError=c},Al=function(e){vl(this,e)},yl="1.10.6";xo.use("*",function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}});var El={PlaylistLoader:ia,Playlist:Da,Decrypter:Q["Decrypter"],AsyncStream:Q["AsyncStream"],decrypt:Q["decrypt"],utils:Ha,STANDARD_PLAYLIST_SELECTOR:bu,INITIAL_PLAYLIST_SELECTOR:ku,comparePlaylistBandwidth:Su,comparePlaylistResolution:wu,xhr:Ra()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(El,e,{get:function(){return xo.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),lu[e]},set:function(t){xo.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!==typeof t||t<0?xo.log.warn("value of Hls."+e+" must be greater than or equal to 0"):lu[e]=t}})});var Cl="videojs-vhs",_l=function(e){var t=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(t.test(e))return"hls";var n=/^application\/dash\+xml/i;return n.test(e)?"dash":null},Tl=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},Sl=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),Tl(e,t.playlists)};El.canPlaySource=function(){return xo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var wl=function(e,t,n){if(!e)return e;var r={};for(var i in e)r[i]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(r[i].pssh=t.contentProtection[i].pssh),"string"===typeof e[i]&&(r[i].url=e[i]);return xo.mergeOptions(e,r)},Il=function(e){if("dash"===e.options_.sourceType){var t=xo.players[e.tech_.options_.playerId];if(t.eme){var n=wl(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(t.currentSource().keySystems=n,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},bl=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem(Cl);if(!e)return null;try{return JSON.parse(e)}catch(ql){return null}},Dl=function(e){if(!window.localStorage)return!1;var t=bl();t=t?xo.mergeOptions(t,e):e;try{window.localStorage.setItem(Cl,JSON.stringify(t))}catch(ql){return!1}return t};El.supportsNativeHls=function(){var e=E.a.createElement("video");if(!xo.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),El.supportsNativeDash=function(){return!!xo.getTech("Html5").isSupported()&&/maybe|probably/i.test(E.a.createElement("video").canPlayType("application/dash+xml"))}(),El.supportsTypeNatively=function(e){return"hls"===e?El.supportsNativeHls:"dash"===e&&El.supportsNativeDash},El.isSupported=function(){return xo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var kl=xo.getComponent("Component"),Ml=function(e){function t(e,n,r){jo(this,t);var i=qo(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.hls));if(n.options_&&n.options_.playerId){var o=xo(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return xo.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),i},configurable:!0}),o.vhs=i,o.dash=i,i.player_=o}if(i.tech_=n,i.source_=e,i.stats={},i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(E.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=E.a.fullscreenElement||E.a.webkitFullscreenElement||E.a.mozFullScreenElement||E.a.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}return Yo(t,e),Ho(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!==typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=bl();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=lu.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===lu.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(t){"undefined"!==typeof e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=El,this.options_.sourceType=_l(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e),n.setCurrentTime(e)},this.masterPlaylistController_=new cl(this.options_),this.playbackWatcher_=new gl(xo.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){var e=xo.players[n.tech_.options_.playerId];e.error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):El.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=El.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;t=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(e+t));return n},set:function(){xo.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return ss(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ss(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&Dl({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){dl(n),Il(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(xo.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=xo.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Sl(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){Tl(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,Ko(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return Xa({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return Za({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(kl),Rl={name:"videojs-http-streaming",VERSION:yl,canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=xo.mergeOptions(xo.options,t);return Rl.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=xo.mergeOptions(xo.options,n);return t.hls=new Ml(e,t,r),t.hls.xhr=Ra(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=xo.mergeOptions(xo.options,t),r=n.hls.overrideNative,i=_l(e),o=i&&(!El.supportsTypeNatively(i)||r);return o?"maybe":""}};"undefined"!==typeof xo.MediaSource&&"undefined"!==typeof xo.URL||(xo.MediaSource=Ws,xo.URL=zs),Ws.supportsNativeMediaSources()&&xo.getTech("Html5").registerSourceHandler(Rl,0),xo.HlsHandler=Ml,xo.HlsSourceHandler=Rl,xo.Hls=El,xo.use||xo.registerComponent("Hls",El),xo.options.hls=xo.options.hls||{},xo.registerPlugin?xo.registerPlugin("reloadSourceOnError",Al):xo.plugin("reloadSourceOnError",Al);var Pl,Ol=xo;n("8bbf");function Ll(e){return e.toString().length<2?"0"+e:e}function Nl(e){var t=parseInt(e/1e3/60/60),n=e-1e3*t*60*60,r=parseInt(n/1e3/60);n-=1e3*r*60;var i=parseInt(n/1e3);return Ll(t)+":"+Ll(r)+":"+Ll(i)}n("658b"),n("bfa1"),n("2de7"),n("fe90"),n("a819"),n("87ad"),n("2eff"),n("c3d3"),window.loadErrorMessage=function(){Object(c["a"])("直播结束了哦"),d()("#player").append("<div class='liveOver'><img src='"+window.coverURL+"'></div>"),setTimeout(function(){d()(".vjs-modal-dialog-content").remove()},100)};var Bl=navigator.userAgent.toLowerCase(),xl="ipad"==Bl.match(/ipad/i),Ul="iphone os"==Bl.match(/iphone os/i),Gl="android"==Bl.match(/android/i),Fl=(Bl.match(/MicroMessenger/i),navigator.userAgent.match(/QQ\//i),Bl.match(/WeiBo/i),"ontouchend"in window?"touchend":"click");function Ql(){return document.querySelector("#player")}window.renderData={},window.hlsUrl="",window.flvUrl="",window.timesadd=null,window.isFirstTimePlay=!1,window.playOnError=!1,window._reloadTimer;var jl={name:"",props:{},data:function(){return{visible:!0,mainimg:"",mainimgw:"",mainimgh:"",status:"",dibu:"../../assets/imgs/tan_text.png",beginTime:"",contentImgUrl:"",contentImgUrlh:"",compereName:"",compereHeadImgUrl:"",dynamicNum:"",fansNum:"",isFollow:"",compereImgUrl:"",liveshowName:"",liveshowRealNum:"",timstr:"",liveshowStatus:"",endoff:!1,info:"",noticedata:null}},created:function(){this.getLiveShowInfo()},mounted:function(){clearInterval(window.load),!this.$userData.userId&&Object(h["i"])(),document.getElementById("player").style.width=window.screen.width+"px",document.getElementById("player").style.height=window.screen.height+"px";var e=navigator.userAgent,t=(navigator.appVersion,e.indexOf("Android")>-1||e.indexOf("Linux")>-1);e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);t&&d()(".video-pane").css("top","30px")},components:{loading:g["default"],fulltalk:m["default"]},beforeRouteEnter:function(e,t,n){Object(p["d"])({liveId:e.query.liveId}).then(function(e){if(0==e.tag){var t=e.data;"2"!=t.result.liveshowStatus?n({name:"startorend",params:{allinfo:JSON.stringify(t)}}):(window.load=setInterval(function(){"none"==d()("#initLoading").css("display")&&(document.getElementById("initLoading").style.display="block")},500),n())}})},methods:(Pl={father:function(){},blur:function(){setTimeout(function(){d()("body,html").scrollTop(d()(document).scrollTop())},0)},send:function(){var e=this;this.info&&sendmsg(this.info).then(function(t){e.info=""})},getLiveShowInfo:function(){var e=this;Object(p["d"])({liveId:this.$route.query.liveId}).then(function(t){var n;if(Object(p["j"])((n={id:Number(e.$route.query.liveId),addSubFlag:1,access_token:e.$userData.access_token?e.$userData.access_token:Object(h["i"])(),simt_token:e.$userData.access_token?e.$userData.access_token:Object(h["i"])()},Object(l["a"])(n,"simt_token",e.$userData.access_token?e.$userData.access_token:Object(h["i"])()),Object(l["a"])(n,"userId",e.$userData.userId?e.$userData.userId:Object(h["i"])()),n)),0==t.tag){allinfo=t.data;var r="./img/user-img.png";d()(".j-user-avatar").html('<img src="'+(allinfo.result.compereHeadImgUrl||r)+'">'),d()(".j-user-name").text(allinfo.result.liveshowName.slice(0,4)+".."),d()("#user-icon-fans").html(allinfo.result.liveshowRealNum);var i=Number(allinfo.result.liveshowHot)+1;d()("#user-icon-like").html(i.toString()),window.timesadd&&clearInterval(window.timesadd);var o=e;if(window.timesadd=setInterval(function(){Object(p["d"])({liveId:o.$route.query.liveId}).then(function(e){if(0==e.tag){var t=e.data,n=Number(t.result.liveshowHot);d()("#user-icon-like").html(n.toString())}})},2e3),hlsUrl=allinfo.result.liveshowAddress.split(".flv")[0]+".m3u8",hlsUrl.indexOf("http:")>-1){var a=hlsUrl.split("http:");hlsUrl="https:"+a[1]}if(flvUrl=allinfo.result.liveshowAddress,flvUrl.indexOf("http:")>-1){var s=flvUrl.split("http:");flvUrl="https:"+s[1]}var u=allinfo.result.coverImgUrl||"./img/back-img.png";document.querySelector("#PlayerContainer").style.backgroundImage="url("+u+")",document.querySelector("#PlayerContainer").style.backgroundSize="cover";var c=e;window.coverURL=u,d()(".mask").remove(),d()(".vjs-big-play-button").css("z-index","111!important"),c.initPlayer(),c.bindEventAfterInitParams(),e.bindEvent(),document.getElementById("initLoading").style.display="none";var f={title:allinfo.result.liveshowName,desc:1==allinfo.result.liveshowStatus?allinfo.result.compereName+" 直播精彩回放":2==allinfo.result.liveshowStatus?allinfo.result.compereName+" 正在直播":"",imgUrl:allinfo.result.coverImgUrl||location.origin+"/open/qcloud/video/share/img/default_cover.jpg",link:window.location.href};Object(h["b"])(f)}}).finally(function(e){})},downApp:function(){Object(h["k"])(),Object(h["d"])(".jump")},showVideoCover:function(){document.querySelector("#PlayerCover").style.display=""},hideVideoCover:function(){document.querySelector("#PlayerCover").style.display="none"},addSource:function(e,t,n){var r=document.createElement("source");r.src=t,r.type=n,e.appendChild(r)},isIPhoneX:function(e){var t=navigator.userAgent;t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},initPlayer:function(){var e=document.querySelector("#PlayerContainer");e.style.height=(window.innerHeight||document.documentElement.clientHeight)+"px";var t=function(){var e=setInterval(function(){var t=r.currentTime();t>0&&(d()(".vjs-poster").remove(),clearInterval(e))},200),t=-1;clearInterval(n),n=setInterval(function(){var e=r.currentTime();Object(p["d"])({liveId:i.$route.query.liveId}).then(function(e){if(0==e.tag){var t=e.data;if("2"!=t.result.liveshowStatus){d()(".talk_input").hide(),d()(".talk_more").hide(),d()("#player").append("<div class='liveOver'><img src='"+window.coverURL+"'></div>"),clearInterval(n),d()(".video-pane-info").hide(),i.mainimg=t.result.coverImgUrl,i.liveshowStatus=t.result.liveshowStatus,i.status="0"==t.result.liveshowStatus?"未开始":"1"==t.result.liveshowStatus?"已结束":"0",i.beginTime=t.result.beginTime,i.contentImgUrl=t.result.contentImgUrl,i.contentImgUrlh=t.result.contentImgHeight/2,i.compereName=t.result.compereName,i.compereHeadImgUrl=t.result.compereHeadImgUrl,i.dynamicNum=t.result.dynamicNum,i.fansNum=t.result.fansNum,i.isFollow=t.result.isFollow,i.compereImgUrl=t.result.compereImgUrl,i.liveshowName=t.result.liveshowName,i.liveshowRealNum=t.result.liveshowRealNum;var r=new Date(t.result.endTime.replace(/\-/g,"/"))-new Date(t.result.beginTime.replace(/\-/g,"/"));i.timstr=Nl(r.toString()),i.endoff=!0}}}),e==t?(Object(c["a"])("请检查网络环境~"),r.play(),r.unload()):t=e},3e3)};document.querySelector("#player source").src=hlsUrl;var n,r=Ol("player",{bigPlayButton:!0,controlBar:!0},function(){this.on("loadedmetadata",function(){t()})}),i=this},startVideo:function(e){var t=document.getElementById("videoElement"),n=flvjs.createPlayer({type:"flv",isLive:!0,hasAudio:!0,hasVideo:!0,enableStashBuffer:!0,url:e});n.attachMediaElement(t),n.load(),n.play()},destoryVideo:function(){flvPlayer.pause(),flvPlayer.unload(),flvPlayer.detachMediaElement(),flvPlayer.destroy(),flvPlayer=null},reloadVideo:function(){this.destoryVideo(),this.startVideo()},videoEventHandler:function(e){var t=document.querySelector("#player");t&&"timeupdate"==e.type&&!isFirstTimePlay&&(isFirstTimePlay=!0,this.hideVideoCover(),(xl||Ul)&&(t.style.height="auto"),Gl&&window.setTimeout(function(){t.style.height="auto"},500)),t&&"pause"==e.type&&(isFirstTimePlay=!1,this.showVideoCover()),t&&"error"==e.type?(Object(c["a"])("视频加载失败，请稍后重试或刷新页面"),playOnError=!0,(xl||Ul)&&this.reloadVideo()):(playOnError=!1,_reloadTimer&&window.clearTimeout(_reloadTimer)),e.type}},Object(l["a"])(Pl,"reloadVideo",function(){_reloadTimer&&window.clearTimeout(_reloadTimer),_reloadTimer=window.setTimeout(function(){playOnError&&(this.loadVideo(hlsUrl),Ql().play())},3e3)}),Object(l["a"])(Pl,"loadVideo",function(e){Ql().src=e}),Object(l["a"])(Pl,"initLogin",function(){1==accountMode?webim.Tool.getQueryString("tmpsig")?null==loginInfo.identifier&&(webim.Log.info("start fetchUserSig"),TLSHelper.fetchUserSig(),showDiscussTool()):webim.Tool.getCookie("sdkappid")&&webim.Tool.getCookie("userSig")&&webim.Tool.getCookie("identifier")&&webim.Tool.getCookie("accountType")?(loginInfo.sdkappid=loginInfo.appIDAt3rd=webim.Tool.getCookie("sdkappid"),loginInfo.userSig=webim.Tool.getCookie("userSig"),loginInfo.identifier=webim.Tool.getCookie("identifier"),loginInfo.accountType=webim.Tool.getCookie("accountType"),sdkLogin(),showDiscussTool()):(showLoginForm(),sdkLogin()):(sdkLogin(),showLoginForm())}),Object(l["a"])(Pl,"bindEvent",function(e){d()(document).on(Fl,".j-btn-login",function(){tlsLogin()}),d()(document).on(Fl,".j-btn-anologin",function(){anoLogin(loginInfo.sdkAppID)}),d()(document).on(Fl,".j-btn-sms",function(e){smsPicClick(),e.stopPropagation()}),d()(document).on(Fl,".j-btn-like",function(){sendGroupLoveMsg()}),d()(document).on(Fl,".j-btn-show-emotion",function(){showEmotionDialog()}),d()(document).on(Fl,".j-btn-send-msg",function(){onSendMsg()}),d()(document).on(Fl,".j-btn-logout",function(){logout()}),d()(document).on(Fl,"#video-discuss-form",function(e){e.stopPropagation()}),window.addEventListener("orientationchange",function(e){}),document.addEventListener("DOMContentLoaded",function(e){var t=document.querySelector("#j-video-page");t.style.width=window.innerWidth+"px",t.style.height=window.innerHeight+"px"}),window.addEventListener("resize",function(e){var t=document.querySelector("#j-video-page"),n=document.querySelector("#PlayerContainer");n.style.width=t.style.width=window.innerWidth+"px",n.style.height=t.style.height=window.innerHeight+"px"})}),Object(l["a"])(Pl,"bindEventAfterInitParams",function(e){d()(document).on(Fl,".video-pane-body",function(){var e=document.querySelector("#player");e&&(playOnError&&this.loadVideo(hlsUrl),e.play()),switchForm()})}),Object(l["a"])(Pl,"setShareInfo",function(e){shareInfo={title:allinfo.result.liveshowName,desc:1==allinfo.result.liveshowStatus?allinfo.result.compereName+" 直播精彩回放":2==allinfo.result.liveshowStatus?allinfo.result.compereName+" 正在直播":"",imgUrl:allinfo.result.coverImgUrl||location.origin+"/open/qcloud/video/share/img/default_cover.jpg",link:window.location.href,success:function(e){},cancel:function(e){}},document.querySelector("[name=description]").setAttribute("content",shareInfo.desc),window.wx?(wx.onMenuShareTimeline({title:shareInfo.title+" "+shareInfo.desc,link:shareInfo.link,imgUrl:shareInfo.imgUrl,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage(shareInfo),wx.onMenuShareQQ(shareInfo),wx.onMenuShareWeibo(shareInfo),wx.onMenuShareQZone(shareInfo)):window.mqq&&mqq.data.setShareInfo({title:shareInfo.title,desc:shareInfo.desc,share_url:shareInfo.link,image_url:shareInfo.imgUrl})}),Object(l["a"])(Pl,"initShareInfo",function(e){window.wx?d.a.ajax({type:"POST",url:SERVER,data:JSON.stringify({Action:"GetWeixinSignature",url:location.href.split("?")[0]}),crossDomain:!0,dataType:"json"}).done(function(t){var n=t.returnValue,r=t.returnData.data;0==n&&r?(r.jsApiList=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],wx.config(r),wx.ready(function(){setShareInfo(e)})):setShareInfo(e)}).fail(function(t,n,r){setShareInfo(e)}):setShareInfo(e)}),Object(l["a"])(Pl,"initParams",function(){var e=u(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){sdkAppID=t.$route.query["sdkappid"]||sdkAppID,accountType=t.$route.query["acctype"]||accountType,avChatRoomId=selToID=t.$route.query["groupid"]||avChatRoomId,hlsUrl=t.$route.query["hls"];var r=t.$route.query["identifier"];t.$route.query["type"];/@v_tls/.test(r)&&(r=prompt("输入您的昵称","游客")),loginInfo={sdkAppID:sdkAppID,appIDAt3rd:sdkAppID,accountType:accountType,identifier:null,identifierNick:r||"游客",userSig:null,headurl:"img/2016.gif"},webim.Tool.setCookie("accountType",loginInfo.accountType,86400);var i={Action:"GetUserInfo",userid:allinfo.result.liveshowUnique,type:t.$route.query["type"]||"",fileid:t.$route.query["fileid"]||""};d.a.ajax({type:"POST",url:SERVER,data:JSON.stringify(i),crossDomain:!0,dataType:"json"}).done(function(t,n,r){e(t),document.getElementById("initLoading").style.display="none",0==t.returnValue?(avChatRoomId=selToID=t.returnData.groupid||avChatRoomId,renderData=t):Object(c["a"])("接口返回数据错误: "+t.returnMsg+"["+t.returnValue+"]")}).fail(function(e,t,n){Object(c["a"])("接口返回数据错误")})}));case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()),Object(l["a"])(Pl,"init",function(){var e=this,t=this;this.$nextTick(function(){e.initParams().then(function(e){d()(".mask").remove(),d()(".vjs-big-play-button").css("z-index","111!important"),0==e.returnData.type&&t.initLogin(),t.initPlayer(),t.bindEventAfterInitParams(e)}),e.bindEvent()})}),Pl)},Hl=jl,Kl=(n("0445"),n("2877")),Yl=Object(Kl["a"])(Hl,r,i,!1,null,"76f79460",null);t["default"]=Yl.exports},"55dd":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),a=n("79e5"),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},"59a0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("fc85"),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},f=function(e){var t=e.split(h()),n={},r=t.length,i=void 0;while(r--)""!==t[r]&&(i=/([^=]*)=(.*)/.exec(t[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),n[i[0]]=i[1]);return n},d=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return c(t,e),i(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e),t)return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e),t){if(n={type:"tag",tagType:"map"},t[1]){var i=f(t[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var o=i.BYTERANGE.split("@"),a=r(o,2),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}this.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e),t){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=f(t[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}this.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e),t)return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=f(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e),t)return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e),t)return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=f(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),t}(a["default"]);t["default"]=d},"5c95":function(e,t,n){var r=n("35e8");e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},6431:function(e,t,n){"use strict";var r=n("1804"),i=n.n(r);i.a},6444:function(e,t){var n=function(e){return e.replace(/^\s+|\s+$/g,"")},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};for(var t={},i=n(e).split("\n"),o=0;o<i.length;o++){var a=i[o],s=a.indexOf(":"),u=n(a.slice(0,s)).toLowerCase(),l=n(a.slice(s+1));"undefined"===typeof t[u]?t[u]=l:r(t[u])?t[u].push(l):t[u]=[t[u],l]}return t}},"656e":function(e,t,n){"use strict";var r=n("79aa");function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},"658b":function(e,t,n){"use strict";n.r(t),function(e){n("c5f6"),n("7f7f"),n("3b2b"),n("7514"),n("55dd"),n("28a5"),n("a481"),n("4917");var t=n("7618"),r=(n("1157"),n("8bbf"),n("a18c"));function i(e){var t;return new Promise(function(n,i){r["a"].afterEach(function(r){t=e in r.query?r.query[e]:null,n(t)})})}!function(n,r){"object"==Object(t["a"])(e)&&"object"==Object(t["a"])(e.exports)?e.exports=n.document?r(n,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(n)}("undefined"!=typeof window?window:void 0,function(e,r){function i(e){var t="length"in e&&e.length,n=te.type(e);return"function"!==n&&!te.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function o(e,t,n){if(te.isFunction(t))return te.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return te.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(le.test(t))return te.filter(t,e,n);t=te.filter(t,e)}return te.grep(e,function(e){return V.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=ve[e]={};return te.each(e.match(me)||[],function(e,n){t[n]=!0}),t}function u(){$.removeEventListener("DOMContentLoaded",u,!1),e.removeEventListener("load",u,!1),te.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=te.expando+l.uid++}function c(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(_e,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ce.test(n)?te.parseJSON(n):n)}catch(a){}Ee.set(e,t,n)}else n=void 0;return n}function h(){return!0}function f(){return!1}function d(){try{return $.activeElement}catch(e){}}function p(e,t){return te.nodeName(e,"table")&&te.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function m(e){var t=Ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n=0,r=e.length;r>n;n++)ye.set(e[n],"globalEval",!t||ye.get(t[n],"globalEval"))}function A(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(ye.hasData(e)&&(o=ye.access(e),a=ye.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;r>n;n++)te.event.add(t,i,l[i][n]);Ee.hasData(e)&&(s=Ee.access(e),u=te.extend({},s),Ee.set(t,u))}}function y(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&te.nodeName(e,t)?te.merge([e],n):n}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ie.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function C(t,n){var r,i=te(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:te.css(i[0],"display");return i.detach(),o}function _(e){var t=$,n=je[e];return n||(n=C(e,t),"none"!==n&&n||(Qe=(Qe||te("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Qe[0].contentDocument,t.write(),t.close(),n=C(e,t),Qe.detach()),je[e]=n),n}function T(e,t,n){var r,i,o,a,s=e.style;return n=n||Ye(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||te.contains(e.ownerDocument,e)||(a=te.style(e,t)),Ke.test(a)&&He.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function w(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Xe.length;i--;)if(t=Xe[i]+n,t in e)return t;return r}function I(e,t,n){var r=Je.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function b(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=te.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=te.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=te.css(e,"border"+Se[o]+"Width",!0,i))):(a+=te.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=te.css(e,"border"+Se[o]+"Width",!0,i)));return a}function D(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ye(e),a="border-box"===te.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=T(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ke.test(i))return i;r=a&&(Z.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+b(e,t,n||(a?"border":"content"),r,o)+"px"}function k(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ye.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&we(r)&&(o[a]=ye.access(r,"olddisplay",_(r.nodeName)))):(i=we(r),"none"===n&&i||ye.set(r,"olddisplay",i?n:te.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function M(e,t,n,r,i){return new M.prototype.init(e,t,n,r,i)}function R(){return setTimeout(function(){Ze=void 0}),Ze=te.now()}function P(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Se[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var r,i=(it[t]||[]).concat(it["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function L(e,t,n){var r,i,o,a,s,u,l,c,h=this,f={},d=e.style,p=e.nodeType&&we(e),g=ye.get(e,"fxshow");for(r in n.queue||(s=te._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,te.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=te.css(e,"display"),c="none"===l?ye.get(e,"olddisplay")||_(e.nodeName):l,"inline"===c&&"none"===te.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(i=t[r],et.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||te.style(e,r)}else l=void 0;if(te.isEmptyObject(f))"inline"===("none"===l?_(e.nodeName):l)&&(d.display=l);else for(r in g?"hidden"in g&&(p=g.hidden):g=ye.access(e,"fxshow",{}),o&&(g.hidden=!p),p?te(e).show():h.done(function(){te(e).hide()}),h.done(function(){var t;for(t in ye.remove(e,"fxshow"),f)te.style(e,t,f[t])}),f)a=O(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function N(e,t){var n,r,i,o,a;for(n in e)if(r=te.camelCase(n),i=t[r],o=e[n],te.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=te.cssHooks[r],a&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function B(e,t,n){var r,i,o=0,a=rt.length,s=te.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ze||R(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:te.extend({},t),opts:te.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ze||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=te.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(N(c,l.opts.specialEasing);a>o;o++)if(r=rt[o].call(l,e,c,l.opts))return r;return te.map(c,O,l),te.isFunction(l.opts.start)&&l.opts.start.call(e,l),te.fx.timer(te.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function x(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(me)||[];if(te.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(s){var u;return o[s]=!0,te.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Ct;return i(t.dataTypes[0])||!o["*"]&&i("*")}function G(e,t){var n,r,i=te.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&te.extend(!0,e,r),e}function F(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function Q(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function j(e,n,r,i){var o;if(te.isArray(n))te.each(n,function(n,o){r||It.test(e)?i(e,o):j(e+"["+("object"==Object(t["a"])(o)?n:"")+"]",o,r,i)});else if(r||"object"!==te.type(n))i(e,n);else for(o in n)j(e+"["+o+"]",n[o],r,i)}function H(e){return te.isWindow(e)?e:9===e.nodeType&&e.defaultView}var K=[],Y=K.slice,q=K.concat,J=K.push,V=K.indexOf,W={},z=W.toString,X=W.hasOwnProperty,Z={},$=e.document,ee="2.1.4",te=function e(t,n){return new e.fn.init(t,n)},ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,ie=/-([\da-z])/gi,oe=function(e,t){return t.toUpperCase()};te.fn=te.prototype={jquery:ee,constructor:te,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=te.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return te.each(this,e,t)},map:function(e){return this.pushStack(te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:K.sort,splice:K.splice},te.extend=te.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[u]||{},u++),"object"==Object(t["a"])(s)||te.isFunction(s)||(s={}),u===l&&(s=this,u--);l>u;u++)if(null!=(e=arguments[u]))for(n in e)r=s[n],i=e[n],s!==i&&(c&&i&&(te.isPlainObject(i)||(o=te.isArray(i)))?(o?(o=!1,a=r&&te.isArray(r)?r:[]):a=r&&te.isPlainObject(r)?r:{},s[n]=te.extend(c,a,i)):void 0!==i&&(s[n]=i));return s},te.extend({expando:"jQuery"+(ee+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===te.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!te.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===te.type(e)&&!e.nodeType&&!te.isWindow(e)&&!(e.constructor&&!X.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==Object(t["a"])(e)||"function"==typeof e?W[z.call(e)]||"object":Object(t["a"])(e)},globalEval:function(e){var t,n=eval;e=te.trim(e),e&&(1===e.indexOf("use strict")?(t=$.createElement("script"),t.text=e,$.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(re,"ms-").replace(ie,oe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,a=e.length,s=i(e);if(n){if(s)for(;a>o&&(r=t.apply(e[o],n),!1!==r);o++);else for(o in e)if(r=t.apply(e[o],n),!1===r)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),!1!==r);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),!1===r)break;return e},trim:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?te.merge(n,"string"==typeof e?[e]:e):J.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o=0,a=e.length,s=i(e),u=[];if(s)for(;a>o;o++)r=t(e[o],o,n),null!=r&&u.push(r);else for(o in e)r=t(e[o],o,n),null!=r&&u.push(r);return q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),te.isFunction(e)?(r=Y.call(arguments,2),i=function(){return e.apply(t||this,r.concat(Y.call(arguments)))},i.guid=e.guid=e.guid||te.guid++,i):void 0},now:Date.now,support:Z}),te.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()});var ae=function(e){function t(e,t,n,r){var i,o,a,s,u,l,h,d,p,g;if((t?t.ownerDocument||t:F)!==P&&R(t),t=t||P,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&L){if(11!==s&&(i=Ae.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&U(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!N||!N.test(e))){if(d=h=G,p=t,g=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=w(e),(h=t.getAttribute("id"))?d=h.replace(Ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);p=ye.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return Z.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||t.removeAttribute("id")}}}return b(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[G]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[Q,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[G]||(t[G]={}),(s=u[r])&&s[0]===Q&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[G]&&(i=v(i)),o&&!o[G]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,h,f=[],d=[],p=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),A=!e||!r&&t?v:m(v,f,e,s,u),y=n?o||(r?e:p||i)?[]:a:A;if(n&&n(A,y,s,u),i)for(l=m(y,d),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(y[d[c]]=!(A[d[c]]=h));if(r){if(o||e){if(o){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(A[c]=h);o(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=o?ee(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else y=m(y===a?y.splice(p,y.length):y),o?o(null,a,y,u):Z.apply(a,y)})}function A(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=_.relative[e[s].type])c=[d(p(c),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[G]){for(r=++s;i>r&&!_.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&A(e.slice(s,r)),i>r&&A(e=e.slice(r)),i>r&&f(e))}c.push(n)}return p(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,h,f,d=0,p="0",g=r&&[],v=[],A=D,y=r||o&&_.find.TAG("*",l),E=Q+=null==A?1:Math.random()||.1,C=y.length;for(l&&(D=a!==P&&a);p!==C&&null!=(c=y[p]);p++){if(o&&c){for(h=0;f=e[h++];)if(f(c,a,s)){u.push(c);break}l&&(Q=E)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=z.call(u));v=m(v)}Z.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(Q=E,D=A),g};return i?r(a):a}var E,C,_,T,S,w,I,b,D,k,M,R,P,O,L,N,B,x,U,G="sizzle"+1*new Date,F=e.document,Q=0,j=0,H=n(),K=n(),Y=n(),q=function(e,t){return e===t&&(M=!0),0},J=1<<31,V={}.hasOwnProperty,W=[],z=W.pop,X=W.push,Z=W.push,$=W.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,Ae=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,Ee=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){R()};try{Z.apply(W=$.call(F.childNodes),F.childNodes),W[F.childNodes.length].nodeType}catch(Ie){Z={apply:W.length?function(e,t){X.apply(e,$.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(E in C=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},R=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==P&&9===r.nodeType&&r.documentElement?(P=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),L=!S(r),C.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=ve.test(r.getElementsByClassName),C.getById=i(function(e){return O.appendChild(e).id=G,!r.getElementsByName||!r.getElementsByName(G).length}),C.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(Ce,_e);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(Ce,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=C.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},B=[],N=[],(C.qsa=ve.test(r.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+G+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+G+"+*").length||N.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(C.matchesSelector=ve.test(x=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){C.disconnectedMatch=x.call(e,"div"),x.call(e,"[s!='']:x"),B.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),B=B.length&&new RegExp(B.join("|")),t=ve.test(O.compareDocumentPosition),U=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===F&&U(F,e)?-1:t===r||t.ownerDocument===F&&U(F,t)?1:k?ee(k,e)-ee(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:k?ee(k,e)-ee(k,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===F?-1:l[i]===F?1:0},r):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&R(e),n=n.replace(he,"='$1']"),!(!C.matchesSelector||!L||B&&B.test(n)||N&&N.test(n)))try{var r=x.call(e,n);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&R(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&R(e);var n=_.attrHandle[t.toLowerCase()],r=n&&V.call(_.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:C.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(M=!C.detectDuplicates,k=!C.sortStable&&e.slice(0),e.sort(q),M){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return k=null,e},T=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),A=!u&&!s;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&A){for(c=m[G]||(m[G]={}),l=c[e]||[],d=l[0]===Q&&l[1],f=l[0]===Q&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===t){c[e]=[Q,d,f];break}}else if(A&&(l=(t[G]||(t[G]={}))[e])&&l[0]===Q)f=l[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(A&&((h[G]||(h[G]={}))[e]=[Q,f]),h!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[G]?o(n):o.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=I(e.replace(ue,"$1"));return i[G]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,_e),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ce,_e).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})_.pseudos[E]=u(E);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,w=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=K[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=_.preFilter;s;){for(a in(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length)),_.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):K(e,u).slice(0)},I=t.compile=function(e,t){var n,r=[],i=[],o=Y[e+" "];if(!o){for(t||(t=w(e)),n=t.length;n--;)o=A(t[n]),o[G]?r.push(o):i.push(o);o=Y(e,y(i,r)),o.selector=e}return o},b=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,h=!r&&w(e=l.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&L&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(Ce,_e),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(Ce,_e),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(l||I(e,h))(r,t,!L,n,ye.test(e)&&c(t.parentNode)||t),n},C.sortStable=G.split("").sort(q).join("")===G,C.detectDuplicates=!!M,R(),C.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);te.find=ae,te.expr=ae.selectors,te.expr[":"]=te.expr.pseudos,te.unique=ae.uniqueSort,te.text=ae.getText,te.isXMLDoc=ae.isXML,te.contains=ae.contains;var se=te.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,le=/^.[^:#\[\.,]*$/;te.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?te.find.matchesSelector(r,e)?[r]:[]:te.find.matches(e,te.grep(t,function(e){return 1===e.nodeType}))},te.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(te(e).filter(function(){for(t=0;n>t;t++)if(te.contains(i[t],this))return!0}));for(t=0;n>t;t++)te.find(e,i[t],r);return r=this.pushStack(n>1?te.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&se.test(e)?te(e):e||[],!1).length}});var ce,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,fe=te.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:he.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ce).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof te?t[0]:t,te.merge(this,te.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),ue.test(n[1])&&te.isPlainObject(t))for(n in t)te.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=$.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=$,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):te.isFunction(e)?"undefined"!=typeof ce.ready?ce.ready(e):e(te):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),te.makeArray(e,this))};fe.prototype=te.fn,ce=te($);var de=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};te.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&te(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),te.fn.extend({has:function(e){var t=te(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(te.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=se.test(e)||"string"!=typeof e?te(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&te.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?te.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(te(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(te.unique(te.merge(this.get(),te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return te.dir(e,"parentNode")},parentsUntil:function(e,t,n){return te.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return te.dir(e,"nextSibling")},prevAll:function(e){return te.dir(e,"previousSibling")},nextUntil:function(e,t,n){return te.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return te.dir(e,"previousSibling",n)},siblings:function(e){return te.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return te.sibling(e.firstChild)},contents:function(e){return e.contentDocument||te.merge([],e.childNodes)}},function(e,t){te.fn[e]=function(n,r){var i=te.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=te.filter(r,i)),this.length>1&&(pe[e]||te.unique(i),de.test(e)&&i.reverse()),this.pushStack(i)}});var ge,me=/\S+/g,ve={};te.Callbacks=function(e){e="string"==typeof e?ve[e]||s(e):te.extend({},e);var t,n,r,i,o,a,u=[],l=!e.once&&[],c=function s(c){for(t=e.memory&&c,n=!0,a=i||0,i=0,o=u.length,r=!0;u&&o>a;a++)if(!1===u[a].apply(c[0],c[1])&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&s(l.shift()):t?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function t(n){te.each(n,function(n,r){var i=te.type(r);"function"===i?e.unique&&h.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?o=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&te.each(arguments,function(e,t){for(var n;(n=te.inArray(t,u,n))>-1;)u.splice(n,1),r&&(o>=n&&o--,a>=n&&a--)}),this},has:function(e){return e?te.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||h.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},te.extend({Deferred:function(e){var t=[["resolve","done",te.Callbacks("once memory"),"resolved"],["reject","fail",te.Callbacks("once memory"),"rejected"],["notify","progress",te.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return te.Deferred(function(n){te.each(t,function(t,o){var a=te.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&te.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?te.extend(e,r):r}},i={};return r.pipe=r.then,te.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&te.isFunction(e.promise)?a:0,u=1===s?e:te.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&te.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),te.fn.ready=function(e){return te.ready.promise().done(e),this},te.extend({isReady:!1,readyWait:1,holdReady:function(e){e?te.readyWait++:te.ready(!0)},ready:function(e){(!0===e?--te.readyWait:te.isReady)||(te.isReady=!0,!0!==e&&--te.readyWait>0||(ge.resolveWith($,[te]),te.fn.triggerHandler&&(te($).triggerHandler("ready"),te($).off("ready"))))}}),te.ready.promise=function(t){return ge||(ge=te.Deferred(),"complete"===$.readyState?setTimeout(te.ready):($.addEventListener("DOMContentLoaded",u,!1),e.addEventListener("load",u,!1))),ge.promise(t)},te.ready.promise();var Ae=te.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===te.type(n))for(s in i=!0,n)te.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,te.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(te(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o};te.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},l.uid=1,l.accepts=te.acceptData,l.prototype={key:function(e){if(!l.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=l.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(o){t[this.expando]=n,te.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(te.isEmptyObject(o))te.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,te.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{te.isArray(t)?r=t.concat(t.map(te.camelCase)):(i=te.camelCase(t),t in a?r=[t,i]:(r=i,r=r in a?[r]:r.match(me)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!te.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ye=new l,Ee=new l,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;te.extend({hasData:function(e){return Ee.hasData(e)||ye.hasData(e)},data:function(e,t,n){return Ee.access(e,t,n)},removeData:function(e,t){Ee.remove(e,t)},_data:function(e,t,n){return ye.access(e,t,n)},_removeData:function(e,t){ye.remove(e,t)}}),te.fn.extend({data:function(e,n){var r,i,o,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(o=Ee.get(a),1===a.nodeType&&!ye.get(a,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&(i=s[r].name,0===i.indexOf("data-")&&(i=te.camelCase(i.slice(5)),c(a,i,o[i])));ye.set(a,"hasDataAttrs",!0)}return o}return"object"==Object(t["a"])(e)?this.each(function(){Ee.set(this,e)}):Ae(this,function(t){var n,r=te.camelCase(e);if(a&&void 0===t){if(n=Ee.get(a,e),void 0!==n)return n;if(n=Ee.get(a,r),void 0!==n)return n;if(n=c(a,r,void 0),void 0!==n)return n}else this.each(function(){var n=Ee.get(this,r);Ee.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&Ee.set(this,e,t)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ee.remove(this,e)})}}),te.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ye.get(e,t),n&&(!r||te.isArray(n)?r=ye.access(e,t,te.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=te.queue(e,t),r=n.length,i=n.shift(),o=te._queueHooks(e,t),a=function(){te.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye.get(e,n)||ye.access(e,n,{empty:te.Callbacks("once memory").add(function(){ye.remove(e,[t+"queue",n])})})}}),te.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?te.queue(this[0],e):void 0===t?this:this.each(function(){var n=te.queue(this,e,t);te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=te.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ye.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],we=function(e,t){return e=t||e,"none"===te.css(e,"display")||!te.contains(e.ownerDocument,e)},Ie=/^(?:checkbox|radio)$/i;!function(){var e=$.createDocumentFragment(),t=e.appendChild($.createElement("div")),n=$.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var be="undefined";Z.focusinBubbles="onfocusin"in e;var De=/^key/,ke=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;te.event={global:{},add:function(e,n,r,i,o){var a,s,u,l,c,h,f,d,p,g,m,v=ye.get(e);if(v)for(r.handler&&(a=r,r=a.handler,o=a.selector),r.guid||(r.guid=te.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(n){return Object(t["a"])(te)!==be&&te.event.triggered!==n.type?te.event.dispatch.apply(e,arguments):void 0}),n=(n||"").match(me)||[""],c=n.length;c--;)u=Re.exec(n[c])||[],p=m=u[1],g=(u[2]||"").split(".").sort(),p&&(f=te.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=te.event.special[p]||{},h=te.extend({type:p,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&te.expr.match.needsContext.test(o),namespace:g.join(".")},a),(d=l[p])||(d=l[p]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,i,g,s)||e.addEventListener&&e.addEventListener(p,s,!1)),f.add&&(f.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),te.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,m=ye.hasData(e)&&ye.get(e);if(m&&(u=m.events)){for(t=(t||"").match(me)||[""],l=t.length;l--;)if(s=Re.exec(t[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=te.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(e,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||te.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)te.event.remove(e,d+t[l],n,r,!0);te.isEmptyObject(u)&&(delete m.handle,ye.remove(e,"events"))}},trigger:function(n,r,i,o){var a,s,u,l,c,h,f,d=[i||$],p=X.call(n,"type")?n.type:n,g=X.call(n,"namespace")?n.namespace.split("."):[];if(s=u=i=i||$,3!==i.nodeType&&8!==i.nodeType&&!Me.test(p+te.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),c=p.indexOf(":")<0&&"on"+p,n=n[te.expando]?n:new te.Event(p,"object"==Object(t["a"])(n)&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=i),r=null==r?[n]:te.makeArray(r,[n]),f=te.event.special[p]||{},o||!f.trigger||!1!==f.trigger.apply(i,r))){if(!o&&!f.noBubble&&!te.isWindow(i)){for(l=f.delegateType||p,Me.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(i.ownerDocument||$)&&d.push(u.defaultView||u.parentWindow||e)}for(a=0;(s=d[a++])&&!n.isPropagationStopped();)n.type=a>1?l:f.bindType||p,h=(ye.get(s,"events")||{})[n.type]&&ye.get(s,"handle"),h&&h.apply(s,r),h=c&&s[c],h&&h.apply&&te.acceptData(s)&&(n.result=h.apply(s,r),!1===n.result&&n.preventDefault());return n.type=p,o||n.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),r)||!te.acceptData(i)||c&&te.isFunction(i[p])&&!te.isWindow(i)&&(u=i[c],u&&(i[c]=null),te.event.triggered=p,i[p](),te.event.triggered=void 0,u&&(i[c]=u)),n.result}},dispatch:function(e){e=te.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ye.get(this,"events")||{})[e.type]||[],l=te.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=te.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((te.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?te(i,this).index(u)>=0:te.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||$,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[te.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=ke.test(i)?this.mouseHooks:De.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new te.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=$),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&te.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return te.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=te.extend(new te.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?te.event.trigger(i,null,t):te.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},te.Event=function(e,t){return this instanceof te.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?h:f):this.type=e,t&&te.extend(this,t),this.timeStamp=e&&e.timeStamp||te.now(),void(this[te.expando]=!0)):new te.Event(e,t)},te.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!te.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Z.focusinBubbles||te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){te.event.simulate(t,e.target,te.event.fix(e),!0)};te.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ye.access(r,t);i||r.addEventListener(e,n,!0),ye.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ye.access(r,t)-1;i?ye.access(r,t,i):(r.removeEventListener(e,n,!0),ye.remove(r,t))}}}),te.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==Object(t["a"])(e)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)this.on(s,n,r,e[s],o);return this}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return this;return 1===o&&(a=i,i=function(e){return te().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=te.guid++)),this.each(function(){te.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,te(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==Object(t["a"])(e)){for(o in e)this.off(o,n,e[o]);return this}return(!1===n||"function"==typeof n)&&(r=n,n=void 0),!1===r&&(r=f),this.each(function(){te.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?te.event.trigger(e,t,n,!0):void 0}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Le=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,Be=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^$|\/(?:java|ecma)script/i,Ue=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,te.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=te.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||te.isXMLDoc(e)))for(a=y(s),o=y(e),r=0,i=o.length;i>r;r++)E(o[r],a[r]);if(t)if(n)for(o=o||y(e),a=a||y(s),r=0,i=o.length;i>r;r++)A(o[r],a[r]);else A(e,s);return a=y(s,"script"),a.length>0&&v(a,!u&&y(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c=t.createDocumentFragment(),h=[],f=0,d=e.length;d>f;f++)if(i=e[f],i||0===i)if("object"===te.type(i))te.merge(h,i.nodeType?[i]:i);else if(Le.test(i)){for(o=o||c.appendChild(t.createElement("div")),a=(Oe.exec(i)||["",""])[1].toLowerCase(),s=Fe[a]||Fe._default,o.innerHTML=s[1]+i.replace(Pe,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;te.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(i));for(c.textContent="",f=0;i=h[f++];)if((!r||-1===te.inArray(i,r))&&(u=te.contains(i.ownerDocument,i),o=y(c.appendChild(i),"script"),u&&v(o),n))for(l=0;i=o[l++];)xe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=te.event.special,a=0;void 0!==(n=e[a]);a++){if(te.acceptData(n)&&(i=n[ye.expando],i&&(t=ye.cache[i]))){if(t.events)for(r in t.events)o[r]?te.event.remove(n,r):te.removeEvent(n,r,t.handle);ye.cache[i]&&delete ye.cache[i]}delete Ee.cache[n[Ee.expando]]}}}),te.fn.extend({text:function(e){return Ae(this,function(e){return void 0===e?te.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?te.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||te.cleanData(y(n)),n.parentNode&&(t&&te.contains(n.ownerDocument,n)&&v(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(te.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return te.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Fe[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(te.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(a){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,te.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,h=l-1,f=e[0],d=te.isFunction(f);if(d||l>1&&"string"==typeof f&&!Z.checkClone&&Be.test(f))return this.each(function(n){var r=c.eq(n);d&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=te.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=te.map(y(n,"script"),g),o=i.length;l>u;u++)a=n,u!==h&&(a=te.clone(a,!0,!0),o&&te.merge(i,y(a,"script"))),t.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,te.map(i,m),u=0;o>u;u++)a=i[u],xe.test(a.type||"")&&!ye.access(a,"globalEval")&&te.contains(s,a)&&(a.src?te._evalUrl&&te._evalUrl(a.src):te.globalEval(a.textContent.replace(Ge,"")))}return this}}),te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){te.fn[e]=function(e){for(var n,r=[],i=te(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),te(i[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var Qe,je={},He=/^margin/,Ke=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),Ye=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=$.documentElement,o=$.createElement("div"),a=$.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&te.extend(Z,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=a.appendChild($.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),t}}))}(),te.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var qe=/^(none|table(?!-c[ea]).+)/,Je=new RegExp("^("+Te+")(.*)$","i"),Ve=new RegExp("^([+-])=("+Te+")","i"),We={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=T(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=te.camelCase(n),l=e.style;return n=te.cssProps[u]||(te.cssProps[u]=w(l,u)),s=te.cssHooks[n]||te.cssHooks[u],void 0===r?s&&"get"in s&&void 0!==(o=s.get(e,!1,i))?o:l[n]:(a=Object(t["a"])(r),"string"===a&&(o=Ve.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(te.css(e,n)),a="number"),void(null!=r&&r===r&&("number"!==a||te.cssNumber[u]||(r+="px"),Z.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,i))||(l[n]=r))))}},css:function(e,t,n,r){var i,o,a,s=te.camelCase(t);return t=te.cssProps[s]||(te.cssProps[s]=w(e.style,s)),a=te.cssHooks[t]||te.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=T(e,t,r)),"normal"===i&&t in ze&&(i=ze[t]),""===n||n?(o=parseFloat(i),!0===n||te.isNumeric(o)?o||0:i):i}}),te.each(["height","width"],function(e,t){te.cssHooks[t]={get:function(e,n,r){return n?qe.test(te.css(e,"display"))&&0===e.offsetWidth?te.swap(e,We,function(){return D(e,t,r)}):D(e,t,r):void 0},set:function(e,n,r){var i=r&&Ye(e);return I(e,n,r?b(e,t,r,"border-box"===te.css(e,"boxSizing",!1,i),i):0)}}}),te.cssHooks.marginRight=S(Z.reliableMarginRight,function(e,t){return t?te.swap(e,{display:"inline-block"},T,[e,"marginRight"]):void 0}),te.each({margin:"",padding:"",border:"Width"},function(e,t){te.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},He.test(e)||(te.cssHooks[e+t].set=I)}),te.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,i,o={},a=0;if(te.isArray(t)){for(r=Ye(e),i=t.length;i>a;a++)o[t[a]]=te.css(e,t[a],!1,r);return o}return void 0!==n?te.style(e,t,n):te.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){we(this)?te(this).show():te(this).hide()})}}),te.Tween=M,M.prototype={constructor:M,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(te.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){te.fx.step[e.prop]?te.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[te.cssProps[e.prop]]||te.cssHooks[e.prop])?te.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},te.fx=M.prototype.init,te.fx.step={};var Ze,$e,et=/^(?:toggle|show|hide)$/,tt=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),nt=/queueHooks$/,rt=[L],it={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tt.exec(t),o=i&&i[3]||(te.cssNumber[e]?"":"px"),a=(te.cssNumber[e]||"px"!==o&&+r)&&tt.exec(te.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,te.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};te.Animation=te.extend(B,{tweener:function(e,t){te.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],it[n]=it[n]||[],it[n].unshift(t)},prefilter:function(e,t){t?rt.unshift(e):rt.push(e)}}),te.speed=function(e,n,r){var i=e&&"object"==Object(t["a"])(e)?te.extend({},e):{complete:r||!r&&n||te.isFunction(e)&&e,duration:e,easing:r&&n||n&&!te.isFunction(n)&&n};return i.duration=te.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in te.fx.speeds?te.fx.speeds[i.duration]:te.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){te.isFunction(i.old)&&i.old.call(this),i.queue&&te.dequeue(this,i.queue)},i},te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(we).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=te.isEmptyObject(e),o=te.speed(t,n,r),a=function(){var t=B(this,te.extend({},e),o);(i||ye.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=te.timers,a=ye.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&nt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&te.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ye.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=te.timers,a=r?r.length:0;for(n.finish=!0,te.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),te.each(["toggle","show","hide"],function(e,t){var n=te.fn[t];te.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),te.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){te.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),te.timers=[],te.fx.tick=function(){var e,t=0,n=te.timers;for(Ze=te.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||te.fx.stop(),Ze=void 0},te.fx.timer=function(e){te.timers.push(e),e()?te.fx.start():te.timers.pop()},te.fx.interval=13,te.fx.start=function(){$e||($e=setInterval(te.fx.tick,te.fx.interval))},te.fx.stop=function(){clearInterval($e),$e=null},te.fx.speeds={slow:600,fast:200,_default:400},te.fn.delay=function(e,t){return e=te.fx&&te.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=$.createElement("input"),t=$.createElement("select"),n=t.appendChild($.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=n.selected,t.disabled=!0,Z.optDisabled=!n.disabled,e=$.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var ot,at,st=te.expr.attrHandle;te.fn.extend({attr:function(e,t){return Ae(this,te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){te.removeAttr(this,e)})}}),te.extend({attr:function(e,n,r){var i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?Object(t["a"])(e.getAttribute)===be?te.prop(e,n,r):(1===a&&te.isXMLDoc(e)||(n=n.toLowerCase(),i=te.attrHooks[n]||(te.expr.match.bool.test(n)?at:ot)),void 0===r?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=te.find.attr(e,n),null==o?void 0:o):null!==r?i&&"set"in i&&void 0!==(o=i.set(e,r,n))?o:(e.setAttribute(n,r+""),r):void te.removeAttr(e,n)):void 0},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(me);if(o&&1===e.nodeType)for(;n=o[i++];)r=te.propFix[n]||n,te.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&te.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),at={set:function(e,t,n){return!1===t?te.removeAttr(e,n):e.setAttribute(n,n),n}},te.each(te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=st[t]||te.find.attr;st[t]=function(e,t,r){var i,o;return r||(o=st[t],st[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,st[t]=o),i}});var ut=/^(?:input|select|textarea|button)$/i;te.fn.extend({prop:function(e,t){return Ae(this,te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[te.propFix[e]||e]})}}),te.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!te.isXMLDoc(e),o&&(t=te.propFix[t]||t,i=te.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ut.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){te.propFix[this.toLowerCase()]=this});var lt=/[\t\r\n\f]/g;te.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,l=this.length;if(te.isFunction(e))return this.each(function(t){te(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=te.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(te.isFunction(e))return this.each(function(t){te(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(lt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?te.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,n){var r=Object(t["a"])(e);return"boolean"==typeof n&&"string"===r?n?this.addClass(e):this.removeClass(e):this.each(te.isFunction(e)?function(t){te(this).toggleClass(e.call(this,t,this.className,n),n)}:function(){if("string"===r)for(var t,n=0,i=te(this),o=e.match(me)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(r===be||"boolean"===r)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||!1===e?"":ye.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(lt," ").indexOf(t)>=0)return!0;return!1}});var ct=/\r/g;te.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=te.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,te(this).val()):e,null==i?i="":"number"==typeof i?i+="":te.isArray(i)&&(i=te.map(i,function(e){return null==e?"":e+""})),t=te.valHooks[this.type]||te.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=te.valHooks[i.type]||te.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ct,""):null==n?"":n)):void 0}}),te.extend({valHooks:{option:{get:function(e){var t=te.find.attr(e,"value");return null!=t?t:te.trim(te.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&te.nodeName(n.parentNode,"optgroup"))){if(t=te(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=te.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=te.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),te.each(["radio","checkbox"],function(){te.valHooks[this]={set:function(e,t){return te.isArray(t)?e.checked=te.inArray(te(e).val(),t)>=0:void 0}},Z.checkOn||(te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),te.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){te.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht=te.now(),ft=/\?/;te.parseJSON=function(e){return JSON.parse(e+"")},te.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(o){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&te.error("Invalid XML: "+e),t};var dt=/#.*$/,pt=/([?&])_=[^&]*/,gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vt=/^(?:GET|HEAD)$/,At=/^\/\//,yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Et={},Ct={},_t="*/".concat("*"),Tt=e.location.href,St=yt.exec(Tt.toLowerCase())||[];te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt,type:"GET",isLocal:mt.test(St[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":te.parseJSON,"text xml":te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?G(G(e,te.ajaxSettings),t):G(te.ajaxSettings,e)},ajaxPrefilter:x(Et),ajaxTransport:x(Ct),ajax:function(e,n){function r(e,t,n,r){var s,l,h,A,y,C=t;2!==E&&(E=2,u&&clearTimeout(u),i=void 0,a=r||"",_.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(A=F(f,_,n)),A=Q(f,A,_,s),s?(f.ifModified&&(y=_.getResponseHeader("Last-Modified"),y&&(te.lastModified[o]=y),y=_.getResponseHeader("etag"),y&&(te.etag[o]=y)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=A.state,l=A.data,h=A.error,s=!h)):(h=C,(e||!C)&&(C="error",0>e&&(e=0))),_.status=e,_.statusText=(t||C)+"",s?g.resolveWith(d,[l,C,_]):g.rejectWith(d,[_,C,h]),_.statusCode(v),v=void 0,c&&p.trigger(s?"ajaxSuccess":"ajaxError",[_,f,s?l:h]),m.fireWith(d,[_,C]),c&&(p.trigger("ajaxComplete",[_,f]),--te.active||te.event.trigger("ajaxStop")))}"object"==Object(t["a"])(e)&&(n=e,e=void 0),n=n||{};var i,o,a,s,u,l,c,h,f=te.ajaxSetup({},n),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?te(d):te.event,g=te.Deferred(),m=te.Callbacks("once memory"),v=f.statusCode||{},A={},y={},E=0,C="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!s)for(s={};t=gt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=y[n]=y[n]||e,A[e]=t),this},overrideMimeType:function(e){return E||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>E)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||C;return i&&i.abort(t),r(0,t),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,f.url=((e||f.url||Tt)+"").replace(dt,"").replace(At,St[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=te.trim(f.dataType||"*").toLowerCase().match(me)||[""],null==f.crossDomain&&(l=yt.exec(f.url.toLowerCase()),f.crossDomain=!(!l||l[1]===St[1]&&l[2]===St[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(St[3]||("http:"===St[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=te.param(f.data,f.traditional)),U(Et,f,n,_),2===E)return _;for(h in c=te.event&&f.global,c&&0===te.active++&&te.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!vt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(ft.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=pt.test(o)?o.replace(pt,"$1_="+ht++):o+(ft.test(o)?"&":"?")+"_="+ht++)),f.ifModified&&(te.lastModified[o]&&_.setRequestHeader("If-Modified-Since",te.lastModified[o]),te.etag[o]&&_.setRequestHeader("If-None-Match",te.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_t+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(d,_,f)||2===E))return _.abort();for(h in C="abort",{success:1,error:1,complete:1})_[h](f[h]);if(i=U(Ct,f,n,_)){_.readyState=1,c&&p.trigger("ajaxSend",[_,f]),f.async&&f.timeout>0&&(u=setTimeout(function(){_.abort("timeout")},f.timeout));try{E=1,i.send(A,r)}catch(S){if(!(2>E))throw S;r(-1,S)}}else r(-1,"No Transport");return _},getJSON:function(e,t,n){return te.get(e,t,n,"json")},getScript:function(e,t){return te.get(e,void 0,t,"script")}}),te.each(["get","post"],function(e,t){te[t]=function(e,n,r,i){return te.isFunction(n)&&(i=i||r,r=n,n=void 0),te.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),te._evalUrl=function(e){return te.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},te.fn.extend({wrapAll:function(e){var t;return te.isFunction(e)?this.each(function(t){te(this).wrapAll(e.call(this,t))}):(this[0]&&(t=te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(te.isFunction(e)?function(t){te(this).wrapInner(e.call(this,t))}:function(){var t=te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=te.isFunction(e);return this.each(function(n){te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){te.nodeName(this,"body")||te(this).replaceWith(this.childNodes)}).end()}}),te.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},te.expr.filters.visible=function(e){return!te.expr.filters.hidden(e)};var wt=/%20/g,It=/\[\]$/,bt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;te.param=function(e,t){var n,r=[],i=function(e,t){t=te.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=te.ajaxSettings&&te.ajaxSettings.traditional),te.isArray(e)||e.jquery&&!te.isPlainObject(e))te.each(e,function(){i(this.name,this.value)});else for(n in e)j(n,e[n],t,i);return r.join("&").replace(wt,"+")},te.fn.extend({serialize:function(){return te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=te.prop(this,"elements");return e?te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!te(this).is(":disabled")&&kt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var n=te(this).val();return null==n?null:te.isArray(n)?te.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),te.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Mt=0,Rt={},Pt={0:200,1223:204},Ot=te.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Rt)Rt[e]()}),Z.cors=!!Ot&&"withCredentials"in Ot,Z.ajax=Ot=!!Ot,te.ajaxTransport(function(e){var t;return Z.cors||Ot&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++Mt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Rt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Pt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Rt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}:void 0}),te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return te.globalEval(e),e}}}),te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),te.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=te("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),$.head.appendChild(t[0])},abort:function(){n&&n()}}});var Lt=[],Nt=/(=)\?(?=&|$)|\?\?/;te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||te.expando+"_"+ht++;return this[e]=!0,e}}),te.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=te.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Nt,"$1"+i):!1!==t.jsonp&&(t.url+=(ft.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||te.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Lt.push(i)),a&&te.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),te.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||$;var r=ue.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=te.buildFragment([e],t,i),i&&i.length&&te(i).remove(),te.merge([],r.childNodes))};var Bt=te.fn.load;te.fn.load=function(e,n,r){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=te.trim(e.slice(u)),e=e.slice(0,u)),te.isFunction(n)?(r=n,n=void 0):n&&"object"==Object(t["a"])(n)&&(o="POST"),s.length>0&&te.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?te("<div>").append(te.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){te.fn[t]=function(e){return this.on(t,e)}}),te.expr.filters.animated=function(e){return te.grep(te.timers,function(t){return e===t.elem}).length};var xt=e.document.documentElement;te.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=te.css(e,"position"),h=te(e),f={};"static"===c&&(e.style.position="relative"),s=h.offset(),o=te.css(e,"top"),u=te.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),te.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):h.css(f)}},te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){te.offset.setOffset(this,e,t)});var n,r,i=this[0],o={top:0,left:0},a=i&&i.ownerDocument;return a?(n=a.documentElement,te.contains(n,i)?(Object(t["a"])(i.getBoundingClientRect)!==be&&(o=i.getBoundingClientRect()),r=H(a),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===te.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),te.nodeName(e[0],"html")||(r=e.offset()),r.top+=te.css(e[0],"borderTopWidth",!0),r.left+=te.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-te.css(n,"marginTop",!0),left:t.left-r.left-te.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||xt;e&&!te.nodeName(e,"html")&&"static"===te.css(e,"position");)e=e.offsetParent;return e||xt})}}),te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;te.fn[t]=function(i){return Ae(this,function(t,i,o){var a=H(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),te.each(["top","left"],function(e,t){te.cssHooks[t]=S(Z.pixelPosition,function(e,n){return n?(n=T(e,t),Ke.test(n)?te(e).position()[t]+"px":n):void 0})}),te.each({Height:"height",Width:"width"},function(e,t){te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){te.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Ae(this,function(t,n,r){var i;return te.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?te.css(t,n,a):te.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),te.fn.size=function(){return this.length},te.fn.andSelf=te.fn.addBack,"function"==typeof define&&n("3c35")&&define("jquery",[],function(){return te});var Ut=e.jQuery,Gt=e.$;return te.noConflict=function(t){return e.$===te&&(e.$=Gt),t&&e.jQuery===te&&(e.jQuery=Ut),te},Object(t["a"])(r)===be&&(e.jQuery=e.$=te),te}),window.UA=function(e){e=e||{};var t=navigator.userAgent;return t.indexOf("Android")>-1?e.platform="android":/iPhone|iPad|iPod/.test(t)?e.platform="ios":/Windows Phone|WPDesktop/.test(t)?e.platform="winphone":e.platform="pc",e[e.platform]=!0,e.qqVersion=function(){var e=t.match(/QQ\/([\d\.]+)/);return e?e[1]:"0"}(),e.wxVersion=function(){var e=t.match(/MicroMessenger\/([\d\.]+)/);return e?e[1]:"0"}(),e.qqVersion>"0"?e.client="qq":e.wxVersion>"0"?e.client="wx":e.client="browser",e[e.client]=!0,e.compareVersion=function(e,t){e=String(e).split("."),t=String(t).split(".");try{for(var n=0,r=Math.max(e.length,t.length);n<r;n++){var i=isFinite(e[n])&&Number(e[n])||0,o=isFinite(t[n])&&Number(t[n])||0;if(i<o)return-1;if(i>o)return 1}}catch(a){return-1}return 0},e.compareQQ=function(t){return e.compareVersion(e.qqVersion,t)},e.compareWX=function(t){return e.compareVersion(e.wxVersion,t)},e.ABLE_FLASH=function(){var e;if(document.all)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e)return v.FLASH_VERSION=parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0]),!0}catch(r){return!1}else try{if(navigator.plugins&&navigator.plugins.length>0&&(e=navigator.plugins["Shockwave Flash"],e)){for(var t=e.description.split(" "),n=0;n<t.length;++n)isNaN(parseInt(t[n]))||(v.FLASH_VERSION=parseInt(t[n]));return!0}}catch(r){return!1}return!1}(),e}(window.UA),window.getParams=function(e){return new Promise(function(t,n){i(e).then(function(e){t(e)})})}}.call(this,n("dd40")(e))},"696e":function(e,t,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),e.exports=n("584a").Promise},"6c7b":function(e,t,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"72a5":function(e,t,n){"use strict";var r;e.exports=function(e){var t=r[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},"749c":function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,o=new o,n(r,o),e.prototype=r=o}r.constructor!=e&&(r.constructor=e)}var i="http://www.w3.org/1999/xhtml",o={},a=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,l=o.CDATA_SECTION_NODE=4,c=o.ENTITY_REFERENCE_NODE=5,h=o.ENTITY_NODE=6,f=o.PROCESSING_INSTRUCTION_NODE=7,d=o.COMMENT_NODE=8,p=o.DOCUMENT_NODE=9,g=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,v=o.NOTATION_NODE=12,A={},y={},E=(A.INDEX_SIZE_ERR=(y[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),A.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),C=(A.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),A.NOT_FOUND_ERR=(y[8]="Not found",8)),_=(A.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),A.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));A.INVALID_STATE_ERR=(y[11]="Invalid state",11),A.SYNTAX_ERR=(y[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),A.NAMESPACE_ERR=(y[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function T(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=e,t&&(this.message=this.message+": "+t),n}function S(){}function w(e,t){this._node=e,this._refresh=t,I(this)}function I(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ae(e,"length",r.length),n(r,e),e._inc=t}}function b(){}function D(e,t){var n=e.length;while(n--)if(e[n]===t)return n}function k(e,t,n,r){if(r?t[D(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&x(i,e,r),B(i,e,n))}}function M(e,t,n){var r=D(t,n);if(!(r>=0))throw T(C,new Error(e.tagName+"@"+n));var i=t.length-1;while(r<i)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(x(o,e,n),n.ownerElement=null)}}function R(e){if(this._features={},e)for(var t in e)this._features=e[t]}function P(){}function O(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function L(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(L(e,t))return!0}while(e=e.nextSibling)}function N(){}function B(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function x(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[n.prefix?n.localName:""]}function U(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{var i=t.firstChild,o=0;while(i)r[o++]=i,i=i.nextSibling;r.length=o}}}function G(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,U(e.ownerDocument,e),t}function F(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return U(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function Q(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,U(e.ownerDocument,e,t),t}function j(){this._nsMap={}}function H(){}function K(){}function Y(){}function q(){}function J(){}function V(){}function W(){}function z(){}function X(){}function Z(){}function $(){}function ee(){}function te(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i){i=r.lookupPrefix(o);if(null==i)var a=[{namespace:o,prefix:null}]}return re(this,n,e,t,a),n.join("")}function ne(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;var o=n.length;while(o--){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function re(e,t,n,r,o){if(r){if(e=r(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:o||(o=[]);o.length;var h=e.attributes,v=h.length,A=e.firstChild,y=e.tagName;n=i===e.namespaceURI||n,t.push("<",y);for(var E=0;E<v;E++){var C=h.item(E);"xmlns"==C.prefix?o.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&o.push({prefix:"",namespace:C.value})}for(E=0;E<v;E++){C=h.item(E);if(ne(C,n,o)){var _=C.prefix||"",T=C.namespaceURI,S=_?" xmlns:"+_:" xmlns";t.push(S,'="',T,'"'),o.push({prefix:_,namespace:T})}re(C,t,n,r,o)}if(ne(e,n,o)){_=e.prefix||"",T=e.namespaceURI,S=_?" xmlns:"+_:" xmlns";t.push(S,'="',T,'"'),o.push({prefix:_,namespace:T})}if(A||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))while(A)A.data?t.push(A.data):re(A,t,n,r,o),A=A.nextSibling;else while(A)re(A,t,n,r,o),A=A.nextSibling;t.push("</",y,">")}else t.push("/>");return;case p:case m:A=e.firstChild;while(A)re(A,t,n,r,o),A=A.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,O),'"');case u:return t.push(e.data.replace(/[<&]/g,O));case l:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case g:var w=e.publicId,I=e.systemId;if(t.push("<!DOCTYPE ",e.name),w)t.push(' PUBLIC "',w),I&&"."!=I&&t.push('" "',I),t.push('">');else if(I&&"."!=I)t.push(' SYSTEM "',I,'">');else{var b=e.internalSubset;b&&t.push(" [",b,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ie(e,t,n){var r;switch(t.nodeType){case a:r=t.cloneNode(!1),r.ownerDocument=e;case m:break;case s:n=!0;break}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n){var i=t.firstChild;while(i)r.appendChild(ie(e,i,n)),i=i.nextSibling}return r}function oe(e,t,n){var r=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new S),r.ownerDocument=e,r.nodeType){case a:var u=t.attributes,l=r.attributes=new b,c=u.length;l._ownerElement=r;for(var h=0;h<c;h++)r.setAttributeNode(oe(e,u.item(h),!0));break;case s:n=!0}if(n){var f=t.firstChild;while(f)r.appendChild(oe(e,f,n)),f=f.nextSibling}return r}function ae(e,t,n){e[t]=n}T.prototype=Error.prototype,n(A,T),S.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)re(this[r],n,e,t);return n.join("")}},w.prototype.item=function(e){return I(this),this[e]},r(w,S),b.prototype={length:0,item:S.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(_);var n=this.getNamedItem(e.nodeName);return k(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new T(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),k(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return M(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){var n=this.length;while(n--){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},R.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new N;if(r.implementation=this,r.childNodes=new S,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new V;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return F(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return G(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return oe(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},n(o,P),n(o,P.prototype),N.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){var n=e.firstChild;while(n){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),F(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),G(this,e)},importNode:function(e,t){return ie(this,e,t)},getElementById:function(e){var t=null;return L(this.documentElement,function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new j;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new S;var n=t.attributes=new b;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new Z;return e.ownerDocument=this,e.childNodes=new S,e},createTextNode:function(e){var t=new Y;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new J;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new $;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new X;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new j,r=t.split(":"),i=n.attributes=new b;return n.childNodes=new S,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(N,P),j.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):Q(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new w(this,function(t){var n=[];return L(t,function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new w(this,function(n){var r=[];return L(n,function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},N.prototype.getElementsByTagName=j.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,r(j,P),H.prototype.nodeType=s,r(H,P),K.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[E])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},r(K,P),Y.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(Y,K),q.prototype={nodeName:"#comment",nodeType:d},r(q,K),J.prototype={nodeName:"#cdata-section",nodeType:l},r(J,K),V.prototype.nodeType=g,r(V,P),W.prototype.nodeType=v,r(W,P),z.prototype.nodeType=h,r(z,P),X.prototype.nodeType=c,r(X,P),Z.prototype.nodeName="#document-fragment",Z.prototype.nodeType=m,r(Z,P),$.prototype.nodeType=f,r($,P),ee.prototype.serializeToString=function(e,t,n){return te.call(e,t,n)},P.prototype.toString=te;try{if(Object.defineProperty){function se(e){switch(e.nodeType){case a:case m:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(se(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(w.prototype,"length",{get:function(){return I(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return se(this)},set:function(e){switch(this.nodeType){case a:case m:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ae=function(e,t,n){e["$$"+t]=n}}}catch(ue){}t.DOMImplementation=R,t.XMLSerializer=ee},"74b3":function(e,t){function n(e,t){var n=e[0],r=e[1],u=e[2],l=e[3];n=i(n,r,u,l,t[0],7,-680876936),l=i(l,n,r,u,t[1],12,-389564586),u=i(u,l,n,r,t[2],17,606105819),r=i(r,u,l,n,t[3],22,-1044525330),n=i(n,r,u,l,t[4],7,-176418897),l=i(l,n,r,u,t[5],12,1200080426),u=i(u,l,n,r,t[6],17,-1473231341),r=i(r,u,l,n,t[7],22,-45705983),n=i(n,r,u,l,t[8],7,1770035416),l=i(l,n,r,u,t[9],12,-1958414417),u=i(u,l,n,r,t[10],17,-42063),r=i(r,u,l,n,t[11],22,-1990404162),n=i(n,r,u,l,t[12],7,1804603682),l=i(l,n,r,u,t[13],12,-40341101),u=i(u,l,n,r,t[14],17,-1502002290),r=i(r,u,l,n,t[15],22,1236535329),n=o(n,r,u,l,t[1],5,-165796510),l=o(l,n,r,u,t[6],9,-1069501632),u=o(u,l,n,r,t[11],14,643717713),r=o(r,u,l,n,t[0],20,-373897302),n=o(n,r,u,l,t[5],5,-701558691),l=o(l,n,r,u,t[10],9,38016083),u=o(u,l,n,r,t[15],14,-660478335),r=o(r,u,l,n,t[4],20,-405537848),n=o(n,r,u,l,t[9],5,568446438),l=o(l,n,r,u,t[14],9,-1019803690),u=o(u,l,n,r,t[3],14,-187363961),r=o(r,u,l,n,t[8],20,1163531501),n=o(n,r,u,l,t[13],5,-1444681467),l=o(l,n,r,u,t[2],9,-51403784),u=o(u,l,n,r,t[7],14,1735328473),r=o(r,u,l,n,t[12],20,-1926607734),n=a(n,r,u,l,t[5],4,-378558),l=a(l,n,r,u,t[8],11,-2022574463),u=a(u,l,n,r,t[11],16,1839030562),r=a(r,u,l,n,t[14],23,-35309556),n=a(n,r,u,l,t[1],4,-1530992060),l=a(l,n,r,u,t[4],11,1272893353),u=a(u,l,n,r,t[7],16,-155497632),r=a(r,u,l,n,t[10],23,-1094730640),n=a(n,r,u,l,t[13],4,681279174),l=a(l,n,r,u,t[0],11,-358537222),u=a(u,l,n,r,t[3],16,-722521979),r=a(r,u,l,n,t[6],23,76029189),n=a(n,r,u,l,t[9],4,-640364487),l=a(l,n,r,u,t[12],11,-421815835),u=a(u,l,n,r,t[15],16,530742520),r=a(r,u,l,n,t[2],23,-995338651),n=s(n,r,u,l,t[0],6,-198630844),l=s(l,n,r,u,t[7],10,1126891415),u=s(u,l,n,r,t[14],15,-1416354905),r=s(r,u,l,n,t[5],21,-57434055),n=s(n,r,u,l,t[12],6,1700485571),l=s(l,n,r,u,t[3],10,-1894986606),u=s(u,l,n,r,t[10],15,-1051523),r=s(r,u,l,n,t[1],21,-2054922799),n=s(n,r,u,l,t[8],6,1873313359),l=s(l,n,r,u,t[15],10,-30611744),u=s(u,l,n,r,t[6],15,-1560198380),r=s(r,u,l,n,t[13],21,1309151649),n=s(n,r,u,l,t[4],6,-145523070),l=s(l,n,r,u,t[11],10,-1120210379),u=s(u,l,n,r,t[2],15,718787259),r=s(r,u,l,n,t[9],21,-343485551),e[0]=v(n,e[0]),e[1]=v(r,e[1]),e[2]=v(u,e[2]),e[3]=v(l,e[3])}function r(e,t,n,r,i,o){return t=v(v(t,e),v(r,o)),v(t<<i|t>>>32-i,n)}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function u(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)n(i,h(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*r,n(i,o),i}var l=function(e){var t,n,r,i="";for(t=0,n=e.length/2;t<n;t++)r=parseInt(e[2*t]+e[2*t+1],16),i+=String.fromCharCode(r);return btoa(i)};function c(){var e={state:[1732584193,-271733879,-1732584194,271733878],tail:"",size:0,update:function(t,r){r||(t=g(t)),e.size+=t.length,t=e.tail+t;var i,o=e.state;for(i=64;i<=t.length;i+=64)n(o,h(t.substring(i-64,i)));return e.tail=t.substring(i-64),e},digest:function(t){var r,i=e.size,o=e.state,a=e.tail,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<a.length;r++)s[r>>2]|=a.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(n(o,s),r=0;r<16;r++)s[r]=0;return s[14]=8*i,n(o,s),"hex"===t?p(o):"base64"===t?l(p(o)):o}};return e}function h(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var f="0123456789abcdef".split("");function d(e){for(var t="",n=0;n<4;n++)t+=f[e>>8*n+4&15]+f[e>>8*n&15];return t}function p(e){for(var t=0;t<e.length;t++)e[t]=d(e[t]);return e.join("")}function g(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function m(e,t){return t||(e=g(e)),p(u(e))}var v=function(e,t){return e+t&4294967295};"5d41402abc4b2a76b9719d911017c592"!=m("hello")&&(v=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),m.getCtx=c,e.exports=m},7514:function(e,t,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"75f1":function(e,t,n){var r=n("adaa"),i=n("03e2");function o(e,t){ne.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},function(e,n){t(e,n)})}function a(e,t){var n={};n["prefix"]=e["Prefix"]||"",n["delimiter"]=e["Delimiter"],n["marker"]=e["Marker"],n["max-keys"]=e["MaxKeys"],n["encoding-type"]=e["EncodingType"],ne.call(this,{Action:"name/cos:GetBucket",ResourceKey:n["prefix"],method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);var r=n.ListBucketResult||{},o=r.Contents||[],a=r.CommonPrefixes||[];o=i.isArray(o)?o:[o],a=i.isArray(a)?a:[a];var s=i.clone(r);i.extend(s,{Contents:o,CommonPrefixes:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})}function s(e,t){ne.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function u(e,t){var n=e.Headers,r="";if(e["AccessControlPolicy"]){var o=i.clone(e["AccessControlPolicy"]||{}),a=o.Grants||o.Grant;a=i.isArray(a)?a:[a],delete o.Grant,delete o.Grants,o.AccessControlList={Grant:a},r=i.json2xml({AccessControlPolicy:o}),n["Content-Type"]="application/xml",n["Content-MD5"]=i.binaryBase64(i.md5(r))}i.each(n,function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=Z(n[t]))}),ne.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:n,action:"acl",body:r},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})}function l(e,t){ne.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(e,n){if(e)return t(e);var r=n.AccessControlPolicy||{},o=r.Owner||{},a=r.AccessControlList.Grant||[];a=i.isArray(a)?a:[a];var s=X(r);n.headers&&n.headers["x-cos-acl"]&&(s.ACL=n.headers["x-cos-acl"]),s=i.extend(s,{Owner:o,Grants:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})}function c(e,t){var n=e["CORSConfiguration"]||{},r=n["CORSRules"]||e["CORSRules"]||[];r=i.clone(i.isArray(r)?r:[r]),i.each(r,function(e){i.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t,n){var r=t+"s",o=e[r]||e[t]||[];delete e[r],e[t]=i.isArray(o)?o:[o]})});var o=i.json2xml({CORSConfiguration:{CORSRule:r}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o)),ne.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"cors",headers:a},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})}function h(e,t){ne.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var r={CORSRules:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var o=n.CORSConfiguration||{},a=o.CORSRules||o.CORSRule||[];a=i.clone(i.isArray(a)?a:[a]),i.each(a,function(e){i.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t,n){var r=t+"s",o=e[r]||e[t]||[];delete e[t],e[r]=i.isArray(o)?o:[o]})}),t(null,{CORSRules:a,statusCode:n.statusCode,headers:n.headers})}})}function f(e,t){ne.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})})}function d(e,t){ne.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},function(e,n){if(e)return t(e);t(null,n)})}function p(e,t){var n=e["Policy"],r=n;try{"string"===typeof n?n=JSON.parse(r):r=JSON.stringify(n)}catch(a){t({error:"Policy format error"})}var o=e.Headers;o["Content-Type"]="application/json",o["Content-MD5"]=i.binaryBase64(i.md5(r)),ne.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:i.isBrowser?r:n,headers:o,json:!0},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function g(e,t){ne.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(e,n){if(e)return e.statusCode&&403===e.statusCode?t({ErrorStatus:"Access Denied"}):e.statusCode&&405===e.statusCode?t({ErrorStatus:"Method Not Allowed"}):e.statusCode&&404===e.statusCode?t({ErrorStatus:"Policy Not Found"}):t(e);var r={};try{r=JSON.parse(n.body)}catch(i){}t(null,{Policy:r,statusCode:n.statusCode,headers:n.headers})})}function m(e,t){ne.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode||e.statusCode,headers:n.headers})})}function v(e,t){var n=e["Tagging"]||{},r=n.TagSet||n.Tags||e["Tags"]||[];r=i.clone(i.isArray(r)?r:[r]);var o=i.json2xml({Tagging:{TagSet:{Tag:r}}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o)),ne.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"tagging",headers:a},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function A(e,t){ne.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var r={Tags:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else{var o=[];try{o=n.Tagging.TagSet.Tag||[]}catch(a){}o=i.clone(i.isArray(o)?o:[o]),t(null,{Tags:o,statusCode:n.statusCode,headers:n.headers})}})}function y(e,t){ne.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function E(e,t){var n=e["LifecycleConfiguration"]||{},r=n.Rules||e.Rules||[];r=i.clone(r);var o=i.json2xml({LifecycleConfiguration:{Rule:r}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o)),ne.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"lifecycle",headers:a},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function C(e,t){ne.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,n){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var r={Rules:[],statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var o=[];try{o=n.LifecycleConfiguration.Rule||[]}catch(a){}o=i.clone(i.isArray(o)?o:[o]),t(null,{Rules:o,statusCode:n.statusCode,headers:n.headers})}})}function _(e,t){ne.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function T(e,t){if(e["VersioningConfiguration"]){var n=e["VersioningConfiguration"]||{},r=i.json2xml({VersioningConfiguration:n}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(r)),ne.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"versioning",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}else t({error:"missing param VersioningConfiguration"})}function S(e,t){ne.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(e,n){e||!n.VersioningConfiguration&&(n.VersioningConfiguration={}),t(e,n)})}function w(e,t){var n=i.clone(e.ReplicationConfiguration),r=i.json2xml({ReplicationConfiguration:n});r=r.replace(/<(\/?)Rules>/gi,"<$1Rule>"),r=r.replace(/<(\/?)Tags>/gi,"<$1Tag>");var o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(r)),ne.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"replication",headers:o},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function I(e,t){ne.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,n){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var r={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else e||!n.ReplicationConfiguration&&(n.ReplicationConfiguration={}),n.ReplicationConfiguration.Rule&&(n.ReplicationConfiguration.Rules=n.ReplicationConfiguration.Rule,delete n.ReplicationConfiguration.Rule),t(e,n)})}function b(e,t){ne.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function D(e,t){if(e["WebsiteConfiguration"]){var n=i.clone(e["WebsiteConfiguration"]||{}),r=n["RoutingRules"]||n["RoutingRule"]||[];r=i.isArray(r)?r:[r],delete n.RoutingRule,delete n.RoutingRules,r.length>0&&(n.RoutingRules={RoutingRule:r});var o=i.json2xml({WebsiteConfiguration:n}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o)),ne.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"website",headers:a},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}else t({error:"missing param WebsiteConfiguration"})}function k(e,t){ne.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(e,n){if(e)if(404===e.statusCode&&"NoSuchWebsiteConfiguration"===e.error.Code){var r={WebsiteConfiguration:{},statusCode:e.statusCode};e.headers&&(r.headers=e.headers),t(null,r)}else t(e);else{var o=n.WebsiteConfiguration||{};if(o["RoutingRules"]){var a=i.clone(o["RoutingRules"].RoutingRule||[]);a=i.makeArray(a),o.RoutingRules=a}t(null,{WebsiteConfiguration:o,statusCode:n.statusCode,headers:n.headers})}})}function M(e,t){ne.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(e,n){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:n.statusCode,headers:n.headers})})}function R(e,t){ne.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(n,r){if(n){var i=n.statusCode;return e.Headers["If-Modified-Since"]&&i&&304===i?t(null,{NotModified:!0,statusCode:i}):t(n)}r.headers&&r.headers.etag&&(r.ETag=r.headers&&r.headers.etag),t(null,r)})}function P(e,t){var n={};n["prefix"]=e["Prefix"]||"",n["delimiter"]=e["Delimiter"],n["key-marker"]=e["KeyMarker"],n["version-id-marker"]=e["VersionIdMarker"],n["max-keys"]=e["MaxKeys"],n["encoding-type"]=e["EncodingType"],ne.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:n["prefix"],method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"versions"},function(e,n){if(e)return t(e);var r=n.ListVersionsResult||{},o=r.DeleteMarker||[];o=i.isArray(o)?o:[o];var a=r.Version||[];a=i.isArray(a)?a:[a];var s=i.clone(r);delete s.DeleteMarker,delete s.Version,i.extend(s,{DeleteMarkers:o,Versions:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})}function O(e,t){var n={};n["response-content-type"]=e["ResponseContentType"],n["response-content-language"]=e["ResponseContentLanguage"],n["response-expires"]=e["ResponseExpires"],n["response-cache-control"]=e["ResponseCacheControl"],n["response-content-disposition"]=e["ResponseContentDisposition"],n["response-content-encoding"]=e["ResponseContentEncoding"],ne.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers,qs:n,rawBody:!0},function(n,r){if(n){var o=n.statusCode;return e.Headers["If-Modified-Since"]&&o&&304===o?t(null,{NotModified:!0}):t(n)}var a={};a.Body=r.body,r.headers&&r.headers.etag&&(a.ETag=r.headers&&r.headers.etag),i.extend(a,{statusCode:r.statusCode,headers:r.headers}),t(null,a)})}function L(e,t){var n=this,r=e.ContentLength,o=i.throttleOnProgress.call(n,r,e.onProgress),a=e.Headers;!a["Cache-Control"]&&(a["Cache-Control"]="");var s=a["Content-Type"]||e.Body&&e.Body.type;!a["Content-Type"]&&s&&(a["Content-Type"]=s);var u=e.UploadAddMetaMd5||n.options.UploadAddMetaMd5||n.options.UploadCheckContentMd5;i.getBodyMd5(u,e.Body,function(a){a&&(n.options.UploadCheckContentMd5&&(e.Headers["Content-MD5"]=i.binaryBase64(a)),(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5)&&(e.Headers["x-cos-meta-md5"]=a)),void 0!==e.ContentLength&&(e.Headers["Content-Length"]=e.ContentLength),o(null,!0),ne.call(n,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,body:e.Body,onProgress:o},function(i,a){if(i)return o(null,!0),t(i);if(o({loaded:r,total:r},!0),a){var s=$({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});s=s.substr(s.indexOf("://")+3);var u={Location:s,statusCode:a.statusCode,headers:a.headers};return a.headers&&a.headers.etag&&(u.ETag=a.headers.etag),t(null,u)}t(null,a)})},e.onHashProgress)}function N(e,t){ne.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},function(e,n){if(e){var r=e.statusCode;return r&&204===r?t(null,{statusCode:r}):r&&404===r?t(null,{BucketNotFound:!0,statusCode:r}):t(e)}t(null,{statusCode:n.statusCode,headers:n.headers})})}function B(e,t){ne.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(e,n){if(e)return t(e);var r=n.AccessControlPolicy||{},o=r.Owner||{},a=r.AccessControlList&&r.AccessControlList.Grant||[];a=i.isArray(a)?a:[a];var s=X(r);n.headers&&n.headers["x-cos-acl"]&&(s.ACL=n.headers["x-cos-acl"]),s=i.extend(s,{Owner:o,Grants:a,statusCode:n.statusCode,headers:n.headers}),t(null,s)})}function x(e,t){var n=e.Headers,r="";if(e["AccessControlPolicy"]){var o=i.clone(e["AccessControlPolicy"]||{}),a=o.Grants||o.Grant;a=i.isArray(a)?a:[a],delete o.Grant,delete o.Grants,o.AccessControlList={Grant:a},r=i.json2xml({AccessControlPolicy:o}),n["Content-Type"]="application/xml",n["Content-MD5"]=i.binaryBase64(i.md5(r))}i.each(n,function(e,t){0===t.indexOf("x-cos-grant-")&&(n[t]=Z(n[t]))}),ne.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:n,body:r},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})}function U(e,t){var n=e.Headers;n["Origin"]=e["Origin"],n["Access-Control-Request-Method"]=e["AccessControlRequestMethod"],n["Access-Control-Request-Headers"]=e["AccessControlRequestHeaders"],ne.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:n},function(e,n){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var r=n.headers||{};t(null,{AccessControlAllowOrigin:r["access-control-allow-origin"],AccessControlAllowMethods:r["access-control-allow-methods"],AccessControlAllowHeaders:r["access-control-allow-headers"],AccessControlExposeHeaders:r["access-control-expose-headers"],AccessControlMaxAge:r["access-control-max-age"],statusCode:n.statusCode,headers:n.headers})})}function G(e,t){var n=e.Headers;!n["Cache-Control"]&&(n["Cache-Control"]="");var r=e.CopySource||"",o=r.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^\/]+\/(.+)$/);if(o){var a=o[1],s=o[3],u=decodeURIComponent(o[4]);ne.call(this,{Scope:[{action:"name/cos:GetObject",bucket:a,region:s,prefix:u},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(e,n){if(e)return t(e);var r=i.clone(n.CopyObjectResult||{});i.extend(r,{statusCode:n.statusCode,headers:n.headers}),t(null,r)})}else t({error:"CopySource format error"})}function F(e,t){var n=e.CopySource||"",r=n.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^\/]+\/(.+)$/);if(r){var o=r[1],a=r[3],s=decodeURIComponent(r[4]);ne.call(this,{Scope:[{action:"name/cos:GetObject",bucket:o,region:a,prefix:s},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e["PartNumber"],uploadId:e["UploadId"]},headers:e.Headers},function(e,n){if(e)return t(e);var r=i.clone(n.CopyPartResult||{});i.extend(r,{statusCode:n.statusCode,headers:n.headers}),t(null,r)})}else t({error:"CopySource format error"})}function Q(e,t){var n=e.Objects||[],r=e.Quiet;n=i.isArray(n)?n:[n];var o=i.json2xml({Delete:{Object:n,Quiet:r||!1}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o));var s=i.map(n,function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}});ne.call(this,{Scope:s,method:"POST",Bucket:e.Bucket,Region:e.Region,body:o,action:"delete",headers:a},function(e,n){if(e)return t(e);var r=n.DeleteResult||{},o=r.Deleted||[],a=r.Error||[];o=i.isArray(o)?o:[o],a=i.isArray(a)?a:[a];var s=i.clone(r);i.extend(s,{Error:a,Deleted:o,statusCode:n.statusCode,headers:n.headers}),t(null,s)})}function j(e,t){var n=e.Headers;if(e["RestoreRequest"]){var r=e.RestoreRequest||{},o=i.json2xml({RestoreRequest:r});n["Content-Type"]="application/xml",n["Content-MD5"]=i.binaryBase64(i.md5(o)),ne.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:o,action:"restore",headers:n},function(e,n){t(e,n)})}else t({error:"missing param RestoreRequest"})}function H(e,t){var n=this,r=e.Headers;!r["Cache-Control"]&&(r["Cache-Control"]=""),i.getBodyMd5(e.Body&&(e.UploadAddMetaMd5||n.options.UploadAddMetaMd5),e.Body,function(r){r&&(e.Headers["x-cos-meta-md5"]=r),ne.call(n,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers},function(e,n){return e?t(e):(n=i.clone(n||{}),n&&n.InitiateMultipartUploadResult?t(null,i.extend(n.InitiateMultipartUploadResult,{statusCode:n.statusCode,headers:n.headers})):void t(null,n))})},e.onHashProgress)}function K(e,t){var n=this;i.getFileSize("multipartUpload",e,function(){i.getBodyMd5(n.options.UploadCheckContentMd5,e.Body,function(r){r&&(e.Headers["Content-MD5"]=i.binaryBase64(r)),ne.call(n,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e["PartNumber"],uploadId:e["UploadId"]},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},function(e,n){if(e)return t(e);n["headers"]=n["headers"]||{},t(null,{ETag:n["headers"]["etag"]||"",statusCode:n.statusCode,headers:n.headers})})})})}function Y(e,t){for(var n=this,r=e.UploadId,o=e["Parts"],a=0,s=o.length;a<s;a++)0!==o[a]["ETag"].indexOf('"')&&(o[a]["ETag"]='"'+o[a]["ETag"]+'"');var u=i.json2xml({CompleteMultipartUpload:{Part:o}}),l=e.Headers;l["Content-Type"]="application/xml",l["Content-MD5"]=i.binaryBase64(i.md5(u)),ne.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:r},body:u,headers:l},function(r,o){if(r)return t(r);var a=$({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),s=o.CompleteMultipartUploadResult||{},u=i.extend(s,{Location:a,statusCode:o.statusCode,headers:o.headers});t(null,u)})}function q(e,t){var n={};n["delimiter"]=e["Delimiter"],n["encoding-type"]=e["EncodingType"],n["prefix"]=e["Prefix"]||"",n["max-uploads"]=e["MaxUploads"],n["key-marker"]=e["KeyMarker"],n["upload-id-marker"]=e["UploadIdMarker"],n=i.clearKey(n),ne.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:n["prefix"],method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:n,action:"uploads"},function(e,n){if(e)return t(e);if(n&&n.ListMultipartUploadsResult){var r=n.ListMultipartUploadsResult.Upload||[],o=n.ListMultipartUploadsResult.CommonPrefixes||[];o=i.isArray(o)?o:[o],r=i.isArray(r)?r:[r],n.ListMultipartUploadsResult.Upload=r,n.ListMultipartUploadsResult.CommonPrefixes=o}var a=i.clone(n.ListMultipartUploadsResult||{});i.extend(a,{statusCode:n.statusCode,headers:n.headers}),t(null,a)})}function J(e,t){var n={};n["uploadId"]=e["UploadId"],n["encoding-type"]=e["EncodingType"],n["max-parts"]=e["MaxParts"],n["part-number-marker"]=e["PartNumberMarker"],ne.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);var r=n.ListPartsResult||{},o=r.Part||[];o=i.isArray(o)?o:[o],r.Part=o;var a=i.clone(r);i.extend(a,{statusCode:n.statusCode,headers:n.headers}),t(null,a)})}function V(e,t){var n={};n["uploadId"]=e["UploadId"],ne.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:n},function(e,n){if(e)return t(e);t(null,{statusCode:n.statusCode,headers:n.headers})})}function W(e){var t=this;return i.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:t.options.UseRawKey,SystemClockOffset:t.options.SystemClockOffset})}function z(e,t){var n=this,r=$({ForcePathStyle:n.options.ForcePathStyle,protocol:e.Protocol||n.options.Protocol,domain:n.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});if(void 0!==e.Sign&&!e.Sign)return t(null,{Url:r}),r;var i=ee.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires},function(e,n){if(t)if(e)t(e);else{var i=r;i+="?"+(n.Authorization.indexOf("q-signature")>-1?n.Authorization:"sign="+encodeURIComponent(n.Authorization)),n.XCosSecurityToken&&(i+="&x-cos-security-token="+n.XCosSecurityToken),n.ClientIP&&(i+="&clientIP="+n.ClientIP),n.ClientUA&&(i+="&clientUA="+n.ClientUA),n.Token&&(i+="&token="+n.Token),setTimeout(function(){t(null,{Url:i})})}});return i?r+"?"+i.Authorization+(i.XCosSecurityToken?"&x-cos-security-token="+i.XCosSecurityToken:""):r}function X(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},n={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},r=e.AccessControlList.Grant;r&&(r=i.isArray(r)?r:[r]);var o={READ:0,WRITE:0,FULL_CONTROL:0};return r.length&&i.each(r,function(r){"qcs::cam::anyone:anyone"===r.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===r.Grantee.URI?o[r.Permission]=1:r.Grantee.ID!==e.Owner.ID&&t[n[r.Permission]].push('id="'+r.Grantee.ID+'"')}),o.FULL_CONTROL||o.WRITE&&o.READ?t.ACL="public-read-write":o.READ?t.ACL="public-read":t.ACL="private",i.each(n,function(e){t[e]=Z(t[e].join(","))}),t}function Z(e){var t,n,r=e.split(","),i={};for(t=0;t<r.length;)n=r[t].trim(),i[n]?r.splice(t,1):(i[n]=!0,r[t]=n,t++);return r.join(",")}function $(e){var t=e.bucket,n=t.substr(0,t.lastIndexOf("-")),r=t.substr(t.lastIndexOf("-")+1),o=e.domain,a=e.region,s=e.object,u=e.protocol||(i.isBrowser&&"http:"===location.protocol?"http:":"https:");o||(o=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(a)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(o="{Bucket}."+o)),o=o.replace(/\{\{AppId\}\}/gi,r).replace(/\{\{Bucket\}\}/gi,n).replace(/\{\{Region\}\}/gi,a).replace(/\{\{.*?\}\}/gi,""),o=o.replace(/\{AppId\}/gi,r).replace(/\{BucketName\}/gi,n).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,a).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(o)||(o=u+"//"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1));var l=o;return e.ForcePathStyle&&(l+="/"+t),l+="/",s&&(l+=i.camSafeUrlEncode(s).replace(/%2F/g,"/")),e.isLocation&&(l=l.replace(/^https?:\/\//,"")),l}function ee(e,t){var n=i.clone(e.Headers);delete n["Content-Type"],delete n["Cache-Control"],i.each(n,function(e,t){""===e&&delete n[t]});var r=function(e){var n=!1,r=e.Authorization;if(r)if(r.indexOf(" ")>-1)n=!1;else if(r.indexOf("q-sign-algorithm=")>-1&&r.indexOf("q-ak=")>-1&&r.indexOf("q-sign-time=")>-1&&r.indexOf("q-key-time=")>-1&&r.indexOf("q-url-param-list=")>-1)n=!0;else try{r=atob(r),r.indexOf("a=")>-1&&r.indexOf("k=")>-1&&r.indexOf("t=")>-1&&r.indexOf("r=")>-1&&r.indexOf("b=")>-1&&(n=!0)}catch(i){}n?t&&t(null,e):t&&t("authorization error")},o=this,a=e.Bucket||"",s=e.Region||"",u=e.Key||"";o.options.ForcePathStyle&&a&&(u=a+"/"+u);var l="/"+u,c={},h=e.Scope;if(!h){var f=e.Action||"",d=e.ResourceKey||e.Key||"";h=e.Scope||[{action:f,bucket:a,region:s,prefix:d}]}var p=i.md5(JSON.stringify(h));o._StsCache=o._StsCache||[],function(){var e,t;for(e=o._StsCache.length-1;e>=0;e--){t=o._StsCache[e];var n=Math.round(i.getSkewTime(o.options.SystemClockOffset)/1e3)+30;if(t.StartTime&&n<t.StartTime||n>=t.ExpiredTime)o._StsCache.splice(e,1);else if(!t.ScopeLimit||t.ScopeLimit&&t.ScopeKey===p){c=t;break}}}();var g=function(){var t=i.getAuth({SecretId:c.TmpSecretId,SecretKey:c.TmpSecretKey,Method:e.Method,Pathname:l,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:o.options.UseRawKey,SystemClockOffset:o.options.SystemClockOffset}),a={Authorization:t,XCosSecurityToken:c.XCosSecurityToken||"",Token:c.Token||"",ClientIP:c.ClientIP||"",ClientUA:c.ClientUA||""};r(a)};if(c.ExpiredTime&&c.ExpiredTime-i.getSkewTime(o.options.SystemClockOffset)/1e3>60)g();else if(o.options.getAuthorization)o.options.getAuthorization.call(o,{Bucket:a,Region:s,Method:e.Method,Key:u,Pathname:l,Query:e.Query,Headers:n,Scope:h},function(e){"string"===typeof e&&(e={Authorization:e}),e.TmpSecretId&&e.TmpSecretKey&&e.XCosSecurityToken&&e.ExpiredTime?(c=e||{},c.Scope=h,c.ScopeKey=p,o._StsCache.push(c),g()):r(e)});else{if(!o.options.getSTS)return function(){var t=i.getAuth({SecretId:e.SecretId||o.options.SecretId,SecretKey:e.SecretKey||o.options.SecretKey,Method:e.Method,Pathname:l,Query:e.Query,Headers:n,Expires:e.Expires,UseRawKey:o.options.UseRawKey,SystemClockOffset:o.options.SystemClockOffset}),a={Authorization:t,XCosSecurityToken:o.options.XCosSecurityToken};return r(a),a}();o.options.getSTS.call(o,{Bucket:a,Region:s},function(e){c=e||{},c.Scope=h,c.ScopeKey=p,c.TmpSecretId=c.SecretId,c.TmpSecretKey=c.SecretKey,o._StsCache.push(c),g()})}return""}function te(e){var t=!1,n=!1,r=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var o=e.error.Code,a=e.error.Message;("RequestTimeTooSkewed"===o||"AccessDenied"===o&&"Request has expired"===a)&&(n=!0)}catch(u){}if(e)if(n&&r){var s=Date.parse(r);this.options.CorrectClockSkew&&Math.abs(i.getSkewTime(this.options.SystemClockOffset)-s)>=3e4&&(this.options.SystemClockOffset=s-Date.now(),t=!0)}else 5===Math.round(e.statusCode/100)&&(t=!0);return t}function ne(e,t){var n=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=i.clearKey(e.qs),e.headers&&(e.headers=i.clearKey(e.headers)),e.qs&&(e.qs=i.clearKey(e.qs));var r=i.clone(e.qs);e.action&&(r[e.action]="");var o=function(i){var a=n.options.SystemClockOffset;ee.call(n,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:r,Headers:e.headers,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope},function(r,s){r?t(r):(e.AuthData=s,re.call(n,e,function(r,s){r&&i<2&&(a!==n.options.SystemClockOffset||te.call(n,r))?(e.headers&&(delete e.headers.Authorization,delete e.headers["token"],delete e.headers["clientIP"],delete e.headers["clientUA"],delete e.headers["x-cos-security-token"]),o(i+1)):t(r,s)}))})};o(1)}function re(e,t){var n=this,o=e.TaskId;if(!o||n._isRunningTask(o)){var a=e.Bucket,s=e.Region,u=e.Key,l=e.method||"GET",c=e.url,h=e.body,f=e.json,d=e.rawBody;c=c||$({ForcePathStyle:n.options.ForcePathStyle,protocol:n.options.Protocol,domain:n.options.Domain,bucket:a,region:s,object:u}),e.action&&(c=c+"?"+e.action);var p={method:l,url:c,headers:e.headers,qs:e.qs,body:h,json:f};if(p.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(p.headers["token"]=e.AuthData.Token),e.AuthData.ClientIP&&(p.headers["clientIP"]=e.AuthData.ClientIP),e.AuthData.ClientUA&&(p.headers["clientUA"]=e.AuthData.ClientUA),e.AuthData.XCosSecurityToken&&(p.headers["x-cos-security-token"]=e.AuthData.XCosSecurityToken),p.headers&&(p.headers=i.clearKey(p.headers)),p=i.clearKey(p),e.onProgress&&"function"===typeof e.onProgress){var g=h&&(h.size||h.length)||0;p.onProgress=function(t){if(!o||n._isRunningTask(o)){var r=t?t.loaded:0;e.onProgress({loaded:r,total:g})}}}this.options.Timeout&&(p.timeout=this.options.Timeout),n.emit("before-send",p);var m=r(p,function(e,r,a){if("abort"!==e){var s,u=function(e,a){if(o&&n.off("inner-kill-task",v),!s){s=!0;var u={};r&&r.statusCode&&(u.statusCode=r.statusCode),r&&r.headers&&(u.headers=r.headers),e?(e=i.extend(e||{},u),t(e,null)):(a=i.extend(a||{},u),t(null,a)),m=null}};if(e)u({error:e});else{var l;if(d)l={},l.body=a;else try{l=a&&a.indexOf("<")>-1&&a.indexOf(">")>-1&&i.xml2json(a)||{}}catch(f){l=a||{}}var c=r.statusCode,h=2===Math.floor(c/100);h?l.Error?u({error:l.Error}):u(null,l):u({error:l.Error||l})}}}),v=function(e){e.TaskId===o&&(m&&m.abort&&m.abort(),n.off("inner-kill-task",v))};o&&n.on("inner-kill-task",v)}}var ie={headBucket:o,getBucket:a,deleteBucket:s,putBucketAcl:u,getBucketAcl:l,putBucketCors:c,getBucketCors:h,deleteBucketCors:f,getBucketLocation:d,getBucketPolicy:g,putBucketPolicy:p,deleteBucketPolicy:m,putBucketTagging:v,getBucketTagging:A,deleteBucketTagging:y,putBucketLifecycle:E,getBucketLifecycle:C,deleteBucketLifecycle:_,putBucketVersioning:T,getBucketVersioning:S,putBucketReplication:w,getBucketReplication:I,deleteBucketReplication:b,putBucketWebsite:D,getBucketWebsite:k,deleteBucketWebsite:M,getObject:O,headObject:R,listObjectVersions:P,putObject:L,deleteObject:N,getObjectAcl:B,putObjectAcl:x,optionsObject:U,putObjectCopy:G,deleteMultipleObject:Q,restoreObject:j,uploadPartCopy:F,multipartInit:H,multipartUpload:K,multipartComplete:Y,multipartList:q,multipartListPart:J,multipartAbort:V,getObjectUrl:z,getAuth:W};function oe(e,t,n){i.each(["Cors","Acl"],function(r){if(e.slice(-r.length)===r){var o=e.slice(0,-r.length)+r.toUpperCase(),a=i.apiWrapper(e,t);n[o]=function(){!0,a.apply(this,arguments)}}})}e.exports.init=function(e,t){t.transferToTaskMethod(ie,"putObject"),i.each(ie,function(t,n){e.prototype[n]=i.apiWrapper(n,t),oe(n,t,e.prototype)})}},7642:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"j",function(){return d}),n.d(t,"a",function(){return p});var r=n("c7a1"),i=n("db49"),o=function(e,t){var n=i["h"]+"sacy/api/discountChooseActivityDetail/queryDiscountGoodsList";return Object(r["a"])(n,e,t)},a=function(e,t){var n=i["h"]+"sacy/api/discountActivityHomepage/queryUserDiscountHomepage";return Object(r["a"])(n,e,t)},s=function(e,t){var n=i["h"]+"sacy/api/discountActivityCoupon/exchange/coupon";return Object(r["c"])(n,e,t)},u=function(e,t){var n=i["h"]+"sacy/api/discountActivityCoupon/queryDiscountCouponsPage";return Object(r["a"])(n,e,t)},l=function(e,t){var n=i["h"]+"sacy/api/discountChooseActivity/getDiscountActivityId";return Object(r["a"])(n,e,t)},c=function(e,t){var n=i["h"]+"sacy/api/discountActivityInvite/saveInviteRecord";return Object(r["c"])(n,e,t)},h=function(e,t){var n=i["h"]+"cmt/api/liveShowInfo/getLiveShowInfo";return Object(r["a"])(n,e,t)},f=function(e,t){var n=i["h"]+"cmt/api/userFollowRelation/saveFollowStatus";return Object(r["c"])(n,e,t)},d=function(e,t){var n=i["h"]+"cmt/api/liveShowInfo/updateLiveShowHotNum";return Object(r["c"])(n,e,t)},p=function(e,t){var n=i["h"]+"im/api/im/getSign";return Object(r["a"])(n,e,t)}},"76da":function(e,t){var n="a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�",r="-.0-9·̀-ͯ‿⁀",i=new RegExp("^([^"+n+"])|^((x|X)(m|M)(l|L))|([^"+n+r+"])","g"),o=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,a=function(e){var t=[];if(e instanceof Object)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},s=function(e,t){var n=function(e,n,r,o,a){var s=void 0!==t.indent?t.indent:"\t",u=t.prettyPrint?"\n"+new Array(o).join(s):"";t.removeIllegalNameCharacters&&(e=e.replace(i,"_"));var l=[u,"<",e,r||""];return n&&n.length>0?(l.push(">"),l.push(n),a&&l.push(u),l.push("</"),l.push(e),l.push(">")):l.push("/>"),l.join("")};return function e(r,i,o){var s=typeof r;switch((Array.isArray?Array.isArray(r):r instanceof Array)?s="array":r instanceof Date&&(s="date"),s){case"array":var u=[];return r.map(function(t){u.push(e(t,1,o+1))}),t.prettyPrint&&u.push("\n"),u.join("");case"date":return r.toJSON?r.toJSON():r+"";case"object":var c=[];for(var h in r)if(r.hasOwnProperty(h))if(r[h]instanceof Array)for(var f=0;f<r[h].length;f++)r[h].hasOwnProperty(f)&&c.push(n(h,e(r[h][f],0,o+1),null,o+1,a(r[h][f]).length));else c.push(n(h,e(r[h],0,o+1),null,o+1));return t.prettyPrint&&c.length>0&&c.push("\n"),c.join("");case"function":return r();default:return t.escape?l(r):""+r}}(e,0,0)},u=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};function l(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(o,"")}e.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(o){return!1}var n="",r="";t&&("object"==typeof t?(t.xmlHeader&&(n=u(!!t.xmlHeader.standalone)),"undefined"!=typeof t.docType&&(r="<!DOCTYPE "+t.docType+">")):n=u()),t=t||{};var i=[n,t.prettyPrint&&r?"\n":"",r,s(e,t)];return i.join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},"795b":function(e,t,n){e.exports=n("696e")},"7cd6":function(e,t,n){var r=n("40c3"),i=n("5168")("iterator"),o=n("481b");e.exports=n("584a").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"7f7f":function(e,t,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"7fe1":function(e,t){var n=function(e){return e>>>0},r=function(e){return("00"+e.toString(16)).slice(-2)};e.exports={toUnsigned:n,toHexString:r}},"818b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=void 0,a=void 0,s=void 0,u=[],l=[],c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,g=void 0;for(o=0;o<256;o++)l[(u[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=l[s]||1)for(d=s^s<<1^s<<2^s<<3^s<<4,d=d>>8^255&d^99,r[a]=d,i[d]=a,f=u[h=u[c=u[a]]],g=16843009*f^65537*h^257*c^16843008*a,p=257*u[d]^16843008*d,o=0;o<4;o++)t[o][a]=p=p<<24^p>>>8,n[o][d]=g=g<<24^g>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},a=null,s=function(){function e(t){i(this,e),a||(a=o()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=void 0,r=void 0,s=void 0,u=void 0,l=void 0,c=this._tables[0][4],h=this._tables[1],f=t.length,d=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");for(u=t.slice(0),l=[],this._key=[u,l],n=f;n<4*f+28;n++)s=u[n-1],(n%f===0||8===f&&n%f===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],n%f===0&&(s=s<<8^s>>>24^d<<24,d=d<<1^283*(d>>7))),u[n]=u[n-f]^s;for(r=0;n;r++,n--)s=u[3&r?n:n-4],l[r]=n<=4||r<4?s:h[0][c[s>>>24]]^h[1][c[s>>16&255]]^h[2][c[s>>8&255]]^h[3][c[255&s]]}return r(e,[{key:"decrypt",value:function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],u=r^a[1],l=n^a[2],c=t^a[3],h=void 0,f=void 0,d=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],A=v[0],y=v[1],E=v[2],C=v[3],_=v[4];for(g=0;g<p;g++)h=A[s>>>24]^y[u>>16&255]^E[l>>8&255]^C[255&c]^a[m],f=A[u>>>24]^y[l>>16&255]^E[c>>8&255]^C[255&s]^a[m+1],d=A[l>>>24]^y[c>>16&255]^E[s>>8&255]^C[255&u]^a[m+2],c=A[c>>>24]^y[s>>16&255]^E[u>>8&255]^C[255&l]^a[m+3],m+=4,s=h,u=f,l=d;for(g=0;g<4;g++)i[(3&-g)+o]=_[s>>>24]<<24^_[u>>16&255]<<16^_[l>>8&255]<<8^_[255&c]^a[m++],h=s,s=u,u=l,l=c,c=h}}]),e}();t["default"]=s,e.exports=t["default"]},8362:function(e,t){e.exports=r;var n=Object.prototype.toString;function r(e){var t=n.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},8484:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return oe}),n.d(t,"b",function(){return ae});var r=n("be09"),i=n.n(r),o=function(e){return!!e&&"object"===typeof e},a=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(t,n){return Object.keys(n).forEach(function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):o(t[r])&&o(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]}),t},{})},s=function(e){return Object.keys(e).map(function(t){return e[t]})},u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},l=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},c=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},h=function(e,t){return e.reduce(function(e,n,r){return n[t]&&e.push(r),e},[])},f={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function d(e,t){return t={exports:{}},e(t,t.exports),t.exports}var p=d(function(e,t){(function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(h)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(i,"");while(e.length!==(e=e.replace(o,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a})()}),g=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=p.buildAbsoluteURL(i.a.location.href,e)),p.buildAbsoluteURL(e,t))},m=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.range,a=void 0===o?"":o,s=e.indexRange,u=void 0===s?"":s,l={uri:i,resolvedUri:g(n||"",i)};if(a||u){var c=a||u,h=c.split("-"),f=parseInt(h[0],10),d=parseInt(h[1],10);l.byterange={length:d-f+1,offset:f}}return l},v=function(e){var t=e.offset+e.length-1;return e.offset+"-"+t},A={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration;return{start:0,end:Math.ceil(i/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,a=e.duration,s=e.start,u=void 0===s?0:s,l=e.minimumUpdatePeriod,c=void 0===l?0:l,h=e.timeShiftBufferDepth,f=void 0===h?1/0:h,d=(t+n)/1e3,p=r+u,g=d+c,m=g-p,v=Math.ceil(m*o/a),A=Math.floor((d-p-f)*o/a),y=Math.floor((d-p)*o/a);return{start:Math.max(0,A),end:Math.min(v,y)}}},y=function(e){return function(t,n){var r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.periodIndex,s=e.startNumber,u=void 0===s?1:s;return{number:u+t,duration:r/o,timeline:a,time:n*r}}},E=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.sourceDuration,s=A[n](e),l=s.start,c=s.end,h=u(l,c).map(y(e));if("static"===n){var f=h.length-1;h[f].duration=a-r/o*f}return h},C=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,u=void 0===s?"":s,l=e.duration;if(!t)throw new Error(f.NO_BASE_URL);var c=m({baseUrl:t,source:r.sourceURL,range:r.range}),h=m({baseUrl:t,source:t,indexRange:u});if(h.map=c,l){var d=E(e);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else i&&(h.duration=i/a,h.timeline=0);return h.number=0,[h]},_=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,o=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,u=t.timescale,l=t.references.filter(function(e){return 1!==e.referenceType}),c=[],h=s+t.firstOffset,f=0;f<l.length;f++){var d=t.references[f],p=d.referencedSize,g=d.subsegmentDuration,m=h+p-1,v=h+"-"+m,A={baseUrl:n,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:i,indexRange:v},y=C(A)[0];r&&(y.map=r),c.push(y),h+=p}return e.segments=c,e},T=function(e){var t=s(e.reduce(function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t;return e},{}));return t.map(function(e){return e.discontinuityStarts=h(e.segments,"discontinuity"),e})},S=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var i=r.sidx.uri+"-"+v(r.sidx.byterange),o=t[i]&&t[i].sidx;r.sidx&&o&&_(r,o,r.sidx.resolvedUri)}}return e},w=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},I=function(e){var t,n=e.attributes,r=e.segments;return"undefined"===typeof r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration),{attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},b=function(e,t){var n;void 0===t&&(t={});var r=e.reduce(function(e,r){var i=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",a="main";if(o){var s=i?" ("+i+")":"";a=""+r.attributes.lang+s}return e[a]&&e[a].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth?e:(e[a]={language:o,autoselect:!0,default:"main"===i,playlists:S([w(r)],t),uri:""},"undefined"===typeof n&&"main"===i&&(n=r,n.default=!0),e)},{});if(!n){var i=Object.keys(r)[0];r[i].default=!0}return r},D=function(e,t){return void 0===t&&(t={}),e.reduce(function(e,n){var r=n.attributes.lang||"text";return e[r]?e:(e[r]={language:r,default:!1,autoselect:!1,playlists:S([I(n)],t),uri:""},e)},{})},k=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},M=function(e,t){var n;if(void 0===t&&(t={}),!e.length)return{};var r=e[0].attributes,i=r.sourceDuration,o=r.minimumUpdatePeriod,a=void 0===o?0:o,s=function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType},u=function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType},l=function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},c=T(e.filter(s)).map(k),h=T(e.filter(u)),f=e.filter(l),d={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:i,playlists:S(c,t),minimumUpdatePeriod:1e3*a};return h.length&&(d.mediaGroups.AUDIO.audio=b(h,t)),f.length&&(d.mediaGroups.SUBTITLES.subs=D(f,t)),d},R=function(e,t,n){var r=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,u=e.start,l=void 0===u?0:u,c=e.minimumUpdatePeriod,h=void 0===c?0:c,f=(r+i)/1e3,d=o+l,p=f+h,g=p-d;return Math.ceil((g*s-t)/n)},P=function(e,t){for(var n=e.type,r=void 0===n?"static":n,i=e.minimumUpdatePeriod,o=void 0===i?0:i,a=e.media,s=void 0===a?"":a,u=e.sourceDuration,l=e.timescale,c=void 0===l?1:l,h=e.startNumber,f=void 0===h?1:h,d=e.periodIndex,p=[],g=-1,m=0;m<t.length;m++){var v=t[m],A=v.d,y=v.r||0,E=v.t||0;g<0&&(g=E),E&&E>g&&(g=E);var C=void 0;if(y<0){var _=m+1;C=_===t.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?R(e,g,A):(u*c-g)/A:(t[_].t-g)/A}else C=y+1;var T=f+p.length+C,S=f+p.length;while(S<T)p.push({number:S,duration:A/c,time:g,timeline:d}),g+=A,S++}return p},O=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,L=function(e){return function(t,n,r,i){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}},N=function(e,t){return e.replace(O,L(t))},B=function(e,t){return e.duration||t?e.duration?E(e):P(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]},x=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=m({baseUrl:e.baseUrl,source:N(i.sourceURL,n),range:i.range}),a=B(e,t);return a.map(function(t){n.Number=t.number,n.Time=t.time;var r=N(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:g(e.baseUrl||"",r),map:o,number:t.number}})},U=function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,o=m({baseUrl:n,source:i.sourceURL,range:i.range}),a=m({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a},G=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(f.SEGMENT_TIME_UNSPECIFIED);var o,a=i.map(function(t){return U(e,t)});n&&(o=E(e)),t&&(o=P(e,t));var s=o.map(function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}}).filter(function(e){return e});return s},F=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=x,t=a(r,i.template)):i.base?(n=C,t=a(r,i.base)):i.list&&(n=G,t=a(r,i.list));var o={attributes:r};if(!n)return o;var s=n(t,i.timeline);if(t.duration){var u=t,l=u.duration,c=u.timescale,h=void 0===c?1:c;t.duration=l/h}else s.length?t.duration=s.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return o.attributes=t,o.segments=s,i.base&&t.indexRange&&(o.sidx=s[0],o.segments=[]),o},Q=function(e){return e.map(F)},j=function(e,t){return c(e.childNodes).filter(function(e){var n=e.tagName;return n===t})},H=function(e){return e.textContent.trim()},K=function(e){var t=31536e3,n=2592e3,r=86400,i=3600,o=60,a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,s=a.exec(e);if(!s)return 0;var u=s.slice(1),l=u[0],c=u[1],h=u[2],f=u[3],d=u[4],p=u[5];return parseFloat(l||0)*t+parseFloat(c||0)*n+parseFloat(h||0)*r+parseFloat(f||0)*i+parseFloat(d||0)*o+parseFloat(p||0)},Y=function(e){var t=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return t.test(e)&&(e+="Z"),Date.parse(e)},q={mediaPresentationDuration:function(e){return K(e)},availabilityStartTime:function(e){return Y(e)/1e3},minimumUpdatePeriod:function(e){return K(e)},timeShiftBufferDepth:function(e){return K(e)},start:function(e){return K(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?K(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},J=function(e){return e&&e.attributes?c(e.attributes).reduce(function(e,t){var n=q[t.name]||q.DEFAULT;return e[t.name]=n(t.value),e},{}):{}};function V(e){for(var t=i.a.atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var W={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},z=function(e,t){return t.length?l(e.map(function(e){return t.map(function(t){return g(e,H(t))})})):e},X=function(e){var t=j(e,"SegmentTemplate")[0],n=j(e,"SegmentList")[0],r=n&&j(n,"SegmentURL").map(function(e){return a({tag:"SegmentURL"},J(e))}),i=j(e,"SegmentBase")[0],o=n||t,s=o&&j(o,"SegmentTimeline")[0],u=n||i||t,l=u&&j(u,"Initialization")[0],c=t&&J(t);c&&l?c.initialization=l&&J(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,timeline:s&&j(s,"S").map(function(e){return J(e)}),list:n&&a(J(n),{segmentUrls:r,initialization:J(l)}),base:i&&a(J(i),{initialization:J(l)})};return Object.keys(h).forEach(function(e){h[e]||delete h[e]}),h},Z=function(e,t,n){return function(r){var i=j(r,"BaseURL"),o=z(t,i),s=a(e,J(r)),u=X(r);return o.map(function(e){return{segmentInfo:a(n,u),attributes:a(s,{baseUrl:e})}})}},$=function(e){return e.reduce(function(e,t){var n=J(t),r=W[n.schemeIdUri];if(r){e[r]={attributes:n};var i=j(t,"cenc:pssh")[0];if(i){var o=H(i),a=o&&V(o);e[r].pssh=a}}return e},{})},ee=function(e,t,n){return function(r){var i=J(r),o=z(t,j(r,"BaseURL")),s=j(r,"Role")[0],u={role:J(s)},c=a(e,i,u),h=$(j(r,"ContentProtection"));Object.keys(h).length&&(c=a(c,{contentProtection:h}));var f=X(r),d=j(r,"Representation"),p=a(n,f);return l(d.map(Z(c,o,p)))}},te=function(e,t){return function(n,r){var o=z(t,j(n,"BaseURL")),s=J(n),u=parseInt(s.id,10),c=i.a.isNaN(u)?r:u,h=a(e,{periodIndex:c}),f=j(n,"AdaptationSet"),d=X(n);return l(f.map(ee(h,o,d)))}},ne=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,c=j(e,"Period");if(!c.length)throw new Error(f.INVALID_NUMBER_OF_PERIOD);var h=J(e),d=z([i],j(e,"BaseURL"));return h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=a,h.clientOffset=u,l(c.map(te(h,d)))},re=function(e){if(""===e)throw new Error(f.DASH_EMPTY_MANIFEST);var t=new i.a.DOMParser,n=t.parseFromString(e,"application/xml"),r=n&&"MPD"===n.documentElement.tagName?n.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(f.DASH_INVALID_XML);return r},ie=function(e){var t=j(e,"UTCTiming")[0];if(!t)return null;var n=J(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(f.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},oe=function(e,t){return void 0===t&&(t={}),M(Q(ne(re(e),t)),t.sidxMapping)},ae=function(e){return ie(re(e))}}).call(this,n("c8ba"))},"87ad":function(e,t,n){"use strict";n.r(t);n("a481"),n("3b2b"),n("7514"),n("4917"),n("28a5"),n("386d"),n("c5f6");var r=n("1157"),i=n.n(r);function o(e){var t=e.getIndex(),n=e.getData(),r=null,i=webim.Emotions[t];return i&&i[1]&&(r=i[1]),r?"<img src='"+r+"'/>":n}window.jsonpCallback=function(e){webim.setJsonpLastRspData(e)},window.onGroupSystemNotifys=function(e){},window.onBigGroupMsgNotify=function(e){e.length;for(var t=e.length-1;t>=0;t--){var n=e[t];webim.Log.warn("receive a new avchatroom group msg: "+n.getFromAccountNick()),showMsg(n)}},window.onMsgNotify=function(e){var t;for(var n in e)t=e[n],handlderMsg(t)},window.handlderMsg=function(e){var t,n,r,i,o;switch(t=e.getFromAccount(),t||(t=""),n=e.getFromAccountNick(),n||(n=t),r=e.getSession().type(),i=e.getSubType(),r){case webim.SESSION_TYPE.C2C:switch(i){case webim.C2C_MSG_SUB_TYPE.COMMON:o=convertMsgtoHtml(e),webim.Log.warn("receive a new c2c msg: fromAccountNick="+n+", content="+o);var a={To_Account:t,LastedMsgTime:e.getTime()};webim.c2CMsgReaded(a),Toast("收到一条c2c消息(好友消息或者全员推送消息): 发送人="+n+", 内容="+o);break}break;case webim.SESSION_TYPE.GROUP:break}},window.sdkLogin=function(e){webim.login(loginInfo,listeners,options,function(t){loginInfo.identifierNick=t.identifierNick?t.identifierNick:loginInfo.identifierNick,webim.Log.info("webim登录成功"),applyJoinBigGroup(avChatRoomId),e&&e.call()},function(e){Toast("sdkLogin"+e.ErrorInfo)})},window.applyJoinBigGroup=function(e){var t={GroupId:e};webim.applyJoinBigGroup(t,function(t){t.JoinedStatus&&"JoinedSuccess"==t.JoinedStatus?(webim.Log.info("进群成功"),selToID=e):Toast("进群失败")},function(e){10010==e.ErrorCode?(Toast("直播已结束("+e.ErrorCode+")"),hideLoginForm()):(e.ErrorCode,Toast("进群失败 : "+e.ErrorInfo))})},window.showMsg=function(e){var t,n,r,o,a,s,u,l,c;t=e.getFromAccount(),t||(t=""),n=e.getFromAccountNick(),n||(n="未知用户"),o=document.getElementById("video_sms_list");var h,f=5,d=.2,p=i()("#video_sms_list").children();if(p.length==f){i()("#video_sms_list").children(":first").remove();for(var g=0;g<f;g++)h=d*(g+1)+.2,i()("#video_sms_list").children().eq(g).css("opacity",h)}a=document.createElement("li"),s=document.createElement("div"),s.setAttribute("class","video-sms-pane"),u=document.createElement("div"),u.setAttribute("class","video-sms-text"),l=document.createElement("span");var m=["red","green","blue","org"],v=Math.round(t.length%m.length)||0,A=m[v];l.setAttribute("class","user-name-"+A),l.innerHTML=n,c=document.createElement("span"),e.getSession().type(),r=e.getSubType(),e.getIsSend();var y=e.getElems()[0];if(r==webim.GROUP_MSG_SUB_TYPE.COMMON&&y.getType()==webim.MSG_ELEMENT_TYPE.TEXT&&y.getContent().isAppMsg)convertAppMsg(l,c,e);else switch(r){case webim.GROUP_MSG_SUB_TYPE.COMMON:var E=convertMsgtoHtml(e);if(!E)return;var C=e.getElems()[0].getContent().getData();C&&C.nickName&&(l.innerHTML=C.nickName),c.innerHTML=E;break;case webim.GROUP_MSG_SUB_TYPE.REDPACKET:return;case webim.GROUP_MSG_SUB_TYPE.LOVEMSG:c.innerHTML="[群点赞消息]"+convertMsgtoHtml(e),showLoveMsgAnimation();break;case webim.GROUP_MSG_SUB_TYPE.TIP:E=convertMsgtoHtml(e);if(!E)return;c.innerHTML="[群提示消息]"+E;break}l.innerHTML&&u.appendChild(l),c.innerHTML&&u.appendChild(c),s.appendChild(u),a.appendChild(s),o.appendChild(a)},window.convertMsgtoHtml=function(e){var t,n,r,i,a="";for(var s in t=e.getElems(),t)switch(n=t[s],r=n.getType(),i=n.getContent(),r){case webim.MSG_ELEMENT_TYPE.TEXT:a+=convertTextMsgToHtml(i);break;case webim.MSG_ELEMENT_TYPE.FACE:a+=o(i);break;case webim.MSG_ELEMENT_TYPE.IMAGE:a+=convertImageMsgToHtml(i);break;case webim.MSG_ELEMENT_TYPE.SOUND:a+=convertSoundMsgToHtml(i);break;case webim.MSG_ELEMENT_TYPE.FILE:a+=convertFileMsgToHtml(i);break;case webim.MSG_ELEMENT_TYPE.LOCATION:break;case webim.MSG_ELEMENT_TYPE.CUSTOM:return;case webim.MSG_ELEMENT_TYPE.GROUP_TIP:return;default:webim.Log.error("未知消息元素类型: elemType="+r);break}return a},window.convertTextMsgToHtml=function(e){return e.getText()},window._convertAppMsg=function(e){switch(e.userAction){case 1:break;case 2:e.msg="进入了房间",memberCount=i()("#user-icon-fans").html(),i()("#user-icon-fans").html(parseInt(memberCount)+1);break;case 3:e.msg="离开了房间",memberCount=parseInt(i()("#user-icon-fans").html()),memberCount>0&&i()("#user-icon-fans").html(memberCount-1);break;case 4:e.msg="点了个赞",showLoveMsgAnimation();break;case 5:break}},window.convertAppMsg=function(e,t,n){var r,o,a,s,u;for(var l in r=n.getElems(),r)switch(o=r[l],o.getType(),a=o.getContent(),s=a.getData(),s.userAction){case 1:e.innerHTML=s.nickName,t.innerHTML=s.msg;break;case 2:e.innerHTML="通知 <i>"+s.nickName+"</i> 加入直播",e.setAttribute("class","user-name-red"),t.innerHTML="",u=i()("#user-icon-fans").html(),i()("#user-icon-fans").html(parseInt(u)+1);break;case 3:e.innerHTML="通知 <i>"+s.nickName+"</i> 退出直播",e.setAttribute("class","user-name-red"),t.innerHTML="",u=parseInt(i()("#user-icon-fans").html()),u>0&&i()("#user-icon-fans").html(u-1);break;case 4:e.innerHTML="通知 "+s.nickName+" 点了个赞",e.setAttribute("class","user-name-red"),t.innerHTML="",showLoveMsgAnimation();break;case 5:e.innerHTML=s.nickName,t.innerHTML=s.msg;break}},window.convertImageMsgToHtml=function(e){var t=e.getImage(webim.IMAGE_TYPE.SMALL),n=e.getImage(webim.IMAGE_TYPE.LARGE),r=e.getImage(webim.IMAGE_TYPE.ORIGIN);return n||(n=t),r||(r=t),"<img src='"+t.getUrl()+"#"+n.getUrl()+"#"+r.getUrl()+"' style='CURSOR: hand' id='"+e.getImageId()+"' bigImgUrl='"+n.getUrl()+"' onclick='imageClick(this)' />"},window.convertSoundMsgToHtml=function(e){e.getSecond();var t=e.getDownUrl();return"ie"==webim.BROWSER_INFO.type&&parseInt(webim.BROWSER_INFO.ver)<=8?"[这是一条语音消息]demo暂不支持ie8(含)以下浏览器播放语音,语音URL:"+t:'<audio src="'+t+'" controls="controls" onplay="onChangePlayAudio(this)" preload="none"></audio>'},window.convertFileMsgToHtml=function(e){var t=Math.round(e.getSize()/1024);return'<a href="'+e.getDownUrl()+'" title="点击下载文件" ><i class="glyphicon glyphicon-file">&nbsp;'+e.getName()+"("+t+"KB)</i></a>"},window.convertLocationMsgToHtml=function(e){return"经度="+e.getLongitude()+",纬度="+e.getLatitude()+",描述="+e.getDesc()},window.convertCustomMsgToHtml=function(e){var t=e.getData(),n=e.getDesc(),r=e.getExt();return"data="+t+", desc="+n+", ext="+r},window.convertGroupTipMsgToHtml=function(e){var t,n,r,o,a=10,s="",u=a-1;switch(t=e.getOpType(),n=e.getOpUserId(),t){case webim.GROUP_TIP_TYPE.JOIN:for(var l in r=e.getUserIdList(),r)if(s+=r[l]+",",r.length>a&&l==u){s+="等"+r.length+"人";break}s=s.substring(0,s.length-1),s+="进入房间",o=i()("#user-icon-fans").html(),i()("#user-icon-fans").html(parseInt(o)+1);break;case webim.GROUP_TIP_TYPE.QUIT:s+=n+"离开房间",o=parseInt(i()("#user-icon-fans").html()),o>0&&i()("#user-icon-fans").html(o-1);break;case webim.GROUP_TIP_TYPE.KICK:for(var l in s+=n+"将",r=e.getUserIdList(),r)if(s+=r[l]+",",r.length>a&&l==u){s+="等"+r.length+"人";break}s+="踢出该群";break;case webim.GROUP_TIP_TYPE.SET_ADMIN:for(var l in s+=n+"将",r=e.getUserIdList(),r)if(s+=r[l]+",",r.length>a&&l==u){s+="等"+r.length+"人";break}s+="设为管理员";break;case webim.GROUP_TIP_TYPE.CANCEL_ADMIN:for(var l in s+=n+"取消",r=e.getUserIdList(),r)if(s+=r[l]+",",r.length>a&&l==u){s+="等"+r.length+"人";break}s+="的管理员资格";break;case webim.GROUP_TIP_TYPE.MODIFY_GROUP_INFO:s+=n+"修改了群资料：";var c,h,f=e.getGroupInfoList();for(var l in f)switch(c=f[l].getType(),h=f[l].getValue(),c){case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.FACE_URL:s+="群头像为"+h+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.NAME:s+="群名称为"+h+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.OWNER:s+="群主为"+h+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.NOTIFICATION:s+="群公告为"+h+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.INTRODUCTION:s+="群简介为"+h+"; ";break;default:s+="未知信息为:type="+c+",value="+h+"; ";break}break;case webim.GROUP_TIP_TYPE.MODIFY_MEMBER_INFO:s+=n+"修改了群成员资料:";var d,p,g=e.getMemberInfoList();for(var l in g)if(d=g[l].getUserId(),p=g[l].getShutupTime(),s+=d+": ",s+=null!=p&&void 0!==p?0==p?"取消禁言; ":"禁言"+p+"秒; ":" shutupTime为空",g.length>a&&l==u){s+="等"+g.length+"人";break}break;default:s+="未知群提示消息类型：type="+t;break}return s},window.tlsLogin=function(){TLSHelper.goLogin({sdkappid:loginInfo.sdkAppID,acctype:loginInfo.accountType,url:window.location.href})},window.anoLogin=function(e){TLSHelper.anologin({sdkappid:e,url:window.location.href})},window.tlsAnoLogin=function(e){switch(parseInt(e.ErrorCode)){case 0:var t={sdkappid:loginInfo.sdkAppID,identifier:e.Identifier,tmpsig:e.TmpSig},n=e.Url;for(var r in t)t.hasOwnProperty(r)&&(n=TLSHelper.setQuery(n,r,t[r]));location.href=n;break;default:Toast(e.ErrorCode+"=>"+e.ErrorInfo)}},window.tlsGetUserSig=function(e){if(e.ErrorCode==webim.TLS_ERROR_CODE.OK){loginInfo.identifier=webim.Tool.getQueryString("identifier"),loginInfo.userSig=e.UserSig,loginInfo.sdkAppID=loginInfo.appIDAt3rd=Number(webim.Tool.getQueryString("sdkappid"));var t=webim.Tool.getCookie("accountType");t&&(loginInfo.accountType=t,sdkLogin(function(){window.setTimeout(function(){sendCustomLoginMsg()},1e3),showLogoutForm(),sendData({Action:"EnterGroup",userid:webim.Tool.getQueryString("identifier"),liveuserid:webim.Tool.getQueryString("userid"),flag:webim.Tool.getQueryString("type"),groupid:0==webim.Tool.getQueryString("type")?avChatRoomId:webim.Tool.getQueryString("fileid"),nickname:loginInfo.identifierNick,headpic:"",fileid:webim.Tool.getQueryString("fileid")||""});var e=window.location.search.substr(1);e=delUrlParam(delUrlParam(e,"tmpsig"),"identifier"),window.history.pushState(null,null,window.location.pathname+"?"+e),webim.Tool.setCookie("identifier",loginInfo.identifier,86400),webim.Tool.setCookie("sdkappid",loginInfo.sdkappid,86400),webim.Tool.setCookie("identifierNick",loginInfo.identifierNick,86400),webim.Tool.setCookie("avChatRoomId",avChatRoomId,86400)}))}else e.ErrorCode==webim.TLS_ERROR_CODE.SIGNATURE_EXPIRATION?anoLogin(loginInfo.sdkAppID):Toast("tlsGetUserSig ["+e.ErrorCode+"]"+e.ErrorInfo)},window.imageClick=function(e){var t=e.src,n=t.split("#"),r=n[0],i=n[1],o=n[2];webim.Log.info("小图url:"+r),webim.Log.info("大图url:"+i),webim.Log.info("原图url:"+o)},window.onChangePlayAudio=function(e){curPlayAudio?curPlayAudio!=e&&(curPlayAudio.currentTime=0,curPlayAudio.pause(),curPlayAudio=e):curPlayAudio=e},window.smsPicClick=function(){loginInfo.identifier?(hideDiscussTool(),showDiscussForm()):1==accountMode?anoLogin(loginInfo.sdkAppID):Toast("请填写帐号和票据")},window.onSendMsg=function(){if(loginInfo.identifier){if(!selToID)return Toast("您还没有进入房间，暂不能聊天"),void i()("#send_msg_text").val("");var e,t,n=i()("#send_msg_text").val(),r=webim.Tool.getStrBytes(n);if(n.length<1)Toast("发送的消息不能为空!");else if(selType==webim.SESSION_TYPE.GROUP?(e=webim.MSG_MAX_LENGTH.GROUP,t="消息长度超出限制(最多"+Math.round(e/3)+"汉字)"):(e=webim.MSG_MAX_LENGTH.C2C,t="消息长度超出限制(最多"+Math.round(e/3)+"汉字)"),r>e)Toast(t);else{selSess||(selSess=new webim.Session(selType,selToID,selToID,selSessHeadUrl,Math.round((new Date).getTime()/1e3)));var o,a=!0,s=-1,u=Math.round(4294967296*Math.random()),l=Math.round((new Date).getTime()/1e3);o=selType==webim.SESSION_TYPE.GROUP?webim.GROUP_MSG_SUB_TYPE.COMMON:webim.C2C_MSG_SUB_TYPE.COMMON;var c,h,f,d,p,g,m=new webim.Msg(selSess,a,s,u,l,loginInfo.identifier,o,loginInfo.identifierNick),v=/\[[^[\]]{1,3}\]/gm,A=n.match(v);if(!A||A.length<1)n=JSON.stringify({userAction:1,userId:loginInfo.identifier,nickName:loginInfo.identifierNick,headPic:"",msg:n}),c=new webim.Msg.Elem.Text(n),m.addText(c);else{for(var y=0;y<A.length;y++)f=n.substring(0,n.indexOf(A[y])),f&&(c=new webim.Msg.Elem.Text(f),m.addText(c)),d=webim.EmotionDataIndexs[A[y]],p=webim.Emotions[d],p?(h=new webim.Msg.Elem.Face(d,A[y]),m.addFace(h)):(c=new webim.Msg.Elem.Text(A[y]),m.addText(c)),g=n.indexOf(A[y])+A[y].length,n=n.substring(g);n&&(c=new webim.Msg.Elem.Text(n),m.addText(c))}webim.sendMsg(m,function(e){selType==webim.SESSION_TYPE.C2C&&showMsg(m),webim.Log.info("发消息成功"),i()("#send_msg_text").val(""),hideDiscussForm(),showDiscussTool(),hideDiscussEmotion()},function(e){10010==e.ErrorCode&&Toast("直播已结束("+e.ErrorCode+")")})}}else 1==accountMode?anoLogin(loginInfo.sdkAppID):Toast("请填写帐号和票据")},window.sendGroupLoveMsg=function(){if(loginInfo.identifier)if(selToID){selSess||(selSess=new webim.Session(selType,selToID,selToID,selSessHeadUrl,Math.round((new Date).getTime()/1e3)));var e=!0,t=-1,n=Math.round(4294967296*Math.random()),r=Math.round((new Date).getTime()/1e3),i=webim.GROUP_MSG_SUB_TYPE.COMMON,o=new webim.Msg(selSess,e,t,n,r,loginInfo.identifier,i,loginInfo.identifierNick),a="love_msg";a=JSON.stringify({userAction:4,userId:loginInfo.identifier,nickName:loginInfo.identifierNick,headPic:"",msg:""});var s=new webim.Msg.Elem.Text(a);o.addText(s),webim.sendMsg(o,function(e){selType==webim.SESSION_TYPE.C2C&&showMsg(o),webim.Log.info("点赞成功"),sendData({Action:"ChangeCount",userid:webim.Tool.getQueryString("userid"),type:1,optype:0,flag:webim.Tool.getQueryString("type"),fileid:webim.Tool.getQueryString("fileid")||""})},function(e){webim.Log.error("发送点赞消息失败:"+e.ErrorInfo),Toast("发送点赞消息失败:"+e.ErrorInfo)})}else Toast("您还没有进入房间，暂不能点赞");else 1==accountMode?anoLogin(loginInfo.sdkAppID):Toast("请填写帐号和票据")},window.sendCustomLoginMsg=function(e,t){selSess||(selSess=new webim.Session(selType,selToID,selToID,selSessHeadUrl,Math.round((new Date).getTime()/1e3)));var n=!0,r=-1,i=Math.round(4294967296*Math.random()),o=Math.round((new Date).getTime()/1e3),a=webim.GROUP_MSG_SUB_TYPE.COMMON,s=new webim.Msg(selSess,n,r,i,o,loginInfo.identifier,a,loginInfo.identifierNick),u="login_msg";u=JSON.stringify({userAction:e||2,userId:loginInfo.identifier,nickName:loginInfo.identifierNick,headPic:"",msg:""});var l=new webim.Msg.Elem.Text(u);s.addText(l),webim.sendMsg(s,function(e){selType==webim.SESSION_TYPE.C2C&&showMsg(s),t&&t.call()},function(e){})},window.switchForm=function(){i()("#video-discuss-form").is(":visible")&&(hideDiscussForm(),showDiscussTool())},window.showLogoutForm=function(){i()(".j-btn-logout").show()},window.hideLogoutForm=function(){i()(".j-btn-logout").hide()},window.showLoginForm=function(){i()("#j-pane-login").show()},window.hideLoginForm=function(){i()("#j-pane-login").hide()},window.hideDiscussForm=function(){i()("#video-discuss-form").hide()},window.showDiscussForm=function(){i()("#video-discuss-form").show()},window.hideDiscussTool=function(){i()("#video-discuss-tool").hide()},window.showDiscussTool=function(){i()("#video-discuss-tool").show()},window.hideDiscussEmotion=function(){i()(".video-discuss-emotion").hide()},window.showDiscussEmotion=function(){i()(".video-discuss-emotion").show()},window.showLoveMsgAnimation=function(){var e=i()("#user-icon-like").html();i()("#user-icon-like").html(parseInt(e)+1);var t=document.getElementById("video-discuss-tool"),n=document.createElement("span"),r=["red","green","blue"],o=r.length-1,a=0,s=parseInt(Math.random()*(o-a+1)+a,o+1),u=r[s];n.setAttribute("class","like-icon zoomIn "+u),t.appendChild(n)},window.initEmotionUL=function(){for(var e in webim.Emotions){var t=i()("<img>").attr({id:webim.Emotions[e][0],src:webim.Emotions[e][1],style:"cursor:pointer;"}).click(function(){selectEmotionImg(this)});i()("<li>").append(t).appendTo(i()("#emotionUL"))}},window.showEmotionDialog=function(){openEmotionFlag?(openEmotionFlag=!1,hideDiscussEmotion()):(openEmotionFlag=!0,showDiscussEmotion())},window.selectEmotionImg=function(e){i()("#send_msg_text").val(i()("#send_msg_text").val()+e.id)},window.quitBigGroup=function(){var e={GroupId:avChatRoomId};webim.quitBigGroup(e,function(e){webim.Log.info("退群成功"),i()("#video_sms_list").find("li").remove()},function(e){Toast(e.ErrorInfo)})},window.sendData=function(e){return i.a.ajax({type:"POST",url:SERVER,data:JSON.stringify(e),crossDomain:!0,dataType:"json"}).done(function(e,t,n){}).fail(function(e,t,n){})},window.delUrlParam=function(e,t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");return e.replace(n,"")},window.logout=function(){sendData({Action:"QuitGroup",userid:webim.Tool.getCookie("identifier"),liveuserid:webim.Tool.getQueryString("userid"),flag:webim.Tool.getQueryString("type"),groupid:0==webim.Tool.getQueryString("type")?avChatRoomId:webim.Tool.getQueryString("fileid")}),webim.Tool.delCookie("sdkappid"),webim.Tool.delCookie("userSig"),webim.Tool.delCookie("identifier"),webim.Tool.delCookie("accountType"),sendCustomLoginMsg(3,function(){webim.logout(function(e){webim.Log.info("登出成功"),loginInfo.identifier=null,loginInfo.userSig=null,i()("#video_sms_list").find("li").remove();var t=window.location.search.substr(1);t=delUrlParam(delUrlParam(t,"tmpsig"),"identifier"),window.location.search=t})})},window.onApplyJoinGroupRequestNotify=function(e){webim.Log.warn("执行 加群申请 回调："+JSON.stringify(e));var t=e.MsgTime,n="[申请加群]",r=e.Operator_Account+"申请加入你的群";showGroupSystemMsg(e.ReportType,n,e.GroupId,e.GroupName,r,t)},window.onApplyJoinGroupAcceptNotify=function(e){webim.Log.warn("执行 申请加群被同意 回调："+JSON.stringify(e));var t="[申请加群被同意]",n=e.Operator_Account+"同意你的加群申请，附言："+e.RemarkInfo;showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onApplyJoinGroupRefuseNotify=function(e){webim.Log.warn("执行 申请加群被拒绝 回调："+JSON.stringify(e));var t="[申请加群被拒绝]",n=e.Operator_Account+"拒绝了你的加群申请，附言："+e.RemarkInfo;showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onKickedGroupNotify=function(e){webim.Log.warn("执行 被踢出群  回调："+JSON.stringify(e));var t="[被踢出群]",n="你被管理员"+e.Operator_Account+"踢出该群";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onDestoryGroupNotify=function(e){webim.Log.warn("执行 解散群 回调："+JSON.stringify(e));var t="[群被解散]",n="群主"+e.Operator_Account+"已解散该群";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onCreateGroupNotify=function(e){webim.Log.warn("执行 创建群 回调："+JSON.stringify(e));var t="[创建群]",n="你创建了该群";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onInvitedJoinGroupNotify=function(e){webim.Log.warn("执行 被邀请加群  回调: "+JSON.stringify(e));var t="[被邀请加群]",n="你被管理员"+e.Operator_Account+"邀请加入该群";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onQuitGroupNotify=function(e){webim.Log.warn("执行 主动退群  回调： "+JSON.stringify(e));var t="[主动退群]",n="你退出了该群";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onSetedGroupAdminNotify=function(e){webim.Log.warn("执行 被设置为管理员  回调："+JSON.stringify(e));var t="[被设置为管理员]",n="你被群主"+e.Operator_Account+"设置为管理员";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onCanceledGroupAdminNotify=function(e){webim.Log.warn("执行 被取消管理员 回调："+JSON.stringify(e));var t="[被取消管理员]",n="你被群主"+e.Operator_Account+"取消了管理员资格";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onRevokeGroupNotify=function(e){webim.Log.warn("执行 群被回收 回调："+JSON.stringify(e));var t="[群被回收]",n="该群已被回收";showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onCustomGroupNotify=function(e){webim.Log.warn("执行 用户自定义系统消息 回调："+JSON.stringify(e));var t="[用户自定义系统消息]",n=e.UserDefinedField;showGroupSystemMsg(e.ReportType,t,e.GroupId,e.GroupName,n,e.MsgTime)},window.onGroupInfoChangeNotify=function(e){webim.Log.warn("执行 群资料变化 回调： "+JSON.stringify(e));var t=e.GroupId,n=(e.GroupFaceUrl,e.GroupName);e.OwnerAccount,e.GroupNotification,e.GroupIntroduction;n&&webim.Log.warn("群id="+t+"的新名称为："+n)},window.showGroupSystemMsg=function(e,t,n,r,i,o){var a="收到一条群系统消息: type="+e+", typeCh="+t+",群ID="+n+", 群名称="+r+", 内容="+i+", 时间="+webim.Tool.formatTimeStamp(o);webim.Log.warn(a),5==e&&(Toast("直播已结束"),hideDiscussForm(),hideDiscussTool(),hideLogoutForm(),hideLoginForm())}},8890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){var r=!0;while(r){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n("4491"),l=o(u),c=function(e){function t(){a(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,l["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return s(t,e),r(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(l["default"]);t["default"]=c,e.exports=t["default"]},"88c7":function(e,t){var n=function(e,t,n,r){if(r=r||function(){},!e.length||t<=0)return r();var i=0,o=0,a=0;(function s(){if(i>=e.length)return r();while(a<t&&o<e.length)o+=1,a+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,a-=1,i>=e.length?r():s())})})()},r=function(e,t,n){var r=function(i){t(function(t,o){t&&i<e?r(i+1):n(t,o)})};e<1?n():r(1)},i={eachLimit:n,retry:r};e.exports=i},"8c10":function(e,t){function n(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}e.exports=n},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new D(r||[]);return o._invoke=S(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var c="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function m(){}function v(){}var A={};A[o]=function(){return this};var y=Object.getPrototypeOf,E=y&&y(y(k([])));E&&E!==n&&r.call(E,o)&&(A=E);var C=v.prototype=g.prototype=Object.create(A);function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){function t(n,i,o,a){var s=l(e[n],e,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},function(e){return t("throw",e,o,a)})}a(s.arg)}var n;function i(e,r){function i(){return new Promise(function(n,i){t(e,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=i}function S(e,t,n){var r=c;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return M()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:t,done:!0}}return m.prototype=C.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},_(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i){var o=new T(u(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(C),C[s]="Generator",C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(b),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;b(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},"9afa":function(e,t,n){"use strict";var r,i,o=n("7fe1").toUnsigned,a=function(e){return new Date(1e3*e-20828448e5)},s=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},u=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3]),t},l=function(e,t){var n,r,i,a,s,c=[];if(!t.length)return null;for(n=0;n<e.byteLength;)r=o(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),i=u(e.subarray(n+4,n+8)),a=r>1?n+r:e.byteLength,i===t[0]&&(1===t.length?c.push(e.subarray(n+8,a)):(s=l(e.subarray(n+8,a),t.slice(1)),s.length&&(c=c.concat(s)))),n=a;return c},c=function(e){var t,n,r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=n)if(n=r.getUint32(t),t+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31);break}return i},h={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:r(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,r,i,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;for(t=e[r],r++,i=0;i<t;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:u(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;while(r<e.byteLength)n.compatibleBrands.push(u(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:r(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:r(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:u(e.subarray(8,12)),name:""},r=8;for(r=24;r<e.byteLength;r++){if(0===e[r]){r++;break}n.name+=String.fromCharCode(e[r])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(e){return{byteLength:e.byteLength,nals:c(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=a(n.getUint32(r)),r+=8,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=a(n.getUint32(r)),r+=4,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,t=n.getUint16(r),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:r(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:r(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=r(e.subarray(28))[0]),n},moof:function(e){return{boxes:r(e)}},moov:function(e){return{boxes:r(e)}},mvex:function(e){return{boxes:r(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(t=24;i;t+=12,i--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:r(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(t=8;i;t+=4,i--)r.chunkOffsets.push(n.getUint32(t));return r},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=n.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:r(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(n.getUint32(t));return r},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(t=8;i;t+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return r},styp:function(e){return h.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:o(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=o(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],l=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),u&&(r.defaultSampleFlags=n.getUint32(t)),l&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=8,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,r.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/16,r},traf:function(e){return{boxes:r(e)}},trak:function(e){return{boxes:r(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],u=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],h=r.getUint32(4),f=8;i&&(n.dataOffset=r.getInt32(f),f+=4),o&&h&&(t={flags:s(e.subarray(f,f+4))},f+=4,a&&(t.duration=r.getUint32(f),f+=4),u&&(t.size=r.getUint32(f),f+=4),c&&(t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t),h--);while(h--)t={},a&&(t.duration=r.getUint32(f),f+=4),u&&(t.size=r.getUint32(f),f+=4),l&&(t.flags=s(e.subarray(f,f+4)),f+=4),c&&(t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};r=function(e){for(var t,n,r,i,o,a=0,s=[],l=new ArrayBuffer(e.length),c=new Uint8Array(l),f=0;f<e.length;++f)c[f]=e[f];t=new DataView(l);while(a<e.byteLength)n=t.getUint32(a),r=u(e.subarray(a+4,a+8)),i=n>1?a+n:e.byteLength,o=(h[r]||function(e){return{data:e}})(e.subarray(a+8,i)),o.size=n,o.type=r,s.push(o),a=i;return s},i=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map(function(e,r){return n+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var r=n+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(e){return n+"  "+e}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:n+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+i(e.boxes,t+1):"")}).join("\n")},e.exports={inspect:r,textify:i,parseType:u,findBox:l,parseTraf:h.traf,parseTfdt:h.tfdt,parseHdlr:h.hdlr,parseTfhd:h.tfhd,parseTrun:h.trun,parseSidx:h.sidx}},a22a:function(e,t,n){var r=n("d864"),i=n("b0dc"),o=n("3702"),a=n("e4ae"),s=n("b447"),u=n("7cd6"),l={},c={};t=e.exports=function(e,t,n,h,f){var d,p,g,m,v=f?function(){return e}:u(e),A=r(n,h,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(d=s(e.length);d>y;y++)if(m=t?A(a(p=e[y])[0],p[1]):A(e[y]),m===l||m===c)return m}else for(g=v.call(e);!(p=g.next()).done;)if(m=i(g,A,p.value,t),m===l||m===c)return m};t.BREAK=l,t.RETURN=c},a481:function(e,t,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),a=n("4588"),s=n("0390"),u=n("5f1b"),l=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,function(e,t,n,g){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=g(n,e,this,t);if(i.done)return i.value;var h=r(e),f=String(this),d="function"===typeof t;d||(t=String(t));var v=h.global;if(v){var A=h.unicode;h.lastIndex=0}var y=[];while(1){var E=u(h,f);if(null===E)break;if(y.push(E),!v)break;var C=String(E[0]);""===C&&(h.lastIndex=s(f,o(h.lastIndex),A))}for(var _="",T=0,S=0;S<y.length;S++){E=y[S];for(var w=String(E[0]),I=l(c(a(E.index),f.length),0),b=[],D=1;D<E.length;D++)b.push(p(E[D]));var k=E.groups;if(d){var M=[w].concat(b,I,f);void 0!==k&&M.push(k);var R=String(t.apply(void 0,M))}else R=m(w,f,I,b,k,t);I>=T&&(_+=f.slice(T,I)+R,T=I+w.length)}return _+f.slice(T)}];function m(e,t,r,o,a,s){var u=r+e.length,l=o.length,c=d;return void 0!==a&&(a=i(a),c=f),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var f=h(c/10);return 0===f?n:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s})}})},a819:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_2__),_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("7618");"object"!==("undefined"===typeof JSON?"undefined":Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(JSON))&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,u=t[e];switch(u&&"object"===Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(u)&&"function"===typeof u.toJSON&&(u=u.toJSON(e)),"function"===typeof rep&&(u=rep.call(t,e,u)),Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(u)){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)a[n]=str(n,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"===Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(rep))for(o=rep.length,n=0;n<o;n+=1)"string"===typeof rep[n]&&(r=rep[n],i=str(r,u),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!==typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"===typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"===typeof n&&(indent=n);if(rep=t,t&&"function"!==typeof t&&("object"!==Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(t)||"number"!==typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!==typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"===Object(_Users_yangshuai_work_zmhh5_dev_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_3__["a"])(i))for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"===typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},a8e0:function(e,t,n){"use strict";var r=n("dc6d").discardEmulationPreventionBytes,i=n("4e69").CaptionStream,o=n("2806"),a=n("9afa"),s=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},u=function(e,t,n){var i,o,a,u,l=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(o=0;o+4<e.length;o+=a)if(a=l.getUint32(o),o+=4,!(a<=0))switch(31&e[o]){case 6:var h=e.subarray(o+1,o+1+a),f=s(o,t);i={nalUnitType:"sei_rbsp",size:a,data:h,escapedRBSP:r(h),trackId:n},f?(i.pts=f.pts,i.dts=f.dts,u=f):(i.pts=u.pts,i.dts=u.dts),c.push(i);break;default:break}return c},l=function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,u=[];return e.forEach(function(e){var t=a.parseTrun(e),n=t.samples;n.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),u=u.concat(n)}),u},c=function(e,t){var n=o.findBox(e,["moof","traf"]),r=o.findBox(e,["mdat"]),i={},s=[];return r.forEach(function(e,t){var r=n[t];s.push({mdat:e,traf:r})}),s.forEach(function(e){var n,r,s=e.mdat,c=e.traf,h=o.findBox(c,["tfhd"]),f=a.parseTfhd(h[0]),d=f.trackId,p=o.findBox(c,["tfdt"]),g=p.length>0?a.parseTfdt(p[0]).baseMediaDecodeTime:0,m=o.findBox(c,["trun"]);t===d&&m.length>0&&(n=l(m,g,f),r=u(s,n,d),i[d]||(i[d]=[]),i[d]=i[d].concat(r))}),i},h=function(e,t,n){var r;return null===t?null:(r=c(e,t),{seiNals:r[t],timescale:n})},f=function(){var e,t,n,r,o,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new i,s=!0,a=!!t&&t.isPartial,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,o.captions.push(e),o.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,i,a){var s;if(!this.isInitialized())return null;if(!i||!a)return null;if(this.isNewInit(i,a))n=i[0],r=a[n];else if(null===n||!r)return t.push(e),null;while(t.length>0){var u=t.shift();this.parse(u,i,a)}return s=h(e,n,r),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};e.exports=f},aa77:function(e,t,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(f):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},f=h.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=h},aba2:function(e,t,n){var r=n("e53d"),i=n("4178").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("6b4c")(a);e.exports=function(){var e,t,n,l=function(){var r,i;u&&(r=a.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},ac4d:function(e,t,n){n("3a72")("asyncIterator")},adaa:function(e,t){var n=function(){var e=[],t=e.slice,n=e.concat,r=e.push,i=e.indexOf,o={},a=o.toString,s=o.hasOwnProperty,u={},l="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",c=function(e,t){return new c.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,d=/-([\da-z])/gi,p=function(e,t){return t.toUpperCase()};function g(e){var t=e.length,n=c.type(e);return"function"!==n&&!c.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e))}c.fn=c.prototype={jquery:l,constructor:c,selector:"",length:0,toArray:function(){return t.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:t.call(this)},pushStack:function(e){var t=c.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return c.each(this,e,t)},map:function(e){return this.pushStack(c.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(t.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:r,sort:e.sort,splice:e.splice},c.extend=c.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"===typeof a&&(l=a,a=arguments[s]||{},s++),"object"===typeof a||c.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(c.isPlainObject(n)||(t=c.isArray(n)))?(t?(t=!1,o=e&&c.isArray(e)?e:[]):o=e&&c.isPlainObject(e)?e:{},a[r]=c.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},c.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===c.type(e)},isArray:Array.isArray||function(e){return"array"===c.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!c.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==c.type(e)||e.nodeType||c.isWindow(e))return!1;try{if(e.constructor&&!s.call(e,"constructor")&&!s.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(u.ownLast)for(t in e)return s.call(e,t);for(t in e);return void 0===t||s.call(e,t)},type:function(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?o[a.call(e)]||"object":typeof e},globalEval:function(e){e&&c.trim(e)&&(window.execScript||function(e){window["eval"].call(window,e)})(e)},camelCase:function(e){return e.replace(f,"ms-").replace(d,p)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=g(e);if(n){if(a){for(;i<o;i++)if(r=t.apply(e[i],n),!1===r)break}else for(i in e)if(r=t.apply(e[i],n),!1===r)break}else if(a){for(;i<o;i++)if(r=t.call(e[i],i,e[i]),!1===r)break}else for(i in e)if(r=t.call(e[i],i,e[i]),!1===r)break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(g(Object(e))?c.merge(n,"string"===typeof e?[e]:e):r.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(i)return i.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(r<n)e[i++]=t[r++];if(n!==n)while(void 0!==t[r])e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=g(e),u=[];if(s)for(;o<a;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return n.apply([],u)},guid:1,proxy:function(e,n){var r,i,o;if("string"===typeof n&&(o=e[n],n=e,e=o),c.isFunction(e))return r=t.call(arguments,2),i=function(){return e.apply(n||this,r.concat(t.call(arguments)))},i.guid=e.guid=e.guid||c.guid++,i},now:function(){return+new Date},support:u}),c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){o["[object "+t+"]"]=t.toLowerCase()});var m,v=window.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,y=c.fn.init=function(e,t){var n,r;if(!e)return this;if("string"===typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:A.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||m).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof c?t[0]:t,c.merge(this,c.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:v,!0)),rsingleTag.test(n[1])&&c.isPlainObject(t))for(n in t)c.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=v.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return m.find(e);this.length=1,this[0]=r}return this.context=v,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):c.isFunction(e)?"undefined"!==typeof m.ready?m.ready(e):e(c):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),c.makeArray(e,this))};y.prototype=c.fn,m=c(v);var E,C=/\S+/g,_={};function T(e){var t=_[e]={};return c.each(e.match(C)||[],function(e,n){t[n]=!0}),t}function S(){v.addEventListener?(v.removeEventListener("DOMContentLoaded",w,!1),window.removeEventListener("load",w,!1)):(v.detachEvent("onreadystatechange",w),window.detachEvent("onload",w))}function w(){(v.addEventListener||"load"===event.type||"complete"===v.readyState)&&(S(),c.ready())}c.Callbacks=function(e){e="string"===typeof e?_[e]||T(e):c.extend({},e);var t,n,r,i,o,a,s=[],u=!e.once&&[],l=function(c){for(n=e.memory&&c,r=!0,o=a||0,a=0,i=s.length,t=!0;s&&o<i;o++)if(!1===s[o].apply(c[0],c[1])&&e.stopOnFalse){n=!1;break}t=!1,s&&(u?u.length&&l(u.shift()):n?s=[]:h.disable())},h={add:function(){if(s){var r=s.length;(function t(n){c.each(n,function(n,r){var i=c.type(r);"function"===i?e.unique&&h.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})})(arguments),t?i=s.length:n&&(a=r,l(n))}return this},remove:function(){return s&&c.each(arguments,function(e,n){var r;while((r=c.inArray(n,s,r))>-1)s.splice(r,1),t&&(r<=i&&i--,r<=o&&o--)}),this},has:function(e){return e?c.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],i=0,this},disable:function(){return s=u=n=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,n||h.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!s||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):l(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},c.extend({Deferred:function(e){var t=[["resolve","done",c.Callbacks("once memory"),"resolved"],["reject","fail",c.Callbacks("once memory"),"rejected"],["notify","progress",c.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return c.Deferred(function(n){c.each(t,function(t,o){var a=c.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&c.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?c.extend(e,r):r}},i={};return r.pipe=r.then,c.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var n,r,i,o=0,a=t.call(arguments),s=a.length,u=1!==s||e&&c.isFunction(e.promise)?s:0,l=1===u?e:c.Deferred(),h=function(e,r,i){return function(o){r[e]=this,i[e]=arguments.length>1?t.call(arguments):o,i===n?l.notifyWith(r,i):--u||l.resolveWith(r,i)}};if(s>1)for(n=new Array(s),r=new Array(s),i=new Array(s);o<s;o++)a[o]&&c.isFunction(a[o].promise)?a[o].promise().done(h(o,i,a)).fail(l.reject).progress(h(o,r,n)):--u;return u||l.resolveWith(i,a),l.promise()}}),c.fn.ready=function(e){return c.ready.promise().done(e),this},c.extend({isReady:!1,readyWait:1,holdReady:function(e){e?c.readyWait++:c.ready(!0)},ready:function(e){if(!0===e?!--c.readyWait:!c.isReady){if(!v.body)return setTimeout(c.ready);c.isReady=!0,!0!==e&&--c.readyWait>0||(E.resolveWith(v,[c]),c.fn.triggerHandler&&(c(v).triggerHandler("ready"),c(v).off("ready")))}}}),c.ready.promise=function(e){if(!E)if(E=c.Deferred(),"complete"===v.readyState)setTimeout(c.ready);else if(v.addEventListener)v.addEventListener("DOMContentLoaded",w,!1),window.addEventListener("load",w,!1);else{v.attachEvent("onreadystatechange",w),window.attachEvent("onload",w);var t=!1;try{t=null==window.frameElement&&v.documentElement}catch(n){}t&&t.doScroll&&function e(){if(!c.isReady){try{t.doScroll("left")}catch(n){return setTimeout(e,50)}S(),c.ready()}}()}return E.promise(e)};var I,b="undefined";for(I in c(u))break;u.ownLast="0"!==I,u.inlineBlockNeedsLayout=!1,c(function(){var e,t,n,r;n=v.getElementsByTagName("body")[0],n&&n.style&&(t=v.createElement("div"),r=v.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==b&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",u.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=v.createElement("div");if(null==u.deleteExpando){u.deleteExpando=!0;try{delete e.test}catch(t){u.deleteExpando=!1}}e=null}(),c.acceptData=function(e){var t=c.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var D=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,k=/([A-Z])/g;function M(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(k,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"===typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:D.test(n)?c.parseJSON(n):n)}catch(i){}c.data(e,t,n)}else n=void 0}return n}function R(e){var t;for(t in e)if(("data"!==t||!c.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function P(t,n,r,i){if(c.acceptData(t)){var o,a,s=c.expando,u=t.nodeType,l=u?c.cache:t,h=u?t[s]:t[s]&&s;if(h&&l[h]&&(i||l[h].data)||void 0!==r||"string"!==typeof n)return h||(h=u?t[s]=e.pop()||c.guid++:s),l[h]||(l[h]=u?{}:{toJSON:c.noop}),"object"!==typeof n&&"function"!==typeof n||(i?l[h]=c.extend(l[h],n):l[h].data=c.extend(l[h].data,n)),a=l[h],i||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[c.camelCase(n)]=r),"string"===typeof n?(o=a[n],null==o&&(o=a[c.camelCase(n)])):o=a,o}}function O(e,t,n){if(c.acceptData(e)){var r,i,o=e.nodeType,a=o?c.cache:e,s=o?e[c.expando]:c.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data,r)){c.isArray(t)?t=t.concat(c.map(t,c.camelCase)):t in r?t=[t]:(t=c.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!c.isEmptyObject(r))return}(n||(delete a[s].data,R(a[s])))&&(o?c.cleanData([e],!0):u.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}c.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?c.cache[e[c.expando]]:e[c.expando],!!e&&!R(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return O(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return O(e,t,!0)}}),c.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=c.data(o),1===o.nodeType&&!c._data(o,"parsedAttrs"))){n=a.length;while(n--)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=c.camelCase(r.slice(5)),M(o,r,i[r])));c._data(o,"parsedAttrs",!0)}return i}return"object"===typeof e?this.each(function(){c.data(this,e)}):arguments.length>1?this.each(function(){c.data(this,e,t)}):o?M(o,e,c.data(o,e)):void 0},removeData:function(e){return this.each(function(){c.removeData(this,e)})}}),c.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=c._data(e,t),n&&(!r||c.isArray(n)?r=c._data(e,t,c.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=c.queue(e,t),r=n.length,i=n.shift(),o=c._queueHooks(e,t),a=function(){c.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return c._data(e,n)||c._data(e,n,{empty:c.Callbacks("once memory").add(function(){c._removeData(e,t+"queue"),c._removeData(e,n)})})}}),c.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?c.queue(this[0],e):void 0===t?this:this.each(function(){var n=c.queue(this,e,t);c._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&c.dequeue(this,e)})},dequeue:function(e){return this.each(function(){c.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=c.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!==typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)n=c._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),c.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,h,f,d,p,g,m,v=c._data(e);if(v){n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=c.guid++),(a=v.events)||(a=v.events={}),(h=v.handle)||(h=v.handle=function(e){return typeof c===b||e&&c.event.triggered===e.type?void 0:c.event.dispatch.apply(h.elem,arguments)},h.elem=e),t=(t||"").match(C)||[""],s=t.length;while(s--)o=U.exec(t[s])||[],p=m=o[1],g=(o[2]||"").split(".").sort(),p&&(l=c.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=c.event.special[p]||{},f=c.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&c.expr.match.needsContext.test(i),namespace:g.join(".")},u),(d=a[p])||(d=a[p]=[],d.delegateCount=0,l.setup&&!1!==l.setup.call(e,r,g,h)||(e.addEventListener?e.addEventListener(p,h,!1):e.attachEvent&&e.attachEvent("on"+p,h))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),c.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,h,f,d,p,g,m,v=c.hasData(e)&&c._data(e);if(v&&(h=v.events)){t=(t||"").match(C)||[""],l=t.length;while(l--)if(s=U.exec(t[l])||[],p=m=s[1],g=(s[2]||"").split(".").sort(),p){f=c.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=h[p]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;while(o--)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,g,v.handle)||c.removeEvent(e,p,v.handle),delete h[p])}else for(p in h)c.event.remove(e,p+t[l],n,r,!0);c.isEmptyObject(h)&&(delete v.handle,c._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,u,l,h,f,d=[n||v],p=s.call(e,"type")?e.type:e,g=s.call(e,"namespace")?e.namespace.split("."):[];if(a=h=n=n||v,3!==n.nodeType&&8!==n.nodeType&&!x.test(p+c.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),o=p.indexOf(":")<0&&"on"+p,e=e[c.expando]?e:new c.Event(p,"object"===typeof e&&e),e.isTrigger=r?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:c.makeArray(t,[e]),l=c.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!c.isWindow(n)){for(u=l.delegateType||p,x.test(u+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),h=a;h===(n.ownerDocument||v)&&d.push(h.defaultView||h.parentWindow||window)}f=0;while((a=d[f++])&&!e.isPropagationStopped())e.type=f>1?u:l.bindType||p,i=(c._data(a,"events")||{})[e.type]&&c._data(a,"handle"),i&&i.apply(a,t),i=o&&a[o],i&&i.apply&&c.acceptData(a)&&(e.result=i.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),t))&&c.acceptData(n)&&o&&n[p]&&!c.isWindow(n)){h=n[o],h&&(n[o]=null),c.event.triggered=p;try{n[p]()}catch(m){}c.event.triggered=void 0,h&&(n[o]=h)}return e.result}},dispatch:function(e){e=c.event.fix(e);var n,r,i,o,a,s=[],u=t.call(arguments),l=(c._data(this,"events")||{})[e.type]||[],h=c.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){s=c.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,r=((c.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),void 0!==r&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()))}return h.postDispatch&&h.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?c(n,this).index(u)>=0:c.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[c.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=B.test(i)?this.mouseHooks:N.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new c.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||v),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||v,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(c.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return c.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=c.extend(new c.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?c.event.trigger(i,null,t):c.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},c.removeEvent=v.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===b&&(e[r]=null),e.detachEvent(r,n))},c.Event=function(e,t){if(!(this instanceof c.Event))return new c.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?G:F):this.type=e,t&&c.extend(this,t),this.timeStamp=e&&e.timeStamp||c.now(),this[c.expando]=!0};var L=/^(?:input|select|textarea)$/i,N=/^key/,B=/^(?:mouse|pointer|contextmenu)|click/,x=/^(?:focusinfocus|focusoutblur)$/,U=/^([^.]*)(?:\.(.+)|)$/;function G(){return!0}function F(){return!1}c.Event.prototype={isDefaultPrevented:F,isPropagationStopped:F,isImmediatePropagationStopped:F,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=G,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=G,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=G,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},u.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=c.nodeName(t,"input")||c.nodeName(t,"button")?t.form:void 0;n&&!c._data(n,"submitBubbles")&&(c.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),c._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&c.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(c.nodeName(this,"form"))return!1;c.event.remove(this,"._submit")}}),u.changeBubbles||(c.event.special.change={setup:function(){if(L.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(c.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),c.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),c.event.simulate("change",this,e,!0)})),!1;c.event.add(this,"beforeactivate._change",function(e){var t=e.target;L.test(t.nodeName)&&!c._data(t,"changeBubbles")&&(c.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||c.event.simulate("change",this.parentNode,e,!0)}),c._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return c.event.remove(this,"._change"),!L.test(this.nodeName)}}),u.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){c.event.simulate(t,e.target,c.event.fix(e),!0)};c.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=c._data(r,t);i||r.addEventListener(e,n,!0),c._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=c._data(r,t)-1;i?c._data(r,t,i):(r.removeEventListener(e,n,!0),c._removeData(r,t))}}}),c.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"===typeof e){for(o in"string"!==typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"===typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=F;else if(!r)return this;return 1===i&&(a=r,r=function(e){return c().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=c.guid++)),this.each(function(){c.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,c(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=F),this.each(function(){c.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){c.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return c.event.trigger(e,t,n,!0)}}),c.fn.delay=function(e,t){return e=c.fx&&c.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})};var Q=c.now(),j=/\?/,H=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;c.parseJSON=function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,n=null,r=c.trim(e+"");return r&&!c.trim(r.replace(H,function(e,r,i,o){return t&&r&&(n=0),0===n?e:(t=i||r,n+=!o-!i,"")}))?Function("return "+r)():c.error("Invalid JSON: "+e)},c.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(r){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+e),t};var K,Y,q=/#.*$/,J=/([?&])_=[^&]*/,V=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,W=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,z=/^(?:GET|HEAD)$/,X=/^\/\//,Z=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$={},ee={},te="*/".concat("*");try{Y=location.href}catch(Ee){Y=v.createElement("a"),Y.href="",Y=Y.href}function ne(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(C)||[];if(c.isFunction(n))while(r=o[i++])"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function re(e,t,n,r){var i={},o=e===ee;function a(s){var u;return i[s]=!0,c.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!==typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function ie(e,t){var n,r,i=c.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&c.extend(!0,e,n),e}function oe(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ae(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift(),o)if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]],a)){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(Ee){return{state:"parsererror",error:a?Ee:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}K=Z.exec(Y.toLowerCase())||[],c.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Y,type:"GET",isLocal:W.test(K[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":te,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ie(ie(e,c.ajaxSettings),t):ie(c.ajaxSettings,e)},ajaxPrefilter:ne($),ajaxTransport:ne(ee),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,u,l,h=c.ajaxSetup({},t),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?c(f):c.event,p=c.Deferred(),g=c.Callbacks("once memory"),m=h.statusCode||{},v={},A={},y=0,E="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!l){l={};while(t=V.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=A[n]=A[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)m[t]=[m[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||E;return u&&u.abort(t),T(0,t),this}};if(p.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,h.url=((e||h.url||Y)+"").replace(q,"").replace(X,K[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=c.trim(h.dataType||"*").toLowerCase().match(C)||[""],null==h.crossDomain&&(n=Z.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===K[1]&&n[2]===K[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(K[3]||("http:"===K[1]?"80":"443")))),h.data&&h.processData&&"string"!==typeof h.data&&(h.data=c.param(h.data,h.traditional)),re($,h,t,_),2===y)return _;for(r in s=h.global,s&&0===c.active++&&c.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!z.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(j.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=J.test(i)?i.replace(J,"$1_="+Q++):i+(j.test(i)?"&":"?")+"_="+Q++)),h.ifModified&&(c.lastModified[i]&&_.setRequestHeader("If-Modified-Since",c.lastModified[i]),c.etag[i]&&_.setRequestHeader("If-None-Match",c.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&_.setRequestHeader("Content-Type",h.contentType),h.headers)_.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(f,_,h)||2===y))return _.abort();for(r in E="abort",{success:1,error:1,complete:1})_[r](h[r]);if(u=re(ee,h,t,_),u){_.readyState=1,s&&d.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},h.timeout));try{y=1,u.send(v,T)}catch(Ee){if(!(y<2))throw Ee;T(-1,Ee)}}else T(-1,"No Transport");function T(e,t,n,r){var l,v,A,E,C,T=t;2!==y&&(y=2,a&&clearTimeout(a),u=void 0,o=r||"",_.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(E=oe(h,_,n)),E=ae(h,E,_,l),l?(h.ifModified&&(C=_.getResponseHeader("Last-Modified"),C&&(c.lastModified[i]=C),C=_.getResponseHeader("etag"),C&&(c.etag[i]=C)),204===e||"HEAD"===h.type?T="nocontent":304===e?T="notmodified":(T=E.state,v=E.data,A=E.error,l=!A)):(A=T,!e&&T||(T="error",e<0&&(e=0))),_.status=e,_.statusText=(t||T)+"",l?p.resolveWith(f,[v,T,_]):p.rejectWith(f,[_,T,A]),_.statusCode(m),m=void 0,s&&d.trigger(l?"ajaxSuccess":"ajaxError",[_,h,l?v:A]),g.fireWith(f,[_,T]),s&&(d.trigger("ajaxComplete",[_,h]),--c.active||c.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return c.get(e,t,n,"json")},getScript:function(e,t){return c.get(e,void 0,t,"script")}}),c.each(["get","post"],function(e,t){c[t]=function(e,n,r,i){return c.isFunction(n)&&(i=i||r,r=n,n=void 0),c.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),c.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){c.fn[t]=function(e){return this.on(t,e)}}),c._evalUrl=function(e){return c.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var se=/%20/g,ue=/\[\]$/,le=/\r?\n/g,ce=/^(?:submit|button|image|reset|file)$/i,he=/^(?:input|select|textarea|keygen)/i;function fe(e,t,n,r){var i;if(c.isArray(t))c.each(t,function(t,i){n||ue.test(e)?r(e,i):fe(e+"["+("object"===typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==c.type(t))r(e,t);else for(i in t)fe(e+"["+i+"]",t[i],n,r)}c.param=function(e,t){var n,r=[],i=function(e,t){t=c.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=c.ajaxSettings&&c.ajaxSettings.traditional),c.isArray(e)||e.jquery&&!c.isPlainObject(e))c.each(e,function(){i(this.name,this.value)});else for(n in e)fe(n,e[n],t,i);return r.join("&").replace(se,"+")},c.fn.extend({serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=c.prop(this,"elements");return e?c.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!c(this).is(":disabled")&&he.test(this.nodeName)&&!ce.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=c(this).val();return null==n?null:c.isArray(n)?c.map(n,function(e){return{name:t.name,value:e.replace(le,"\r\n")}}):{name:t.name,value:n.replace(le,"\r\n")}}).get()}}),c.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&me()||ve()}:me;var de=0,pe={},ge=c.ajaxSettings.xhr();function me(){try{return new window.XMLHttpRequest}catch(Ee){}}function ve(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(Ee){}}window.ActiveXObject&&c(window).on("unload",function(){for(var e in pe)pe[e](void 0,!0)}),u.cors=!!ge&&"withCredentials"in ge,ge=u.ajax=!!ge,ge&&c.ajaxTransport(function(e){var t;if(!e.crossDomain||u.cors)return{send:function(n,r){var i,o=e.xhr(),a=++de;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.upload&&e.progress&&(o.upload.onprogress=e.progress),o.send(e.hasContent&&(e.body||e.data)||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete pe[a],t=void 0,o.onreadystatechange=c.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"===typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(Ee){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=pe[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}),c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return c.globalEval(e),e}}}),c.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),c.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=v.head||c("head")[0]||v.documentElement;return{send:function(r,i){t=v.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Ae=[],ye=/(=)\?(?=&|$)|\?\?/;return c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ae.pop()||c.expando+"_"+Q++;return this[e]=!0,e}}),c.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(ye.test(e.url)?"url":"string"===typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ye.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=c.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ye,"$1"+r):!1!==e.jsonp&&(e.url+=(j.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||c.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){o=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ae.push(r)),o&&c.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),c.parseHTML=function(e,t,n){if(!e||"string"!==typeof e)return null;"boolean"===typeof t&&(n=t,t=!1),t=t||v;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=c.buildFragment([e],t,i),i&&i.length&&c(i).remove(),c.merge([],r.childNodes))},c}(),r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},i=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map(function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(r(e))}).join(t):o+encodeURIComponent(r(e[i]))}).filter(Boolean).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""},o=function(e,t){if(e=n.extend(!0,{headers:{},qs:{}},e),e.type=e.method,delete e.method,e.onProgress&&(e.progress=e.onProgress,delete e.onProgress),e.qs){var r=i(e.qs);r&&(e.url+=(-1===e.url.indexOf("?")?"?":"&")+r),delete e.qs}if(e.json&&(e.data=e.body,delete e.json,delete e.body,!e.headers&&(e.headers={}),e.headers["Content-Type"]="application/json"),e.body&&(e.body instanceof Blob||"[object File]"===e.body.toString()||"[object Blob]"===e.body.toString()||(e.data=e.body,delete e.body)),e.headers){var o=e.headers;delete e.headers,e.beforeSend=function(e){for(var t in o)o.hasOwnProperty(t)&&"content-length"!==t.toLowerCase()&&"user-agent"!==t.toLowerCase()&&"origin"!==t.toLowerCase()&&"host"!==t.toLowerCase()&&e.setRequestHeader(t,o[t])}}var a=function(e){var t={};return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){if(e){var n=e.indexOf(":"),r=e.substr(0,n).trim().toLowerCase(),i=e.substr(n+1).trim();t[r]=i}}),{statusCode:e.status,statusMessage:e.statusText,headers:t}};return e.success=function(e,n,r){t(null,a(r),e)},e.error=function(e){e.responseText?t(null,a(e),e.responseText):t(e.statusText,a(e),e.responseText)},e.dataType="text",n.ajax(e)};e.exports=o},ae75:function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},b03c:function(e,t){var n="auto",r={"":1,lr:1,rl:1},i={start:1,middle:1,end:1,left:1,right:1};function o(e){if("string"!==typeof e)return!1;var t=r[e.toLowerCase()];return!!t&&e.toLowerCase()}function a(e){if("string"!==typeof e)return!1;var t=i[e.toLowerCase()];return!!t&&e.toLowerCase()}function s(e,t,r){this.hasBeenReset=!1;var i="",s=!1,u=e,l=t,c=r,h=null,f="",d=!0,p="auto",g="start",m=50,v="middle",A=50,y="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return f},set:function(e){var t=o(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");f=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!==typeof e&&e!==n)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");A=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=s},b0dc:function(e,t,n){var r=n("e4ae");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},b483:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("31ce"),o=n("8890"),a=r(o);t["default"]={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:a["default"]},e.exports=t["default"]},ba56:function(e,t,n){"undefined"!==typeof window&&function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(h)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(i,"");while(e.length!==(e=e.replace(o,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a})()},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e){return!isNaN(1*e)}function u(e,t,r){var u={};u[r]=[];var l=t.toString(),c=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return u;var h,f=c[1],d=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");while(h=d.exec(l))"dll-reference"!==h[3]&&u[r].push(h[3]);d=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");while(h=d.exec(l))e[h[2]]||(u[r].push(h[1]),e[h[2]]=n(h[1]).m),u[h[2]]=u[h[2]]||[],u[h[2]].push(h[4]);for(var p=Object.keys(u),g=0;g<p.length;g++)for(var m=0;m<u[p[g]].length;m++)s(u[p[g]][m])&&(u[p[g]][m]=1*u[p[g]][m]);return u}function l(e){var t=Object.keys(e);return t.reduce(function(t,n){return t||e[n].length>0},!1)}function c(e,t){var n={main:[t]},r={main:[]},i={main:{}};while(l(n))for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],c=n[s],h=c.pop();if(i[s]=i[s]||{},!i[s][h]&&e[s][h]){i[s][h]=!0,r[s]=r[s]||[],r[s].push(h);for(var f=u(e,e[s][h],s),d=Object.keys(f),p=0;p<d.length;p++)n[d[p]]=n[d[p]]||[],n[d[p]]=n[d[p]].concat(f[d[p]])}}return r}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:c(i,e),a="";Object.keys(o).filter(function(e){return"main"!==e}).forEach(function(e){var t=0;while(o[e][t])t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map(function(t){return JSON.stringify(t)+": "+i[e][t].toString()}).join(",")+"});\n"}),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map(function(e){return JSON.stringify(e)+": "+i.main[e].toString()}).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(t.bare)return s;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,l=u.createObjectURL(s),h=new window.Worker(l);return h.objectURL=l,h}},"./src/crypt/decrypter.js":
/*!********************************************!*\
  !*** ./src/crypt/decrypter.js + 3 modules ***!
  \********************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(e,t,n){"use strict";n.r(t);var r=function(){function e(e,t){this.subtle=e,this.aesIV=t}var t=e.prototype;return t.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),i=function(){function e(e,t){this.subtle=e,this.key=t}var t=e.prototype;return t.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),o=i;function a(e){var t=e.byteLength,n=t&&new DataView(e).getUint8(t-1);return n?e.slice(0,t-n):e}var s=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],h=s[3],f=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[d]=m,t[m]=d;var v=f[d],A=f[v],y=f[A],E=257*f[m]^16843008*m;r[d]=E<<24|E>>>8,i[d]=E<<16|E>>>16,o[d]=E<<8|E>>>24,a[d]=E,E=16843009*y^65537*A^257*v^16843008*d,u[m]=E<<24|E>>>8,l[m]=E<<16|E>>>16,c[m]=E<<8|E>>>24,h[m]=E,d?(d=v^f[f[f[y^v]]],p^=f[f[p]]):d=p=1}},t.expandKey=function(e){var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;while(r<t.length&&n)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),h=this.invKeySchedule=new Uint32Array(l),f=this.sBox,d=this.rcon,p=this.invSubMix,g=p[0],m=p[1],v=p[2],A=p[3];for(o=0;o<l;o++)o<i?s=c[o]=t[o]:(u=s,o%i===0?(u=u<<8|u>>>24,u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u],u^=d[o/i|0]<<24):i>6&&o%i===4&&(u=f[u>>>24]<<24|f[u>>>16&255]<<16|f[u>>>8&255]<<8|f[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],h[a]=a<4||o<=4?u:g[f[u>>>24]]^m[f[u>>>16&255]]^v[f[u>>>8&255]]^A[f[255&u]],h[a]=h[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n,r){var i,o,s,u,l,c,h,f,d,p,g,m,v,A,y=this.keySize+6,E=this.invKeySchedule,C=this.invSBox,_=this.invSubMix,T=_[0],S=_[1],w=_[2],I=_[3],b=this.uint8ArrayToUint32Array_(n),D=b[0],k=b[1],M=b[2],R=b[3],P=new Int32Array(e),O=new Int32Array(P.length),L=this.networkToHostOrderSwap;while(t<P.length){for(d=L(P[t]),p=L(P[t+1]),g=L(P[t+2]),m=L(P[t+3]),l=d^E[0],c=m^E[1],h=g^E[2],f=p^E[3],v=4,A=1;A<y;A++)i=T[l>>>24]^S[c>>16&255]^w[h>>8&255]^I[255&f]^E[v],o=T[c>>>24]^S[h>>16&255]^w[f>>8&255]^I[255&l]^E[v+1],s=T[h>>>24]^S[f>>16&255]^w[l>>8&255]^I[255&c]^E[v+2],u=T[f>>>24]^S[l>>16&255]^w[c>>8&255]^I[255&h]^E[v+3],l=i,c=o,h=s,f=u,v+=4;i=C[l>>>24]<<24^C[c>>16&255]<<16^C[h>>8&255]<<8^C[255&f]^E[v],o=C[c>>>24]<<24^C[h>>16&255]<<16^C[f>>8&255]<<8^C[255&l]^E[v+1],s=C[h>>>24]<<24^C[f>>16&255]<<16^C[l>>8&255]<<8^C[255&c]^E[v+2],u=C[f>>>24]<<24^C[l>>16&255]<<16^C[c>>8&255]<<8^C[255&h]^E[v+3],v+=3,O[t]=L(i^D),O[t+1]=L(u^k),O[t+2]=L(s^M),O[t+3]=L(o^R),D=d,k=p,M=g,R=m,t+=4}return r?a(O.buffer):O.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),u=s,l=n("./src/errors.ts"),c=n("./src/utils/logger.js"),h=n("./src/events.js"),f=n("./src/utils/get-self-scope.js"),d=Object(f["getSelfScope"])(),p=function(){function e(e,t,n){var r=void 0===n?{}:n,i=r.removePKCS7Padding,o=void 0===i||i;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=o,o)try{var a=d.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(s){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,n,i){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(c["logger"].log("JS AES decrypt"),this.logEnabled=!1);var s=this.decryptor;s||(this.decryptor=s=new u),s.expandKey(t),i(s.decrypt(e,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(c["logger"].log("WebCrypto AES decrypt"),this.logEnabled=!1);var l=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new o(l,t)),this.fastAesKey.expandKey().then(function(o){var s=new r(l,n);s.decrypt(e,o).catch(function(r){a.onWebCryptoError(r,e,t,n,i)}).then(function(e){i(e)})}).catch(function(r){a.onWebCryptoError(r,e,t,n,i)})}},t.onWebCryptoError=function(e,t,n,r,i){this.config.enableSoftwareAES?(c["logger"].log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,r,i)):(c["logger"].error("decrypting error : "+e.message),this.observer.trigger(h["default"].ERROR,{type:l["ErrorTypes"].MEDIA_ERROR,details:l["ErrorDetails"].FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t["default"]=p},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 12 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(e,t,n){"use strict";n.r(t);var r=n("./src/events.js"),i=n("./src/errors.ts"),o=n("./src/crypt/decrypter.js"),a=n("./src/polyfills/number-isFinite.js"),s=n("./src/utils/logger.js"),u=n("./src/utils/get-self-scope.js");function l(e,t,n,o){var a,u,l,c,h,f=navigator.userAgent.toLowerCase(),d=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&t[n+2])>>>6),u=(60&t[n+2])>>>2,!(u>p.length-1))return c=(1&t[n+2])<<2,c|=(192&t[n+3])>>>6,s["logger"].log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+u+"["+p[u]+"Hz],channelConfig:"+c),/firefox/i.test(f)?u>=6?(a=5,h=new Array(4),l=u-3):(a=2,h=new Array(2),l=u):-1!==f.indexOf("android")?(a=2,h=new Array(2),l=u):(a=5,h=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&u>=6?l=u-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(f))||!o&&1===c)&&(a=2,h=new Array(2)),l=u)),h[0]=a<<3,h[0]|=(14&u)>>1,h[1]|=(1&u)<<7,h[1]|=c<<3,5===a&&(h[1]|=(14&l)>>1,h[2]=(1&l)<<7,h[2]|=8,h[3]=0),{config:h,samplerate:p[u],channelCount:c,codec:"mp4a.40."+a,manifestCodec:d};e.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MEDIA_ERROR,details:i["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}function c(e,t){return 255===e[t]&&240===(246&e[t+1])}function h(e,t){return 1&e[t+1]?7:9}function f(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e,t){return!!(t+1<e.length&&c(e,t))}function p(e,t){if(d(e,t)){var n=h(e,t),r=n;t+5<e.length&&(r=f(e,t));var i=t+r;if(i===e.length||i+1<e.length&&c(e,i))return!0}return!1}function g(e,t,n,r,i){if(!e.samplerate){var o=l(t,n,r,i);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,s["logger"].log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function m(e){return 9216e4/e}function v(e,t,n,r,i){var o,a,s,u=e.length;if(o=h(e,t),a=f(e,t),a-=o,a>0&&t+o+a<=u)return s=n+r*i,{headerLength:o,frameLength:a,stamp:s}}function A(e,t,n,r,i){var o=m(e.samplerate),a=v(t,n,r,i,o);if(a){var s=a.stamp,u=a.headerLength,l=a.frameLength,c={unit:t.subarray(n+u,n+u+l),pts:s,dts:s};return e.samples.push(c),{sample:c,length:l+u}}}var y=n("./src/demux/id3.js"),E=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=y["default"].getID3Data(e,0)||[],n=t.length,r=e.length;n<r;n++)if(p(e,n))return s["logger"].log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,n,r){var i=this._audioTrack,o=y["default"].getID3Data(e,0)||[],u=y["default"].getTimeStamp(o),l=Object(a["isFiniteNumber"])(u)?90*u:9e4*t,c=0,h=l,f=e.length,p=o.length,m=[{pts:h,dts:h,data:o}];while(p<f-1)if(d(e,p)&&p+5<f){g(i,this.observer,e,p,i.manifestCodec);var v=A(i,e,p,l,c);if(!v){s["logger"].log("Unable to parse AAC frame");break}p+=v.length,h=v.sample.pts,c++}else y["default"].isHeader(e,p)?(o=y["default"].getID3Data(e,p),m.push({pts:h,dts:h,data:o}),p+=o.length):p++;this.remuxer.remux(i,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},t,n,r)},t.destroy=function(){},e}(),C=E,_=n("./src/demux/mp4demuxer.js"),T={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,r,i){if(!(n+24>t.length)){var o=this.parseHeader(t,n);if(o&&n+o.frameLength<=t.length){var a=9e4*o.samplesPerFrame/o.sampleRate,s=r+i*a,u={unit:t.subarray(n,n+o.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(u),{sample:u,length:o.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!==n&&0!==i&&15!==i&&3!==o){var s=3===n?3-r:3===r?3:4,u=1e3*T.BitratesMap[14*s+i-1],l=3===n?0:2===n?1:2,c=T.SamplingRateMap[3*l+o],h=e[t+3]>>6===3?1:2,f=T.SamplesCoefficients[n][r],d=T.BytesInSlot[r],p=8*f*d,g=parseInt(f*u/c+a,10)*d;return{sampleRate:c,channelCount:h,frameLength:g,samplesPerFrame:p}}},isHeaderPattern:function(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=4,r=this.parseHeader(e,t),i=n;r&&r.frameLength&&(i=r.frameLength);var o=t+i;if(o===e.length||o+1<e.length&&this.isHeaderPattern(e,o))return!0}return!1}},S=T,w=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&s["logger"].error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,n,r=8,i=8;for(t=0;t<e;t++)0!==i&&(n=this.readEG(),i=(r+n+256)%256),r=0===i?r:i},t.readSPS=function(){var e,t,n,r,i,o,a,s=0,u=0,l=0,c=0,h=this.readUByte.bind(this),f=this.readBits.bind(this),d=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),A=this.skipScalingList.bind(this);if(h(),e=h(),f(5),g(3),h(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var y=d();if(3===y&&g(1),v(),v(),g(1),p())for(o=3!==y?8:12,a=0;a<o;a++)p()&&A(a<6?16:64)}v();var E=d();if(0===E)d();else if(1===E)for(g(1),m(),m(),t=d(),a=0;a<t;a++)m();v(),g(1),n=d(),r=d(),i=f(1),0===i&&g(1),g(1),p()&&(s=d(),u=d(),l=d(),c=d());var C=[1,1];if(p()&&p()){var _=h();switch(_){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[h()<<8|h(),h()<<8|h()];break}}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-i)*(r+1)*16-(i?2:4)*(l+c),pixelRatio:C}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),I=w,b=function(){function e(e,t,n,r){this.decryptdata=n,this.discardEPB=r,this.decrypter=new o["default"](e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),i.set(o,16),r||s.decryptAacSamples(e,t+1,n)})},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<=e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,r=32;r<=e.length-16;r+=160,n+=16)e.set(t.subarray(n,n+16),r);return e},t.decryptAvcSample=function(e,t,n,r,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(e,t,n+1,r)})},t.decryptAvcSamples=function(e,t,n,r){for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;;n++){if(n>=i.length)break;var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}},e}(),D=b,k={video:1,audio:2,id3:3,text:4},M=function(){function e(e,t,n,r){this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=t,this.sampleAes=null}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new D(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0)&&(n&&s["logger"].warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},e._syncOffset=function(e){var t=Math.min(1e3,e.length-564),n=0;while(n<t){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:k[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},t.resetTimeStamp=function(){},t.append=function(t,n,o,a){var u,l,c,h,f,d,p=t.length,g=!1;this.contiguous=o;var m=this.pmtParsed,v=this._avcTrack,A=this._audioTrack,y=this._id3Track,E=v.pid,C=A.pid,_=y.pid,T=this._pmtId,S=v.pesData,w=A.pesData,I=y.pesData,b=this._parsePAT,D=this._parsePMT,k=this._parsePES,M=this._parseAVCPES.bind(this),R=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),O=this._parseID3PES.bind(this),L=e._syncOffset(t);for(p-=(p+L)%188,u=L;u<p;u+=188)if(71===t[u]){if(l=!!(64&t[u+1]),c=((31&t[u+1])<<8)+t[u+2],h=(48&t[u+3])>>4,h>1){if(f=u+5+t[u+4],f===u+188)continue}else f=u+4;switch(c){case E:l&&(S&&(d=k(S))&&void 0!==d.pts&&M(d,!1),S={data:[],size:0}),S&&(S.data.push(t.subarray(f,u+188)),S.size+=u+188-f);break;case C:l&&(w&&(d=k(w))&&void 0!==d.pts&&(A.isAAC?R(d):P(d)),w={data:[],size:0}),w&&(w.data.push(t.subarray(f,u+188)),w.size+=u+188-f);break;case _:l&&(I&&(d=k(I))&&void 0!==d.pts&&O(d),I={data:[],size:0}),I&&(I.data.push(t.subarray(f,u+188)),I.size+=u+188-f);break;case 0:l&&(f+=t[f]+1),T=this._pmtId=b(t,f);break;case T:l&&(f+=t[f]+1);var N=D(t,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);E=N.avc,E>0&&(v.pid=E),C=N.audio,C>0&&(A.pid=C,A.isAAC=N.isAAC),_=N.id3,_>0&&(y.pid=_),g&&!m&&(s["logger"].log("reparse from beginning"),g=!1,u=L-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=!0;break}}else this.observer.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MEDIA_ERROR,details:i["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});S&&(d=k(S))&&void 0!==d.pts?(M(d,!0),v.pesData=null):v.pesData=S,w&&(d=k(w))&&void 0!==d.pts?(A.isAAC?R(d):P(d),A.pesData=null):(w&&w.size&&s["logger"].log("last AAC PES packet truncated,might overlap between fragments"),A.pesData=w),I&&(d=k(I))&&void 0!==d.pts?(O(d),y.pesData=null):y.pesData=I,null==this.sampleAes?this.remuxer.remux(A,v,y,this._txtTrack,n,o,a):this.decryptAndRemux(A,v,y,this._txtTrack,n,o,a)},t.decryptAndRemux=function(e,t,n,r,i,o,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,r,i,o,a)})}else this.decryptAndRemuxAvc(e,t,n,r,i,o,a)},t.decryptAndRemuxAvc=function(e,t,n,r,i,o,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,r,i,o,a)})}else this.remuxer.remux(e,t,n,r,i,o,a)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._parsePMT=function(e,t,n,r){var i,o,a,u,l={audio:-1,avc:-1,id3:-1,isAAC:!0};i=(15&e[t+1])<<8|e[t+2],o=t+3+i-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;while(t<o){switch(u=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!r){s["logger"].log("unknown stream type:"+e[t]);break}case 15:-1===l.audio&&(l.audio=u);break;case 21:-1===l.id3&&(l.id3=u);break;case 219:if(!r){s["logger"].log("unknown stream type:"+e[t]);break}case 27:-1===l.avc&&(l.avc=u);break;case 3:case 4:n?-1===l.audio&&(l.audio=u,l.isAAC=!1):s["logger"].log("MPEG audio found, not supported in this browser for now");break;case 36:s["logger"].warn("HEVC stream type found, not supported for now");break;default:s["logger"].log("unknown stream type:"+e[t]);break}t+=5+((15&e[t+3])<<8|e[t+4])}return l},t._parsePES=function(e){var t,n,r,i,o,a,u,l,c,h=0,f=e.data;if(!e||0===e.size)return null;while(f[0].length<19&&f.length>1){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(t=f[0],r=(t[0]<<16)+(t[1]<<8)+t[2],1===r){if(i=(t[4]<<8)+t[5],i&&i>e.size-6)return null;if(n=t[7],192&n&&(u=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,u>4294967295&&(u-=8589934592),64&n?(l=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,l>4294967295&&(l-=8589934592),u-l>54e5&&(s["logger"].warn(Math.round((u-l)/9e4)+"s delta between PTS and DTS, align them"),u=l)):l=u),o=t[8],c=o+9,e.size<=c)return null;e.size-=c,a=new Uint8Array(e.size);for(var p=0,g=f.length;p<g;p++){t=f[p];var m=t.byteLength;if(c){if(c>m){c-=m;continue}t=t.subarray(c),m-=c,c=0}a.set(t,h),h+=m}return i&&(i-=o+3),{data:a,pts:u,dts:l,len:i}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,r=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(r||this.contiguous)?(e.id=r,n.push(e)):t.dropped++}e.debug.length&&s["logger"].log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var n,r,i,o=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),u=!1,l=this.avcSample,c=!1,h=this.pushAccesUnit.bind(this),f=function(e,t,n,r){return{key:e,pts:t,dts:n,units:[],debug:r}};e.data=null,l&&s.length&&!a.audFound&&(h(l,a),l=this.avcSample=f(!1,e.pts,e.dts,"")),s.forEach(function(t){switch(t.type){case 1:r=!0,l||(l=o.avcSample=f(!0,e.pts,e.dts,"")),u&&(l.debug+="NDR "),l.frame=!0;var s=t.data;if(c&&s.length>4){var d=new I(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(l.key=!0)}break;case 5:r=!0,l||(l=o.avcSample=f(!0,e.pts,e.dts,"")),u&&(l.debug+="IDR "),l.key=!0,l.frame=!0;break;case 6:r=!0,u&&l&&(l.debug+="SEI "),n=new I(o.discardEPB(t.data)),n.readUByte();var p=0,g=0,m=!1,v=0;while(!m&&n.bytesAvailable>1){p=0;do{v=n.readUByte(),p+=v}while(255===v);g=0;do{v=n.readUByte(),g+=v}while(255===v);if(4===p&&0!==n.bytesAvailable){m=!0;var A=n.readUByte();if(181===A){var E=n.readUShort();if(49===E){var C=n.readUInt();if(1195456820===C){var _=n.readUByte();if(3===_){var T=n.readUByte(),S=n.readUByte(),w=31&T,b=[T,S];for(i=0;i<w;i++)b.push(n.readUByte()),b.push(n.readUByte()),b.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}}}}else if(5===p&&0!==n.bytesAvailable){if(m=!0,g>16){var D=[];for(i=0;i<16;i++)D.push(n.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||D.push("-");var k=g-16,M=new Uint8Array(k);for(i=0;i<k;i++)M[i]=n.readUByte();o._insertSampleInOrder(o._txtTrack.samples,{pts:e.pts,payloadType:p,uuid:D.join(""),userDataBytes:M,userData:Object(y["utf8ArrayToStr"])(M.buffer)})}}else if(g<n.bytesAvailable)for(i=0;i<g;i++)n.readUByte()}break;case 7:if(r=!0,c=!0,u&&l&&(l.debug+="SPS "),!a.sps){n=new I(t.data);var R=n.readSPS();a.width=R.width,a.height=R.height,a.pixelRatio=R.pixelRatio,a.sps=[t.data],a.duration=o._duration;var P=t.data.subarray(1,4),O="avc1.";for(i=0;i<3;i++){var L=P[i].toString(16);L.length<2&&(L="0"+L),O+=L}a.codec=O}break;case 8:r=!0,u&&l&&(l.debug+="PPS "),a.pps||(a.pps=[t.data]);break;case 9:r=!1,a.audFound=!0,l&&h(l,a),l=o.avcSample=f(!1,e.pts,e.dts,u?"AUD ":"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+t.type+" ");break}if(l&&r){var N=l.units;N.push(t)}}),t&&l&&(h(l,a),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var n=this._avcTrack,r=n.samples;t=r[r.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},t._parseAVCNALu=function(e){var t,n,r,i,o,a=0,s=e.byteLength,u=this._avcTrack,l=u.naluState||0,c=l,h=[],f=-1;-1===l&&(f=0,o=31&e[0],l=0,a=1);while(a<s)if(t=e[a++],l)if(1!==l)if(t)if(1===t){if(f>=0)r={data:e.subarray(f,a-l-1),type:o},h.push(r);else{var d=this._getLastNalUnit();if(d&&(c&&a<=4-c&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-c)),n=a-l-1,n>0)){var p=new Uint8Array(d.data.byteLength+n);p.set(d.data,0),p.set(e.subarray(0,n),d.data.byteLength),d.data=p}}a<s?(i=31&e[a],f=a,o=i,l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(f>=0&&l>=0&&(r={data:e.subarray(f,s),type:o,state:l},h.push(r)),0===h.length){var g=this._getLastNalUnit();if(g){var m=new Uint8Array(g.data.byteLength+e.byteLength);m.set(g.data,0),m.set(e,g.data.byteLength),g.data=m}}return u.naluState=l,h},t.discardEPB=function(e){var t,n,r=e.byteLength,i=[],o=1;while(o<r-2)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},t._parseAACPES=function(e){var t,n,o,a,u,l,c,h=this._audioTrack,f=e.data,p=e.pts,v=0,y=this.aacOverFlow,E=this.aacLastPTS;if(y){var C=new Uint8Array(y.byteLength+f.byteLength);C.set(y,0),C.set(f,y.byteLength),f=C}for(o=v,u=f.length;o<u-1;o++)if(d(f,o))break;if(o&&(o<u-1?(l="AAC PES did not start with ADTS header,offset:"+o,c=!1):(l="no ADTS header found in AAC PES",c=!0),s["logger"].warn("parsing error:"+l),this.observer.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MEDIA_ERROR,details:i["ErrorDetails"].FRAG_PARSING_ERROR,fatal:c,reason:l}),c))return;if(g(h,this.observer,f,o,this.audioCodec),n=0,t=m(h.samplerate),y&&E){var _=E+t;Math.abs(_-p)>1&&(s["logger"].log("AAC: align PTS for overlapping frames by "+Math.round((_-p)/90)),p=_)}while(o<u)if(d(f,o)&&o+5<u){var T=A(h,f,o,p,n);if(!T)break;o+=T.length,a=T.sample.pts,n++}else o++;y=o<u?f.subarray(o,u):null,this.aacOverFlow=y,this.aacLastPTS=a},t._parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,i=0,o=e.pts;while(i<n)if(S.isHeader(t,i)){var a=S.appendFrame(this._audioTrack,t,i,o,r);if(!a)break;i+=a.length,r++}else i++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),R=M,P=function(){function e(e,t,n){this.observer=e,this.config=n,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:r,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,n,r=y["default"].getID3Data(e,0);if(r&&void 0!==y["default"].getTimeStamp(r))for(t=r.length,n=Math.min(e.length-1,t+100);t<n;t++)if(S.probe(e,t))return s["logger"].log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,n,r){var i=y["default"].getID3Data(e,0),o=y["default"].getTimeStamp(i),a=o?90*o:9e4*t,s=i.length,u=e.length,l=0,c=0,h=this._audioTrack,f=[{pts:a,dts:a,data:i}];while(s<u)if(S.isHeader(e,s)){var d=S.appendFrame(h,e,s,a,l);if(!d)break;s+=d.length,c=d.sample.pts,l++}else y["default"].isHeader(e,s)?(i=y["default"].getID3Data(e,s),f.push({pts:c,dts:c,data:i}),s+=i.length):s++;this.remuxer.remux(h,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},t,n,r)},t.destroy=function(){},e}(),O=P,L=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}return null},e}(),N=L,B=Math.pow(2,32)-1,x=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;while(i--)r+=n[i].byteLength;for(t=new Uint8Array(r),t[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;i<o;i++)t.set(n[i],r),r+=n[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var r=Math.floor(n/(B+1)),i=Math.floor(n%(B+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){var n=t.length,r=[];while(n--)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){var n=t.length,r=[];while(n--)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var r=Math.floor(n/(B+1)),i=Math.floor(n%(B+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,o=[],a=[];for(n=0;n<t.sps.length;n++)r=t.sps[n],i=r.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)r=t.pps[n],i=r.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],h=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,h>>24,h>>16&255,h>>8&255,255&h])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,o=t.height,a=Math.floor(r/(B+1)),s=Math.floor(r%(B+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,n){var r=e.sdtp(t),i=t.id,o=Math.floor(n/(B+1)),a=Math.floor(n%(B+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,r.length+16+20+8+16+8+8),r)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,h=12+16*c,f=new Uint8Array(h);for(n+=8+h,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)i=l[r],o=i.duration,a=i.size,s=i.flags,u=i.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var n,r=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+r.byteLength),n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}(),U=x,G=9e4;function F(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function Q(e,t){return void 0===t&&(t=!1),F(e,1e3,1/G,t)}function j(e,t){return void 0===t&&(t=1),F(e,G,1/t)}var H,K=j(10),Y=j(.2),q=function(){function e(e,t,n,r){this.observer=e,this.config=t,this.typeSupported=n;var i=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.remux=function(e,t,n,i,o,a,u){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var l=e.samples.length,c=t.samples.length,h=o,f=o;if(l&&c){var d=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;h+=Math.max(0,d),f+=Math.max(0,-d)}if(l){e.timescale||(s["logger"].warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var p,g=this.remuxAudio(e,h,a,u);if(c)g&&(p=g.endPTS-g.startPTS),t.timescale||(s["logger"].warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,f,a,p,u)}else if(c){var m=this.remuxVideo(t,f,a,0,u);m&&e.codec&&this.remuxEmptyAudio(e,h,a,m)}}n.samples.length&&this.remuxID3(n,o),i.samples.length&&this.remuxText(i,o),this.observer.trigger(r["default"].FRAG_PARSED)},t.generateIS=function(e,t,n){var o,a,u=this.observer,l=e.samples,c=t.samples,h=this.typeSupported,f="audio/mp4",d={},p={tracks:d},g=void 0===this._initPTS;if(g&&(o=a=1/0),e.config&&l.length&&(e.timescale=e.samplerate,s["logger"].log("audio sampling rate : "+e.samplerate),e.isAAC||(h.mpeg?(f="audio/mpeg",e.codec=""):h.mp3&&(e.codec="mp3")),d.audio={container:f,codec:e.codec,initSegment:!e.isAAC&&h.mpeg?new Uint8Array:U.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(o=a=l[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&c.length){var m=t.inputTimeScale;t.timescale=m,d.video={container:"video/mp4",codec:t.codec,initSegment:U.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(o=Math.min(o,c[0].pts-m*n),a=Math.min(a,c[0].dts-m*n),this.observer.trigger(r["default"].INIT_PTS_FOUND,{initPTS:o}))}Object.keys(d).length?(u.trigger(r["default"].FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,g&&(this._initPTS=o,this._initDTS=a)):u.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MEDIA_ERROR,details:i["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,n,o,a){var u,l,c,h,f,d,p,g=8,m=e.timescale,v=e.samples,A=[],y=v.length,E=this._PTSNormalize,C=this._initPTS,_=this.nextAvcDts,T=this.isSafari;if(0!==y){T&&(n|=v.length&&_&&(a&&Math.abs(t-_/m)<.1||Math.abs(v[0].pts-_-C)<m/5)),n||(_=t*m),v.forEach(function(e){e.pts=E(e.pts-C,_),e.dts=E(e.dts-C,_)}),v.sort(function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r||e.id-t.id});var S=v.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-1*Y)},0);if(S<0){s["logger"].warn("PTS < DTS detected in video samples, shifting DTS by "+Q(S,!0)+" ms to overcome this issue");for(var w=0;w<v.length;w++)v[w].dts+=S}var I=v[0];f=Math.max(I.dts,0),h=Math.max(I.pts,0);var b=f-_;n&&b&&(b>1?s["logger"].log("AVC: "+Q(b,!0)+" ms hole between fragments detected,filling it"):b<-1&&s["logger"].log("AVC: "+Q(-b,!0)+" ms overlapping between fragments detected"),f=_,v[0].dts=f,h=Math.max(h-b,_),v[0].pts=h,s["logger"].log("Video: PTS/DTS adjusted: "+Q(h,!0)+"/"+Q(f,!0)+", delta: "+Q(b,!0)+" ms")),I=v[v.length-1],p=Math.max(I.dts,0),d=Math.max(I.pts,0,p),T&&(u=Math.round((p-f)/(v.length-1)));for(var D=0,k=0,M=0;M<y;M++){for(var R=v[M],P=R.units,O=P.length,L=0,N=0;N<O;N++)L+=P[N].data.length;k+=L,D+=O,R.length=L,R.dts=T?f+M*u:Math.max(R.dts,f),R.pts=Math.max(R.pts,R.dts)}var B=k+4*D+8;try{l=new Uint8Array(B)}catch(oe){return void this.observer.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MUX_ERROR,details:i["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating video mdat "+B})}var x=new DataView(l.buffer);x.setUint32(0,B),l.set(U.types.mdat,4);for(var G=0;G<y;G++){for(var F=v[G],j=F.units,H=0,K=void 0,q=0,J=j.length;q<J;q++){var V=j[q],W=V.data,z=V.data.byteLength;x.setUint32(g,z),g+=4,l.set(W,g),g+=z,H+=4+z}if(T)K=Math.max(0,u*Math.round((F.pts-F.dts)/u));else{if(G<y-1)u=v[G+1].dts-F.dts;else{var X=this.config,Z=F.dts-v[G>0?G-1:G].dts;if(X.stretchShortVideoTrack){var $=X.maxBufferHole,ee=Math.floor($*m),te=(o?h+o*m:this.nextAudioPts)-F.pts;te>ee?(u=te-Z,u<0&&(u=Z),s["logger"].log("It is approximately "+Q(te,!1)+" ms to the next segment; using duration "+Q(u,!1)+" ms for the last video frame.")):u=Z}else u=Z}K=Math.round(F.pts-F.dts)}A.push({size:H,duration:u,cts:K,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:F.key?2:1,isNonSync:F.key?0:1}})}this.nextAvcDts=p+u;var ne=e.dropped;if(e.nbNalu=0,e.dropped=0,A.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var re=A[0].flags;re.dependsOn=2,re.isNonSync=0}e.samples=A,c=U.moof(e.sequenceNumber++,f,e),e.samples=[];var ie={data1:c,data2:l,startPTS:h/m,endPTS:(d+u)/m,startDTS:f/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:A.length,dropped:ne};return this.observer.trigger(r["default"].FRAG_PARSING_DATA,ie),ie}},t.remuxAudio=function(e,t,n,o){var a,u,l,c,h,f,d=e.inputTimeScale,p=e.timescale,g=d/p,m=e.isAAC?1024:1152,v=m*g,A=this._PTSNormalize,y=this._initPTS,E=!e.isAAC&&this.typeSupported.mpeg,C=E?0:8,_=e.samples,T=[],S=this.nextAudioPts;if(n|=_.length&&S&&(o&&Math.abs(t-S/d)<.1||Math.abs(_[0].pts-S-y)<20*v),_.forEach(function(e){e.pts=e.dts=A(e.pts-y,t*d)}),_=_.filter(function(e){return e.pts>=0}),0!==_.length){if(n||(S=o?t*d:_[0].pts),e.isAAC)for(var w=this.config.maxAudioFramesDrift,I=0,b=S;I<_.length;){var D,k=_[I],M=k.pts;if(D=M-b,D<=-w*v)s["logger"].warn("Dropping 1 audio frame @ "+Q(b,!0)+" ms due to "+Q(D,!0)+" ms overlap."),_.splice(I,1);else if(D>=w*v&&D<K&&b){var R=Math.round(D/v);s["logger"].warn("Injecting "+R+" audio frames @ "+Q(b,!0)+" ms due to "+Q(b,!0)+" ms gap.");for(var P=0;P<R;P++){var O=Math.max(b,0);u=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),u||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating last frame instead."),u=k.unit.subarray()),_.splice(I,0,{unit:u,pts:O,dts:O}),b+=v,I++}k.pts=k.dts=b,b+=v,I++}else Math.abs(D),k.pts=k.dts=b,b+=v,I++}var L=_.length,B=0;while(L--)B+=_[L].unit.byteLength;for(var x=0,G=_.length;x<G;x++){var F=_[x],j=F.unit,H=F.pts;if(void 0!==f)a.duration=Math.round((H-f)/g);else{var Y=H-S,q=0;if(n&&e.isAAC&&Y){if(Y>0&&Y<K)q=Math.round((H-S)/v),s["logger"].log(Q(Y,!0)+" ms hole between AAC samples detected,filling it"),q>0&&(u=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),u||(u=j.subarray()),B+=q*u.length);else if(Y<-12){s["logger"].log("drop overlapping AAC sample, expected/parsed/delta: "+Q(S,!0)+" ms / "+Q(H,!0)+" ms / "+Q(-Y,!0)+" ms"),B-=j.byteLength;continue}H=S}if(h=H,!(B>0))return;B+=C;try{l=new Uint8Array(B)}catch(ee){return void this.observer.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MUX_ERROR,details:i["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating audio mdat "+B})}if(!E){var J=new DataView(l.buffer);J.setUint32(0,B),l.set(U.types.mdat,4)}for(var V=0;V<q;V++)u=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),u||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating this frame instead."),u=j.subarray()),l.set(u,C),C+=u.byteLength,a={size:u.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},T.push(a)}l.set(j,C);var W=j.byteLength;C+=W,a={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},T.push(a),f=H}var z=0;if(L=T.length,L>=2&&(z=T[L-2].duration,a.duration=z),L){this.nextAudioPts=S=f+g*z,e.samples=T,c=E?new Uint8Array:U.moof(e.sequenceNumber++,h/g,e),e.samples=[];var X=h/d,Z=S/d,$={data1:c,data2:l,startPTS:X,endPTS:Z,startDTS:X,endDTS:Z,type:"audio",hasAudio:!0,hasVideo:!1,nb:L};return this.observer.trigger(r["default"].FRAG_PARSING_DATA,$),$}return null}},t.remuxEmptyAudio=function(e,t,n,r){var i=e.inputTimeScale,o=e.samplerate?e.samplerate:i,a=i/o,u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*i)+this._initDTS,c=r.endDTS*i+this._initDTS,h=1024,f=a*h,d=Math.ceil((c-l)/f),p=N.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s["logger"].warn("remux empty Audio"),p){for(var g=[],m=0;m<d;m++){var v=l+m*f;g.push({unit:p,pts:v,dts:v})}e.samples=g,this.remuxAudio(e,t,n)}else s["logger"].trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e){var t,n=e.samples.length,i=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(n){for(var s=0;s<n;s++)t=e.samples[s],t.pts=(t.pts-o)/i,t.dts=(t.dts-a)/i;this.observer.trigger(r["default"].FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},t.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,n=e.samples.length,i=e.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++)t=e.samples[a],t.pts=(t.pts-o)/i;this.observer.trigger(r["default"].FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},t._PTSNormalize=function(e,t){var n;if(void 0===t)return e;n=t<e?-8589934592:8589934592;while(Math.abs(e-t)>4294967296)e+=n;return e},e}(),J=q,V=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,n,i,o,a,s,u){var l=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),l.trigger(r["default"].FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),l.trigger(r["default"].FRAG_PARSED)},e}(),W=V,z=Object(u["getSelfScope"])();try{H=z.performance.now.bind(z.performance)}catch(Z){s["logger"].debug("Unable to use Performance API on this environment"),H=z.Date.now}var X=function(){function e(e,t,n,r){this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,n,i,a,s,u,l,c,h,f,d){var p=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new o["default"](this.observer,this.config));var m=H();g.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=H();p.observer.trigger(r["default"].FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:o}}),p.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,a,s,u,l,c,h,f,d)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,a,s,u,l,c,h,f,d)},t.pushDecrypted=function(e,t,n,o,a,s,u,l,c,h,f,d){var p=this.demuxer;if(!p||(u||l)&&!this.probe(e)){for(var g=this.observer,m=this.typeSupported,v=this.config,A=[{demux:R,remux:J},{demux:_["default"],remux:W},{demux:C,remux:J},{demux:O,remux:J}],y=0,E=A.length;y<E;y++){var T=A[y],S=T.demux.probe;if(S(e)){var w=this.remuxer=new T.remux(g,v,m,this.vendor);p=new T.demux(g,w,v,m),this.probe=S;break}}if(!p)return void g.trigger(r["default"].ERROR,{type:i["ErrorTypes"].MEDIA_ERROR,details:i["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var I=this.remuxer;(u||l)&&(p.resetInitSegment(n,o,a,h),I.resetInitSegment()),u&&(p.resetTimeStamp(d),I.resetTimeStamp(d)),"function"===typeof p.setDecryptData&&p.setDecryptData(t),p.append(e,s,c,f)},e}();t["default"]=X},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(e,t,n){"use strict";n.r(t);var r=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=n(/*! ../events */"./src/events.js"),o=n(/*! ../utils/logger */"./src/utils/logger.js"),a=n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),s=function(e){var t=new a["EventEmitter"];t.trigger=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new r["default"](t,a.typeSupported,s,a.vendor),Object(o["enableLogs"])(s.debug),n("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS);break;default:break}}),t.on(i["default"].FRAG_DECRYPTED,n),t.on(i["default"].FRAG_PARSING_INIT_SEGMENT,n),t.on(i["default"].FRAG_PARSED,n),t.on(i["default"].ERROR,n),t.on(i["default"].FRAG_PARSING_METADATA,n),t.on(i["default"].FRAG_PARSING_USERDATA,n),t.on(i["default"].INIT_PTS_FOUND,n),t.on(i["default"].FRAG_PARSING_DATA,function(t,n){var r=[],i={event:t,data:n};n.data1&&(i.data1=n.data1.buffer,r.push(n.data1.buffer),delete n.data1),n.data2&&(i.data2=n.data2.buffer,r.push(n.data2.buffer),delete n.data2),e.postMessage(i,r)})};t["default"]=s},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(e,t,n){"use strict";n.r(t),n.d(t,"utf8ArrayToStr",function(){return s});var r,i=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),o=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){var r=n,i=0;while(e.isHeader(t,n)){i+=10;var o=e._readSize(t,n+6);i+=o,e.isFooter(t,n+10)&&(i+=10),n+=i}if(i>0)return t.subarray(r,r+i)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3],n},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),r=0;r<n.length;r++){var i=n[r];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),r=e._readSize(t,4),i=10;return{type:n,size:r,data:t.subarray(i,i+r)}},e.getID3Frames=function(t){var n=0,r=[];while(e.isHeader(t,n)){var i=e._readSize(t,n+6);n+=10;var o=n+i;while(n+8<o){var a=e._getFrameData(t.subarray(n)),s=e._decodeFrame(a);s&&r.push(s),n+=a.size+10}e.isFooter(t,n)&&(n+=10)}return r},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),r=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:r.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,r=e._utf8ArrayToStr(t.data.subarray(n),!0);n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var o=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:o}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,r=e._utf8ArrayToStr(t.data.subarray(n));n+=r.length+1;var i=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:r,data:i}}var o=e._utf8ArrayToStr(t.data);return{key:t.type,data:o}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var n=a();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}var o,s,u,l=e.length,c="",h=0;while(h<l){if(o=e[h++],0===o&&t)return c;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:s=e[h++],c+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=e[h++],u=e[h++],c+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&u)<<0);break;default:}}return c},e}();function a(){var e=Object(i["getSelfScope"])();return r||"undefined"===typeof e.TextDecoder||(r=new e.TextDecoder("utf-8")),r}var s=o._utf8ArrayToStr;t["default"]=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ../utils/logger */"./src/utils/logger.js"),i=n(/*! ../events */"./src/events.js"),o=Math.pow(2,32)-1,a=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,n,r,o){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:o?t:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?t:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:o?t:null})),this.observer.trigger(i["default"].FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),r&&(this.videoCodec=r)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var r,i,o,a,s,u,l,c=[];if(t.data?(u=t.start,a=t.end,t=t.data):(u=0,a=t.byteLength),!n.length)return null;for(r=u;r<a;)i=e.readUint32(t,r),o=e.bin2str(t.subarray(r+4,r+8)),l=i>1?r+i:a,o===n[0]&&(1===n.length?c.push({data:t,start:r+8,end:l}):(s=e.findBox({data:t,start:r+8,end:l},n.slice(1)),s.length&&(c=c.concat(s)))),r=l;return c},e.parseSegmentIndex=function(t){var n,r=e.findBox(t,["moov"])[0],i=r?r.end:null,o=0,a=e.findBox(t,["sidx"]);if(!a||!a[0])return null;n=[],a=a[0];var s=a.data[0];o=0===s?8:16;var u=e.readUint32(a,o);o+=4;var l=0,c=0;o+=0===s?8:16,o+=2;var h=a.end+c,f=e.readUint16(a,o);o+=2;for(var d=0;d<f;d++){var p=o,g=e.readUint32(a,p);p+=4;var m=2147483647&g,v=(2147483648&g)>>>31;if(1===v)return;var A=e.readUint32(a,p);p+=4,n.push({referenceSize:m,subsegmentDuration:A,info:{duration:A/u,start:h,end:h+m-1}}),h+=m,p+=4,o=p}return{earliestPresentationTime:l,timescale:u,version:s,referencesCount:f,references:n,moovEndOffset:i}},e.parseInitSegment=function(t){var n=[],i=e.findBox(t,["moov","trak"]);return i.forEach(function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var o=i.data[i.start],a=0===o?12:20,s=e.readUint32(i,a),u=e.findBox(t,["mdia","mdhd"])[0];if(u){o=u.data[u.start],a=0===o?12:20;var l=e.readUint32(u,a),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var h=e.bin2str(c.data.subarray(c.start+8,c.start+12)),f={soun:"audio",vide:"video"}[h];if(f){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var p=e.bin2str(d.data.subarray(d.start+12,d.start+16));r["logger"].log("MP4Demuxer:"+f+":"+p+" found")}n[s]={timescale:l,type:f},n[f]={timescale:l,id:s}}}}}}),n},e.getStartDTS=function(t,n){var r,i,o;return r=e.findBox(n,["moof","traf"]),i=[].concat.apply([],r.map(function(n){return e.findBox(n,["tfhd"]).map(function(r){var i,o,a;return i=e.readUint32(r,4),o=t[i].timescale||9e4,a=e.findBox(n,["tfdt"]).map(function(t){var n,r;return n=t.data[t.start],r=e.readUint32(t,4),1===n&&(r*=Math.pow(2,32),r+=e.readUint32(t,8)),r})[0],a/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0},e.offsetStartDTS=function(t,n,r){e.findBox(n,["moof","traf"]).map(function(n){return e.findBox(n,["tfhd"]).map(function(i){var a=e.readUint32(i,4),s=t[a].timescale||9e4;e.findBox(n,["tfdt"]).map(function(t){var n=t.data[t.start],i=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,i-r*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=r*s,i=Math.max(i,0);var a=Math.floor(i/(o+1)),u=Math.floor(i%(o+1));e.writeUint32(t,4,a),e.writeUint32(t,8,u)}})})})},t.append=function(t,n,r,o){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=e.getStartDTS(a,t);this.initPTS=u=l-n,this.observer.trigger(i["default"].INIT_PTS_FOUND,{initPTS:u})}e.offsetStartDTS(a,t,u),s=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,s,r,o,t)},t.destroy=function(){},e}();t["default"]=a},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"ErrorTypes",function(){return r}),n.d(t,"ErrorDetails",function(){return i}),function(e){e["NETWORK_ERROR"]="networkError",e["MEDIA_ERROR"]="mediaError",e["KEY_SYSTEM_ERROR"]="keySystemError",e["MUX_ERROR"]="muxError",e["OTHER_ERROR"]="otherError"}(r||(r={})),function(e){e["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",e["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",e["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",e["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",e["KEY_SYSTEM_NO_INIT_DATA"]="keySystemNoInitData",e["MANIFEST_LOAD_ERROR"]="manifestLoadError",e["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",e["MANIFEST_PARSING_ERROR"]="manifestParsingError",e["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",e["LEVEL_LOAD_ERROR"]="levelLoadError",e["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",e["LEVEL_SWITCH_ERROR"]="levelSwitchError",e["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",e["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",e["FRAG_LOAD_ERROR"]="fragLoadError",e["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",e["FRAG_DECRYPT_ERROR"]="fragDecryptError",e["FRAG_PARSING_ERROR"]="fragParsingError",e["REMUX_ALLOC_ERROR"]="remuxAllocError",e["KEY_LOAD_ERROR"]="keyLoadError",e["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",e["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",e["BUFFER_APPEND_ERROR"]="bufferAppendError",e["BUFFER_APPENDING_ERROR"]="bufferAppendingError",e["BUFFER_STALLED_ERROR"]="bufferStalledError",e["BUFFER_FULL_ERROR"]="bufferFullError",e["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",e["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",e["INTERNAL_EXCEPTION"]="internalException"}(i||(i={}))},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};t["default"]=r},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 50 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"newCue",function(){return gn});var i,o,a=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/errors.ts"),u=n("./src/polyfills/number-isFinite.js"),l=n("./src/events.js"),c=n("./src/utils/logger.js"),h={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(h[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(r){c["logger"].error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!1,event:e,err:r})}},e}(),d=f;(function(e){e["MANIFEST"]="manifest",e["LEVEL"]="level",e["AUDIO_TRACK"]="audioTrack",e["SUBTITLE_TRACK"]="subtitleTrack"})(i||(i={})),function(e){e["MAIN"]="main",e["AUDIO"]="audio",e["SUBTITLE"]="subtitle"}(o||(o={}));var p=n("./src/demux/mp4demuxer.js");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var v,A=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}return m(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(a["buildAbsoluteURL"])(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}(function(e){e["AUDIO"]="audio",e["VIDEO"]="video"})(v||(v={}));var C=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(e={},e[v.AUDIO]=!1,e[v.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t=e.prototype;return t.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},t.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},t.setDecryptDataFromLevelKey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&(n=new A(e.baseuri,e.reluri),n.method=e.method,n.iv=this.createInitializationVector(t)),n},E(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(a["buildAbsoluteURL"])(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!==typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&c["logger"].warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(u["isFiniteNumber"])(this.programDateTime))return null;var e=Object(u["isFiniteNumber"])(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var S=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return T(e,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(u["isFiniteNumber"])(this.fragments[0].programDateTime))}}]),e}(),w=/^(\d+)x(\d+)$/,I=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,b=function(){function e(t){for(var n in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=w.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};I.lastIndex=0;while(null!==(t=I.exec(e))){var r=t[2],i='"';0===r.indexOf(i)&&r.lastIndexOf(i)===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}(),D=b,k={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function M(e,t){var n=k[t];return!!n&&!0===n[e.slice(0,4)]}function R(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var P=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,O=/#EXT-X-MEDIA:(.*)/g,L=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),N=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,B=/\.(mp4|m4s|m4v|m4a)$/i,x=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return a["buildAbsoluteURL"](t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[];function o(e,t){["video","audio"].forEach(function(n){var r=e.filter(function(e){return M(e,n)});if(r.length){var i=r.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter(function(e){return-1===r.indexOf(e)})}}),t.unknownCodecs=e}P.lastIndex=0;while(null!=(r=P.exec(t))){var a={},s=a.attrs=new D(r[1]);a.url=e.resolve(r[2],n);var u=s.decimalResolution("RESOLUTION");u&&(a.width=u.width,a.height=u.height),a.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),a.name=s.NAME,o([].concat((s.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),i.push(a)}return i},e.parseMasterPlaylistMedia=function(t,n,r,i){var o;void 0===i&&(i=[]);var a=[],s=0;O.lastIndex=0;while(null!==(o=O.exec(t))){var u=new D(o[1]);if(u.TYPE===r){var l={id:s++,groupId:u["GROUP-ID"],name:u.NAME||u.LANGUAGE,type:r,default:"YES"===u.DEFAULT,autoselect:"YES"===u.AUTOSELECT,forced:"YES"===u.FORCED,lang:u.LANGUAGE};if(u.URI&&(l.url=e.resolve(u.URI,n)),i.length){var c=e.findGroup(i,l.groupId);l.audioCodec=c?c.codec:i[0].codec}a.push(l)}}return a},e.parseLevelPlaylist=function(e,t,n,r,i){var o,a,s,l=0,h=0,f=new S(t),d=0,p=null,g=new C,m=null;L.lastIndex=0;while(null!==(o=L.exec(e))){var v=o[1];if(v){g.duration=parseFloat(v);var y=(" "+o[2]).slice(1);g.title=y||null,g.tagList.push(y?["INF",v,y]:["INF",v])}else if(o[3]){if(Object(u["isFiniteNumber"])(g.duration)){var E=l++;g.type=r,g.start=h,s&&(g.levelkey=s),g.sn=E,g.level=n,g.cc=d,g.urlId=i,g.baseurl=t,g.relurl=(" "+o[3]).slice(1),G(g,p),f.fragments.push(g),p=g,h+=g.duration,g=new C}}else if(o[4]){var _=(" "+o[4]).slice(1);p?g.setByteRange(_,p):g.setByteRange(_)}else if(o[5])g.rawProgramDateTime=(" "+o[5]).slice(1),g.tagList.push(["PROGRAM-DATE-TIME",g.rawProgramDateTime]),null===m&&(m=f.fragments.length);else{if(o=o[0].match(N),!o){c["logger"].warn("No matches on slow regex match for level playlist!");continue}for(a=1;a<o.length;a++)if("undefined"!==typeof o[a])break;var T=(" "+o[a+1]).slice(1),w=(" "+o[a+2]).slice(1);switch(o[a]){case"#":g.tagList.push(w?[T,w]:[T]);break;case"PLAYLIST-TYPE":f.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":l=f.startSN=parseInt(T);break;case"TARGETDURATION":f.targetduration=parseFloat(T);break;case"VERSION":f.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":f.live=!1;break;case"DIS":d++,g.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(T);break;case"KEY":var I=T,b=new D(I),k=b.enumeratedString("METHOD"),M=b.URI,R=b.hexadecimalInteger("IV");k&&(s=new A(t,M),M&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(k)>=0&&(s.method=k,s.key=null,s.iv=R));break;case"START":var P=new D(T),O=P.decimalFloatingPoint("TIME-OFFSET");Object(u["isFiniteNumber"])(O)&&(f.startTimeOffset=O);break;case"MAP":var x=new D(T);g.relurl=x.URI,x.BYTERANGE&&g.setByteRange(x.BYTERANGE),g.baseurl=t,g.level=n,g.type=r,g.sn="initSegment",f.initSegment=g,g=new C,g.rawProgramDateTime=f.initSegment.rawProgramDateTime;break;default:c["logger"].warn("line parsed but not handled: "+o);break}}}return g=p,g&&!g.relurl&&(f.fragments.pop(),h-=g.duration),f.totalduration=h,f.averagetargetduration=h/f.fragments.length,f.endSN=l-1,f.startCC=f.fragments[0]?f.fragments[0].cc:0,f.endCC=d,!f.initSegment&&f.fragments.length&&f.fragments.every(function(e){return B.test(e.relurl)})&&(c["logger"].warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),g=new C,g.relurl=f.fragments[0].relurl,g.baseurl=t,g.level=n,g.type=r,g.sn="initSegment",f.initSegment=g,f.needSidxRanges=!0),m&&U(f.fragments,m),f},e}();function U(e,t){for(var n=e[t],r=t-1;r>=0;r--){var i=e[r];i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}function G(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(u["isFiniteNumber"])(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Q=window,j=Q.performance,H=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MANIFEST_LOADING,l["default"].LEVEL_LOADING,l["default"].AUDIO_TRACK_LOADING,l["default"].SUBTITLE_TRACK_LOADING)||this,n.loaders={},n}F(t,e),t.canHaveQualityLevels=function(e){return e!==i.AUDIO_TRACK&&e!==i.SUBTITLE_TRACK},t.mapContextToLevelType=function(e){var t=e.type;switch(t){case i.AUDIO_TRACK:return o.AUDIO;case i.SUBTITLE_TRACK:return o.SUBTITLE;default:return o.MAIN}},t.getResponseUrl=function(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n};var n=t.prototype;return n.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=n||r,o=new i(t);return e.loader=o,this.loaders[e.type]=o,o},n.getInternalLoader=function(e){return this.loaders[e.type]},n.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},n.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},n.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},n.onManifestLoading=function(e){this.load({url:e.url,type:i.MANIFEST,level:0,id:null,responseType:"text"})},n.onLevelLoading=function(e){this.load({url:e.url,type:i.LEVEL,level:e.level,id:e.id,responseType:"text"})},n.onAudioTrackLoading=function(e){this.load({url:e.url,type:i.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},n.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:i.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},n.load=function(e){var t=this.hls.config;c["logger"].debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var n,r,o,a,s=this.getInternalLoader(e);if(s){var u=s.context;if(u&&u.url===e.url)return c["logger"].trace("playlist request ongoing"),!1;c["logger"].warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case i.MANIFEST:n=t.manifestLoadingMaxRetry,r=t.manifestLoadingTimeOut,o=t.manifestLoadingRetryDelay,a=t.manifestLoadingMaxRetryTimeout;break;case i.LEVEL:n=0,a=0,o=0,r=t.levelLoadingTimeOut;break;default:n=t.levelLoadingMaxRetry,r=t.levelLoadingTimeOut,o=t.levelLoadingRetryDelay,a=t.levelLoadingMaxRetryTimeout;break}s=this.createInternalLoader(e);var l={timeout:r,maxRetry:n,retryDelay:o,maxRetryDelay:a},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return c["logger"].debug("Calling internal loader delegate for URL: "+e.url),s.load(e,l,h),!0},n.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this._handleSidxRequest(e,n),void this._handlePlaylistLoaded(e,t,n,r);if(this.resetInternalLoader(n.type),"string"!==typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=j.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,n,r):this._handleMasterPlaylist(e,t,n,r):this._handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},n.loaderror=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!1,e)},n.loadtimeout=function(e,t,n){void 0===n&&(n=null),this._handleNetworkError(t,n,!0)},n._handleMasterPlaylist=function(e,n,r,i){var o=this.hls,a=e.data,s=t.getResponseUrl(e,r),u=x.parseMasterPlaylist(a,s);if(u.length){var h=u.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),f=x.parseMasterPlaylistMedia(a,s,"AUDIO",h),d=x.parseMasterPlaylistMedia(a,s,"SUBTITLES");if(f.length){var p=!1;f.forEach(function(e){e.url||(p=!0)}),!1===p&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(c["logger"].log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1}))}o.trigger(l["default"].MANIFEST_LOADED,{levels:u,audioTracks:f,subtitles:d,url:s,stats:n,networkDetails:i})}else this._handleManifestParsingError(e,r,"no level found in manifest",i)},n._handleTrackOrLevelPlaylist=function(e,n,r,o){var a=this.hls,s=r.id,c=r.level,h=r.type,f=t.getResponseUrl(e,r),d=Object(u["isFiniteNumber"])(s)?s:0,p=Object(u["isFiniteNumber"])(c)?c:d,g=t.mapContextToLevelType(r),m=x.parseLevelPlaylist(e.data,f,p,g,d);if(m.tload=n.tload,h===i.MANIFEST){var v={url:f,details:m};a.trigger(l["default"].MANIFEST_LOADED,{levels:[v],audioTracks:[],url:f,stats:n,networkDetails:o})}if(n.tparsed=j.now(),m.needSidxRanges){var A=m.initSegment.url;this.load({url:A,isSidxRequest:!0,type:h,level:c,levelDetails:m,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=m,this._handlePlaylistLoaded(e,n,r,o)},n._handleSidxRequest=function(e,t){if("string"===typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p["default"].parseSegmentIndex(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach(function(e,t){var n=e.info;if(i){var r=i.fragments[t];0===r.byteRange.length&&r.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),i&&i.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},n._handleManifestParsingError=function(e,t,n,r){this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:n,networkDetails:r})},n._handleNetworkError=function(e,t,n,r){var o,a;void 0===n&&(n=!1),void 0===r&&(r=null),c["logger"].info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case i.MANIFEST:o=n?s["ErrorDetails"].MANIFEST_LOAD_TIMEOUT:s["ErrorDetails"].MANIFEST_LOAD_ERROR,a=!0;break;case i.LEVEL:o=n?s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:s["ErrorDetails"].LEVEL_LOAD_ERROR,a=!1;break;case i.AUDIO_TRACK:o=n?s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var h={type:s["ErrorTypes"].NETWORK_ERROR,details:o,fatal:a,url:e.url,loader:u,context:e,networkDetails:t};r&&(h.response=r),this.hls.trigger(l["default"].ERROR,h)},n._handlePlaylistLoaded=function(e,n,r,o){var a=r.type,s=r.level,u=r.id,c=r.levelDetails;if(c&&c.targetduration){var h=t.canHaveQualityLevels(r.type);if(h)this.hls.trigger(l["default"].LEVEL_LOADED,{details:c,level:s||0,id:u||0,stats:n,networkDetails:o});else switch(a){case i.AUDIO_TRACK:this.hls.trigger(l["default"].AUDIO_TRACK_LOADED,{details:c,id:u,stats:n,networkDetails:o});break;case i.SUBTITLE_TRACK:this.hls.trigger(l["default"].SUBTITLE_TRACK_LOADED,{details:c,id:u,stats:n,networkDetails:o});break}}else this._handleManifestParsingError(e,r,"invalid target duration",o)},t}(d),K=H;function Y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var q=function(e){function t(t){var n;return n=e.call(this,t,l["default"].FRAG_LOADING)||this,n.loaders={},n}Y(t,e);var n=t.prototype;return n.destroy=function(){var t=this.loaders;for(var n in t){var r=t[n];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.onFragLoading=function(e){var t=e.frag,n=t.type,r=this.loaders,i=this.hls.config,o=i.fLoader,a=i.loader;t.loaded=0;var s,l,h,f=r[n];f&&(c["logger"].warn("abort previous fragment loader for type: "+n),f.abort()),f=r[n]=t.loader=i.fLoader?new o(i):new a(i),s={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var d=t.byteRangeStartOffset,p=t.byteRangeEndOffset;Object(u["isFiniteNumber"])(d)&&Object(u["isFiniteNumber"])(p)&&(s.rangeStart=d,s.rangeEnd=p),l={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(s,l,h)},n.loadsuccess=function(e,t,n,r){void 0===r&&(r=null);var i=e.data,o=n.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(l["default"].FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:r})},n.loaderror=function(e,t,n){void 0===n&&(n=null);var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[r.type]=void 0,this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},n.loadtimeout=function(e,t,n){void 0===n&&(n=null);var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[r.type]=void 0,this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},n.loadprogress=function(e,t,n,r){void 0===r&&(r=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(l["default"].FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:r})},t}(d),J=q;function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var W=function(e){function t(t){var n;return n=e.call(this,t,l["default"].KEY_LOADING)||this,n.loaders={},n.decryptkey=null,n.decrypturl=null,n}V(t,e);var n=t.prototype;return n.destroy=function(){for(var t in this.loaders){var n=this.loaders[t];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},n.onKeyLoading=function(e){var t=e.frag,n=t.type,r=this.loaders[n];if(t.decryptdata){var i=t.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;if(r&&(c["logger"].warn("abort previous key loader for type:"+n),r.abort()),!i)return void c["logger"].warn("key uri is falsy");t.loader=this.loaders[n]=new o.loader(o),this.decrypturl=i,this.decryptkey=null;var a={url:i,frag:t,responseType:"arraybuffer"},s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(a,s,u)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(l["default"].KEY_LOADED,{frag:t}))}else c["logger"].warn("Missing decryption data on fragment in onKeyLoading")},n.loadsuccess=function(e,t,n){var r=n.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,delete this.loaders[r.type],this.hls.trigger(l["default"].KEY_LOADED,{frag:r})):c["logger"].error("after key load, decryptdata unset")},n.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},n.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(d),z=W;function X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Z={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},$=function(e){function t(t){var n;return n=e.call(this,t,l["default"].BUFFER_APPENDED,l["default"].FRAG_BUFFERED,l["default"].FRAG_LOADED)||this,n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=t.config,n}X(t,e);var n=t.prototype;return n.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,d.prototype.destroy.call(this),e.prototype.destroy.call(this)},n.getBufferedFrag=function(e,t){var n=this.fragments,r=Object.keys(n).filter(function(r){var i=n[r];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=e&&e<=o.endPTS});if(0===r.length)return null;var i=r.pop();return n[i].body},n.detectEvictedFragments=function(e,t){var n,r,i=this;Object.keys(this.fragments).forEach(function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[e];if(s){n=s.time;for(var u=0;u<n.length;u++)if(r=n[u],!1===i.isTimeBuffered(r.startPTS,r.endPTS,t)){i.removeFragment(a.body);break}}}})},n.detectPartialFragments=function(e){var t=this,n=this.getFragmentKey(e),r=this.fragments[n];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach(function(n){if(e.hasElementaryStream(n)){var i=t.timeRanges[n];r.range[n]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}}))},n.getBufferedTimes=function(e,t,n){for(var r,i,o=[],a=!1,s=0;s<n.length;s++){if(r=n.start(s)-this.bufferPadding,i=n.end(s)+this.bufferPadding,e>=r&&t<=i){o.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))});break}if(e<i&&t>r)o.push({startPTS:Math.max(e,n.start(s)),endPTS:Math.min(t,n.end(s))}),a=!0;else if(t<=r)break}return{time:o,partial:a}},n.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},n.getPartialFragment=function(e){var t,n,r,i=this,o=null,a=0;return Object.keys(this.fragments).forEach(function(s){var u=i.fragments[s];i.isPartial(u)&&(n=u.body.startPTS-i.bufferPadding,r=u.body.endPTS+i.bufferPadding,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(o=u.body,a=t)))}),o},n.getState=function(e){var t=this.getFragmentKey(e),n=this.fragments[t],r=Z.NOT_LOADED;return void 0!==n&&(r=n.buffered?!0===this.isPartial(n)?Z.PARTIAL:Z.OK:Z.APPENDING),r},n.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},n.isTimeBuffered=function(e,t,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},n.onFragLoaded=function(e){var t=e.frag;Object(u["isFiniteNumber"])(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},n.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var n=t.timeRanges[e];t.detectEvictedFragments(e,n)})},n.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},n.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},n.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},n.removeAllFragments=function(){this.fragments=Object.create(null)},t}(d),ee={search:function(e,t){var n=0,r=e.length-1,i=null,o=null;while(n<=r){i=(n+r)/2|0,o=e[i];var a=t(o);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}},te=ee,ne=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var n=e.buffered,r=0;r<n.length;r++)if(t>=n.start(r)&&t<=n.end(r))return!0}catch(i){}return!1},e.bufferInfo=function(e,t,n){try{if(e){var r,i=e.buffered,o=[];for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,t,n)}}catch(a){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,n){e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end});var r=[];if(n)for(var i=0;i<e.length;i++){var o=r.length;if(o){var a=r[o-1].end;e[i].start-a<n?e[i].end>a&&(r[o-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,u=0,l=t,c=t,h=0;h<r.length;h++){var f=r[h].start,d=r[h].end;if(t+n>=f&&t<d)l=f,c=d,u=c-t;else if(t+n<f){s=f;break}}return{len:u,start:l,end:c,nextStart:s}},e}(),re=n("./node_modules/eventemitter3/index.js"),ie=n("./node_modules/webworkify-webpack/index.js"),oe=n("./src/demux/demuxer-inline.js");function ae(){return window.MediaSource||window.WebKitMediaSource}var se=n("./src/utils/get-self-scope.js");function ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var le=function(e){function t(){return e.apply(this,arguments)||this}ue(t,e);var n=t.prototype;return n.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(n))},t}(re["EventEmitter"]),ce=Object(se["getSelfScope"])(),he=ae()||{isTypeSupported:function(){return!1}},fe=function(){function e(e,t){var n=this;this.hls=e,this.id=t;var r=this.observer=new le,i=e.config,o=function(t,r){r=r||{},r.frag=n.frag,r.id=n.id,e.trigger(t,r)};r.on(l["default"].FRAG_DECRYPTED,o),r.on(l["default"].FRAG_PARSING_INIT_SEGMENT,o),r.on(l["default"].FRAG_PARSING_DATA,o),r.on(l["default"].FRAG_PARSED,o),r.on(l["default"].ERROR,o),r.on(l["default"].FRAG_PARSING_METADATA,o),r.on(l["default"].FRAG_PARSING_USERDATA,o),r.on(l["default"].INIT_PTS_FOUND,o);var a={mp4:he.isTypeSupported("video/mp4"),mpeg:he.isTypeSupported("audio/mpeg"),mp3:he.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(i.enableWorker&&"undefined"!==typeof Worker){var h;c["logger"].log("demuxing in webworker");try{h=this.w=ie(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),h.addEventListener("message",this.onwmsg),h.onerror=function(t){e.trigger(l["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},h.postMessage({cmd:"init",typeSupported:a,vendor:u,id:t,config:JSON.stringify(i)})}catch(f){c["logger"].warn("Error in worker:",f),c["logger"].error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),h&&ce.URL.revokeObjectURL(h.objectURL),this.demuxer=new oe["default"](r,a,i,u),this.w=void 0}}else this.demuxer=new oe["default"](r,a,i,u)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},t.push=function(e,t,n,r,i,o,a,s){var l=this.w,h=Object(u["isFiniteNumber"])(i.startPTS)?i.startPTS:i.start,f=i.decryptdata,d=this.frag,p=!(d&&i.cc===d.cc),g=!(d&&i.level===d.level),m=d&&i.sn===d.sn+1,v=!g&&m;if(p&&c["logger"].log(this.id+":discontinuity detected"),g&&c["logger"].log(this.id+":switch detected"),this.frag=i,l)l.postMessage({cmd:"demux",data:e,decryptdata:f,initSegment:t,audioCodec:n,videoCodec:r,timeOffset:h,discontinuity:p,trackSwitch:g,contiguous:v,duration:o,accurateTimeOffset:a,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var A=this.demuxer;A&&A.push(e,f,t,n,r,h,p,g,v,o,a,s)}},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":ce.URL.revokeObjectURL(this.w.objectURL);break;case l["default"].FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data);break}},e}(),de=fe;function pe(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n);break}}function ge(e,t,n){var r=e[t],i=e[n],o=i.startPTS;Object(u["isFiniteNumber"])(o)?n>t?(r.duration=o-r.start,r.duration<0&&c["logger"].warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(i.duration=r.start-o,i.duration<0&&c["logger"].warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):i.start=n>t?r.start+r.duration:Math.max(r.start-i.duration,0)}function me(e,t,n,r,i,o){var a=n;if(Object(u["isFiniteNumber"])(t.startPTS)){var s=Math.abs(t.startPTS-n);Object(u["isFiniteNumber"])(t.deltaPTS)?t.deltaPTS=Math.max(s,t.deltaPTS):t.deltaPTS=s,a=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),r=Math.max(r,t.endPTS),i=Math.min(i,t.startDTS),o=Math.max(o,t.endDTS)}var l=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=a,t.endPTS=r,t.startDTS=i,t.endDTS=o,t.duration=r-n;var c,h,f,d=t.sn;if(!e||d<e.startSN||d>e.endSN)return 0;for(c=d-e.startSN,h=e.fragments,h[c]=t,f=c;f>0;f--)ge(h,f,f-1);for(f=c;f<h.length-1;f++)ge(h,f,f+1);return e.PTSKnown=!0,l}function ve(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var n,r=0;if(ye(e,t,function(e,i){r=e.cc-i.cc,Object(u["isFiniteNumber"])(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,n=i),t.PTSKnown=!0}),t.PTSKnown){if(r){c["logger"].log("discontinuity sliding from playlist, take drift into account");for(var i=t.fragments,o=0;o<i.length;o++)i[o].cc+=r}n?me(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):Ee(e,t),t.PTSKnown=e.PTSKnown}}function Ae(e,t,n){void 0===n&&(n=0);var r=-1;ye(e,t,function(e,t,n){t.start=e.start,r=n});var i=t.fragments;if(r<0)i.forEach(function(e){e.start+=n});else for(var o=r+1;o<i.length;o++)i[o].start=i[o-1].start+i[o-1].duration}function ye(e,t,n){if(e&&t)for(var r=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,o=t.startSN-e.startSN,a=r;a<=i;a++){var s=e.fragments[o+a],u=t.fragments[a];if(!s||!u)break;n(s,u,a)}}function Ee(e,t){var n=t.startSN-e.startSN,r=e.fragments,i=t.fragments;if(!(n<0||n>r.length))for(var o=0;o<i.length;o++)i[o].start+=r[n].start}function Ce(e,t,n){var r=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=r/2;return e&&t.endSN===e.endSN&&(r=i),n&&(r=Math.max(i,r-(window.performance.now()-n))),Math.round(r)}var _e={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}},Te=_e;function Se(e,t){for(var n=null,r=0;r<e.length;r+=1){var i=e[r];if(i&&i.cc===t){n=i;break}}return n}function we(e,t){return te.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}function Ie(e,t,n){var r=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(r=!0),r}function be(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=Se(n,r[0].cc);if(i&&(!i||i.startPTS))return i;c["logger"].log("No frag in previous level to align on")}else c["logger"].log("No fragments to align")}function De(e,t){t.fragments.forEach(function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}),t.PTSKnown=!0}function ke(e,t,n){Me(e,n,t),!n.PTSKnown&&t&&Re(n,t.details)}function Me(e,t,n){if(Ie(e,n,t)){var r=be(n.details,t);r&&(c["logger"].log("Adjusting PTS using last level due to CC increase within current level"),De(r.start,t))}}function Re(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var n=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,i=(r-n)/1e3+t.fragments[0].start;Object(u["isFiniteNumber"])(i)&&(c["logger"].log("adjusting PTS using programDateTime delta, sliding:"+i.toFixed(3)),De(i,e))}}function Pe(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(u["isFiniteNumber"])(t))return null;var r=e[0].programDateTime;if(t<(r||0))return null;var i=e[e.length-1].endProgramDateTime;if(t>=(i||0))return null;n=n||0;for(var o=0;o<e.length;++o){var a=e[o];if(Ne(t,n,a))return a}return null}function Oe(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=e?t[e.sn-t[0].sn+1]:null;return i&&!Le(n,r,i)?i:te.search(t,Le.bind(null,n,r))}function Le(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function Ne(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0)),i=n.endProgramDateTime||0;return i-r>e}var Be=250,xe=2,Ue=.1,Ge=.05,Fe=function(){function e(e,t,n,r){this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,n=this.media,r=this.stalled,i=n.currentTime,o=n.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,i===e){if((s||a)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var u=ne.bufferInfo(n,i,0),l=u.len>0,h=u.nextStart||0;if(l||h){if(o){var f=u.len>xe,d=!h||h-i>xe;if(f||d)return;this.moved=!1}if(!this.moved&&this.stalled){var p=Math.max(h,u.start||0)-i;if(p>0&&p<=xe)return void this._trySkipBufferHole(null)}var g=self.performance.now();if(null!==r){var m=g-r;!o&&m>=Be&&this._reportStall(u.len);var v=ne.bufferInfo(n,i,t.maxBufferHole);this._tryFixBufferStall(v,m)}else this.stalled=g}}}else if(this.moved=!0,null!==r){if(this.stallReported){var A=self.performance.now()-r;c["logger"].warn("playback not stuck anymore @"+i+", after "+Math.round(A)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media,o=i.currentTime,a=r.getPartialFragment(o);if(a){var s=this._trySkipBufferHole(a);if(s)return}e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(c["logger"].warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media,r=this.stallReported;r||(this.stallReported=!0,c["logger"].warn("Playback stalling at @"+n.currentTime+" due to low buffer"),t.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,r=this.media,i=r.currentTime,o=0,a=0;a<r.buffered.length;a++){var u=r.buffered.start(a);if(i+t.maxBufferHole>=o&&i<u){var h=Math.max(u+Ge,r.currentTime+Ue);return c["logger"].warn("skipping hole, adjusting currentTime from "+i+" to "+h),this.moved=!0,this.stalled=null,r.currentTime=h,e&&n.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+h,frag:e}),h}o=r.buffered.end(a)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var o=r+i*e.nudgeOffset;c["logger"].warn("Nudging 'currentTime' from "+r+" to "+o),n.currentTime=o,t.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_NUDGE_ON_STALL,fatal:!1})}else c["logger"].error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!0})},e}();function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var He=function(e){function t(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n=e.call.apply(e,[this,t].concat(i))||this,n._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(Qe(n)),n}je(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},n.hasInterval=function(){return!!this._tickInterval},n.hasNextTick=function(){return!!this._tickTimer},n.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},n.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},n.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},n.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},n.doTick=function(){},t}(d);function Ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ye={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},qe=function(e){function t(){return e.apply(this,arguments)||this}Ke(t,e);var n=t.prototype;return n.doTick=function(){},n.startLoad=function(){},n.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ye.STOPPED},n._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&!n.backtracked&&n.sn===t.endSN&&!e.nextStart){var i=r.getState(n);return i===Z.PARTIAL||i===Z.OK}return!1},n.onMediaSeeking=function(){var e=this.config,t=this.media,n=this.mediaBuffer,r=this.state,i=t?t.currentTime:null,o=ne.bufferInfo(n||t,i,this.config.maxBufferHole);if(Object(u["isFiniteNumber"])(i)&&c["logger"].log("media seeking to "+i.toFixed(3)),r===Ye.FRAG_LOADING){var a=this.fragCurrent;if(0===o.len&&a){var s=e.maxFragLookUpTolerance,l=a.start-s,h=a.start+a.duration+s;i<l||i>h?(a.loader&&(c["logger"].log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Ye.IDLE):c["logger"].log("seeking outside of buffer but within currently loaded fragment range")}}else r===Ye.ENDED&&(0===o.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Ye.IDLE);t&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},n.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},n.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},n.onHandlerDestroyed=function(){this.state=Ye.STOPPED,this.fragmentTracker=null},n.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},t}(He);function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&Je(e.prototype,t),n&&Je(e,n),e}function We(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ze=100,Xe=function(e){function t(t,n){var r;return r=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHING,l["default"].MANIFEST_LOADING,l["default"].MANIFEST_PARSED,l["default"].LEVEL_LOADED,l["default"].KEY_LOADED,l["default"].FRAG_LOADED,l["default"].FRAG_LOAD_EMERGENCY_ABORTED,l["default"].FRAG_PARSING_INIT_SEGMENT,l["default"].FRAG_PARSING_DATA,l["default"].FRAG_PARSED,l["default"].ERROR,l["default"].AUDIO_TRACK_SWITCHING,l["default"].AUDIO_TRACK_SWITCHED,l["default"].BUFFER_CREATED,l["default"].BUFFER_APPENDED,l["default"].BUFFER_FLUSHED)||this,r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=Ye.STOPPED,r.stallReported=!1,r.gapController=null,r.altAudio=!1,r}We(t,e);var n=t.prototype;return n.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(ze),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(c["logger"].log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=Ye.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=Ye.STOPPED},n.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},n.doTick=function(){switch(this.state){case Ye.BUFFER_FLUSHING:this.fragLoadError=0;break;case Ye.IDLE:this._doTickIdle();break;case Ye.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=Ye.IDLE);break;case Ye.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(c["logger"].log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Ye.IDLE);break;case Ye.ERROR:case Ye.STOPPED:case Ye.FRAG_LOADING:case Ye.PARSING:case Ye.PARSED:case Ye.ENDED:break;default:break}this._checkBuffer(),this._checkFragmentChanged()},n._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var r;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i];if(o){var a,s=o.bitrate;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var u=ne.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),h=u.len;if(!(h>=a)){c["logger"].trace("buffer length of "+h.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var f=o.details;if(!f||f.live&&this.levelLastLoaded!==i)this.state=Ye.WAITING_LEVEL;else{if(this._streamEnded(u,f)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(l["default"].BUFFER_EOS,d),void(this.state=Ye.ENDED)}this._fetchPayloadOrEos(r,u,f)}}}}},n._fetchPayloadOrEos=function(e,t,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0!==a){var s,u=o[0].start,l=o[a-1].start+o[a-1].duration,h=t.end;if(n.initSegment&&!n.initSegment.data)s=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(a<f)return void c["logger"].warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(s=this._ensureFragmentAtLivePoint(n,h,u,l,r,o,a),null===s)return}else h<u&&(s=o[0]);s||(s=this._findFragment(u,r,a,o,h,l,n)),s&&(s.encrypted?(c["logger"].log("Loading key for "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i),this._loadKey(s)):(c["logger"].log("Loading "+s.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+h.toFixed(3)),this._loadFragment(s)))}},n._ensureFragmentAtLivePoint=function(e,t,n,r,i,o,a){var s,u=this.hls.config,l=this.media,h=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-u.maxFragLookUpTolerance,r-h)){var f=this.liveSyncPosition=this.computeLivePosition(n,e);c["logger"].log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,l&&!l.paused&&l.readyState&&l.duration>f&&(l.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>r&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.hasProgramDateTime)c["logger"].log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),s=Pe(o,i.endProgramDateTime,u.maxFragLookUpTolerance);else{var d=i.sn+1;if(d>=e.startSN&&d<=e.endSN){var p=o[d-e.startSN];i.cc===p.cc&&(s=p,c["logger"].log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=te.search(o,function(e){return i.cc-e.cc}),s&&c["logger"].log("live playlist, switching playlist, load frag with same CC: "+s.sn))}s||(s=o[Math.min(a-1,Math.round(a/2))],c["logger"].log("live playlist, switching playlist, unknown, load middle frag : "+s.sn))}return s},n._findFragment=function(e,t,n,r,i,o,a){var s,u=this.hls.config;if(i<o){var l=i>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance;s=Oe(t,r,i,l)}else s=r[n-1];if(s){var h=s.sn-a.startSN,f=t&&s.level===t.level,d=r[h-1],p=r[h+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var g=t.deltaPTS;g&&g>u.maxBufferHole&&t.dropped&&h?(s=d,c["logger"].warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,c["logger"].log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(c["logger"].warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(c["logger"].warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d,s.backtracked=!0):h&&(s=null)))}return s},n._loadKey=function(e){this.state=Ye.KEY_LOADING,this.hls.trigger(l["default"].KEY_LOADING,{frag:e})},n._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object(u["isFiniteNumber"])(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===Z.NOT_LOADED||t===Z.PARTIAL?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(l["default"].FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new de(this.hls,"main")),this.state=Ye.FRAG_LOADING):t===Z.APPENDING&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},n.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,o.MAIN)},n.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},n._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>this.lastCurrentTime&&(this.lastCurrentTime=t),ne.isBuffered(n,t)?e=this.getBufferedFrag(t):ne.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var r=e;if(r!==this.fragPlaying){this.hls.trigger(l["default"].FRAG_CHANGED,{frag:r});var i=r.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(l["default"].LEVEL_SWITCHED,{level:i}),this.fragPlaying=r}}},n.immediateLevelSwitch=function(){if(c["logger"].log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},n.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,ne.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},n.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,n,r;if(n=this.getBufferedFrag(e.currentTime),n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if(r=this.getBufferedFrag(e.currentTime+t),r&&(r=this.followingBufferedFrag(r),r)){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}},n.flushMainBuffer=function(e,t){this.state=Ye.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(l["default"].BUFFER_FLUSHING,n)},n.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new Fe(n,t,this.fragmentTracker,this.hls)},n.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(u["isFiniteNumber"])(t)&&c["logger"].log("media seeked to "+t.toFixed(3)),this.tick()},n.onManifestLoading=function(){c["logger"].log("trigger BUFFER_RESET"),this.hls.trigger(l["default"].BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.onManifestParsed=function(e){var t,n=!1,r=!1;e.levels.forEach(function(e){t=e.audioCodec,t&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&c["logger"].log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},n.onLevelLoaded=function(e){var t=e.details,n=e.level,r=this.levels[this.levelLastLoaded],i=this.levels[n],o=t.totalduration,a=0;if(c["logger"].log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var s=i.details;s&&t.fragments.length>0?(ve(s,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,s),t.PTSKnown&&Object(u["isFiniteNumber"])(a)?c["logger"].log("live playlist sliding:"+a.toFixed(3)):(c["logger"].log("live playlist - outdated PTS, unknown sliding"),ke(this.fragPrevious,r,t))):(c["logger"].log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,ke(this.fragPrevious,r,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=n,this.hls.trigger(l["default"].LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var h=t.startTimeOffset;Object(u["isFiniteNumber"])(h)?(h<0&&(c["logger"].log("negative start time offset "+h+", count from end of last fragment"),h=a+o+h),c["logger"].log("start time offset found in playlist, adjust startPosition to "+h),this.startPosition=h):t.live?(this.startPosition=this.computeLivePosition(a,t),c["logger"].log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Ye.WAITING_LEVEL&&(this.state=Ye.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===Ye.KEY_LOADING&&(this.state=Ye.IDLE,this.tick())},n.onFragLoaded=function(e){var t=this.fragCurrent,n=this.hls,r=this.levels,i=this.media,o=e.frag;if(this.state===Ye.FRAG_LOADING&&t&&"main"===o.type&&o.level===t.level&&o.sn===t.sn){var a=e.stats,s=r[t.level],u=s.details;if(this.bitrateTest=!1,this.stats=a,c["logger"].log("Loaded "+t.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+t.level),o.bitrateTest&&n.nextLoadLevel)this.state=Ye.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),n.trigger(l["default"].FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=Ye.IDLE,a.tparsed=a.tbuffered=window.performance.now(),u.initSegment.data=e.payload,n.trigger(l["default"].FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{c["logger"].log("Parsing "+t.sn+" of ["+u.startSN+" ,"+u.endSN+"],level "+t.level+", cc "+t.cc),this.state=Ye.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var h=!(i&&i.seeking)&&(u.PTSKnown||!u.live),f=u.initSegment?u.initSegment.data:[],d=this._getAudioCodec(s),p=this.demuxer=this.demuxer||new de(this.hls,"main");p.push(e.payload,f,d,s.videoCodec,t,u.totalduration,h)}}this.fragLoadError=0},n.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ye.PARSING){var r,i,o=e.tracks;if(o.audio&&this.altAudio&&delete o.audio,i=o.audio,i){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(c["logger"].log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",c["logger"].log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(r in i=o.video,i&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(l["default"].BUFFER_CODECS,o),o){i=o[r],c["logger"].log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l["default"].BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}},n.onFragParsingData=function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"main"===e.id&&r.sn===n.sn&&r.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===Ye.PARSING){var i=this.levels[this.level],o=n;if(Object(u["isFiniteNumber"])(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),!0===e.hasAudio&&o.addElementaryStream(v.AUDIO),!0===e.hasVideo&&o.addElementaryStream(v.VIDEO),c["logger"].log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(o.dropped=e.dropped,o.dropped)if(o.backtracked)c["logger"].warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var a=i.details;if(!a||o.sn!==a.startSN)return c["logger"].warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=Ye.IDLE,this.fragPrevious=o,void this.tick();c["logger"].warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var s=me(i.details,o,e.startPTS,e.endPTS,e.startDTS,e.endDTS),h=this.hls;h.trigger(l["default"].LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:s,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(n){n&&n.length&&t.state===Ye.PARSING&&(t.appended=!0,t.pendingBuffering=!0,h.trigger(l["default"].BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.tick()}},n.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ye.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=Ye.PARSED,this._checkAppendedParsed())},n.onAudioTrackSwitching=function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){c["logger"].log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(c["logger"].log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ye.IDLE}var i=this.hls;i.trigger(l["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(l["default"].AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},n.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(c["logger"].log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()},n.onBufferCreated=function(e){var t,n,r=e.tracks,i=!1;for(var o in r){var a=r[o];"main"===a.id?(n=o,t=a,"video"===o&&(this.videoBuffer=r[o].buffer)):i=!0}i&&t?(c["logger"].log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},n.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==Ye.PARSING&&t!==Ye.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(this.state===Ye.PARSED&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;c["logger"].log("main buffered : "+Te.toString(t.buffered)),this.fragPrevious=e;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(l["default"].FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=Ye.IDLE}this.tick()}},n.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=!!this.media&&ne.isBuffered(this.media,this.media.currentTime)&&ne.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);c["logger"].warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Ye.FRAG_LOADING_WAITING_RETRY}else c["logger"].error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Ye.ERROR;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:this.state!==Ye.ERROR&&(e.fatal?(this.state=Ye.ERROR,c["logger"].warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==Ye.WAITING_LEVEL||(this.state=Ye.IDLE));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==Ye.PARSING&&this.state!==Ye.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Ye.IDLE):(c["logger"].warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)));break;default:break}}},n._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,c["logger"].warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},n._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=this.mediaBuffer?this.mediaBuffer:e,n=t.buffered;!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,n)}},n.onFragLoadEmergencyAborted=function(){this.state=Ye.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(v.VIDEO,e.buffered),this.state=Ye.IDLE,this.fragPrevious=null},n.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n._seekToStartPos=function(){var e=this.media,t=e.currentTime,n=e.seeking?t:this.startPosition;t!==n&&n>=0&&(c["logger"].log("target start position not buffered, seek to buffered.start(0) "+n+" from current time "+t+" "),e.currentTime=n)},n._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(c["logger"].log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Ve(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c["logger"].log("main stream-controller: "+t+"->"+e),this.hls.trigger(l["default"].STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(qe),Ze=Xe;function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var nt,rt=window,it=(rt.performance,function(e){function t(t){var n;return n=e.call(this,t,l["default"].MANIFEST_LOADED,l["default"].LEVEL_LOADED,l["default"].AUDIO_TRACK_SWITCHED,l["default"].FRAG_LOADED,l["default"].ERROR)||this,n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,nt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}tt(t,e);var n=t.prototype;return n.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},n.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},n.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},n.stopLoad=function(){this.canload=!1},n.onManifestLoaded=function(e){var t,n=[],r=[],i={},o=null,a=!1,u=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,u=u||!!e.audioCodec,nt&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),o=i[e.bitrate],o?o.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,n.push(e)),t&&(t.AUDIO&&(u=!0,pe(o||e,"audio",t.AUDIO)),t.SUBTITLES&&pe(o||e,"text",t.SUBTITLES))}),a&&u&&(n=n.filter(function(e){var t=e.videoCodec;return!!t})),n=n.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||R(t,"audio"))&&(!n||R(n,"video"))}),e.audioTracks&&(r=e.audioTracks.filter(function(e){return!e.audioCodec||R(e.audioCodec,"audio")}),r.forEach(function(e,t){e.id=t})),n.length>0){t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var h=0;h<n.length;h++)if(n[h].bitrate===t){this._firstLevel=h,c["logger"].log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(l["default"].MANIFEST_PARSED,{levels:n,audioTracks:r,firstLevel:this._firstLevel,stats:e.stats,audio:u,video:a,altAudio:r.some(function(e){return!!e.url})})}else this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},n.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){c["logger"].log("switching to level "+e),this.currentLevelIndex=e;var r=t[e];r.level=e,n.trigger(l["default"].LEVEL_SWITCHING,r)}var i=t[e],o=i.details;if(!o||o.live){var a=i.urlId;n.trigger(l["default"].LEVEL_LOADING,{url:i.url[a],level:e,id:a})}}else n.trigger(l["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},n.onError=function(e){if(e.fatal)e.type===s["ErrorTypes"].NETWORK_ERROR&&this.clearTimer();else{var t,n=!1,r=!1;switch(e.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:t=e.frag.level,r=!0;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:t=e.context.level,n=!0;break;case s["ErrorDetails"].REMUX_ALLOC_ERROR:t=e.level,n=!0;break}void 0!==t&&this.recoverLevel(e,t,n,r)}},n.recoverLevel=function(e,t,n,r){var i,o,a,s=this,u=this.hls.config,l=e.details,h=this._levels[t];if(h.loadError++,h.fragmentError=r,n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return c["logger"].error("level controller, cannot recover from "+l+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},o),e.levelRetry=!0,this.levelRetryCount++,c["logger"].warn("level controller, "+l+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||r)&&(i=h.url.length,i>1&&h.loadError<i?(h.urlId=(h.urlId+1)%i,h.details=void 0,c["logger"].warn("level controller, "+l+" for level "+t+": switching to redundant URL-id "+h.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,c["logger"].warn("level controller, "+l+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(c["logger"].warn("level controller, "+l+": reload a fragment"),this.currentLevelIndex=null))},n.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},n.onLevelLoaded=function(e){var t=this,n=e.level,r=e.details;if(n===this.currentLevelIndex){var i=this._levels[n];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),r.live){var o=Ce(i.details,r,e.stats.trequest);c["logger"].log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},o)}else this.clearTimer()}},n.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=0;i<n.audioGroupIds.length;i++)if(n.audioGroupIds[i]===t){r=i;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},n.loadLevel=function(){if(c["logger"].debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"===typeof e&&e.url.length>0){var t=this.currentLevelIndex,n=e.urlId,r=e.url[n];c["logger"].log("Attempt loading level index "+t+" with URL-id "+n),this.hls.trigger(l["default"].LEVEL_LOADING,{url:r,level:t,id:n})}}},et(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(d)),ot=n("./src/demux/id3.js");function at(e,t){var n;try{n=new Event("addtrack")}catch(r){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function st(e){if(e&&e.cues)while(e.cues.length>0)e.removeCue(e.cues[0])}function ut(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];var n=0,r=e.length-1;while(n<=r){var i=Math.floor((r+n)/2);if(t<e[i].endTime)r=i-1;else{if(!(t>e[i].endTime))return e[i];n=i+1}}return e[n].endTime-t<t-e[r].endTime?e[n]:e[r]}function lt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ct=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHING,l["default"].FRAG_PARSING_METADATA,l["default"].LIVE_BACK_BUFFER_REACHED)||this,n.id3Track=void 0,n.media=void 0,n}lt(t,e);var n=t.prototype;return n.destroy=function(){d.prototype.destroy.call(this)},n.onMediaAttached=function(e){this.media=e.media,this.media},n.onMediaDetaching=function(){st(this.id3Track),this.id3Track=void 0,this.media=void 0},n.getID3Track=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return at(n,this.media),n}return this.media.addTextTrack("metadata","id3")},n.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=ot["default"].getID3Frames(n[i].data);if(o){var a=n[i].pts,s=i<n.length-1?n[i+1].pts:t.endPTS;a===s?s+=1e-4:a>s&&(c["logger"].warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),s=a+.25);for(var u=0;u<o.length;u++){var l=o[u];if(!ot["default"].isTimeStampFrame(l)){var h=new r(a,s,"");h.value=l,this.id3Track.addCue(h)}}}}},n.onLiveBackBufferReached=function(e){var t=e.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var r=ut(n.cues,t);if(r)while(n.cues[0]!==r)n.removeCue(n.cues[0])}},t}(d),ht=ct;function ft(){var e=ae();if(!e)return!1;var t=SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!r}var dt=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),pt=dt,gt=function(){function e(e,t,n,r){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new pt(t),this.fast_=new pt(n)}var t=e.prototype;return t.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var n=8*t,r=e/1e3,i=n/r;this.fast_.sample(r,i),this.slow_.sample(r,i)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}(),mt=gt;function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),e}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ct=window,_t=Ct.performance,Tt=function(e){function t(t){var n;return n=e.call(this,t,l["default"].FRAG_LOADING,l["default"].FRAG_LOADED,l["default"].FRAG_BUFFERED,l["default"].ERROR)||this,n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=t,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(yt(n)),n}Et(t,e);var n=t.prototype;return n.destroy=function(){this.clearTimer(),d.prototype.destroy.call(this)},n.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,r,i=this.hls,o=i.config,a=t.level,s=i.levels[a].details.live;s?(n=o.abrEwmaFastLive,r=o.abrEwmaSlowLive):(n=o.abrEwmaFastVoD,r=o.abrEwmaSlowVoD),this._bwEstimator=new mt(i,r,n,o.abrEwmaDefaultEstimate)}},n._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent;if(n){var r=n.loader,i=e.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return c["logger"].warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=r.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var a=_t.now()-o.trequest,s=Math.abs(t.playbackRate);if(a>500*n.duration/s){var u=e.levels,h=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),f=u[n.level],d=f.realBitrate?Math.max(f.realBitrate,f.bitrate):f.bitrate,p=o.total?o.total:Math.max(o.loaded,Math.round(n.duration*d/8)),g=t.currentTime,m=(p-o.loaded)/h,v=(ne.bufferInfo(t,g,e.config.maxBufferHole).end-g)/s;if(v<2*n.duration/s&&m>v){var A,y;for(y=n.level-1;y>i;y--){var E=u[y].realBitrate?Math.max(u[y].realBitrate,u[y].bitrate):u[y].bitrate,C=n.duration*E/(6.4*h);if(C<v)break}A<m&&(c["logger"].warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+A.toFixed(1)+"<"+m.toFixed(1)+":"+v.toFixed(1)),e.nextLoadLevel=y,this._bwEstimator.sample(a,o.loaded),r.abort(),this.clearTimer(),e.trigger(l["default"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}}},n.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(u["isFiniteNumber"])(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}},n.onFragBuffered=function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&"main"===n.type&&Object(u["isFiniteNumber"])(n.sn)&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;c["logger"].log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(r,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},n.onError=function(e){switch(e.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:this.clearTimer();break;default:break}},n.clearTimer=function(){clearInterval(this.timer),this.timer=null},n._findBestLevel=function(e,t,n,r,i,o,a,s,u){for(var l=i;l>=r;l--){var h=u[l];if(h){var f=h.details,d=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,g=void 0;g=l<=e?a*n:s*n;var m=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,v=m*d/g;if(c["logger"].trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(g)+"/"+m+"/"+d+"/"+o+"/"+v),g>m&&(!v||p&&!this.bitrateTestDelay||v<o))return l}}return-1},At(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,r=e.config,i=e.minAutoLevel,o=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(ne.bufferInfo(o,u,r.maxBufferHole).end-u)/l,d=this._findBestLevel(a,s,h,i,t,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(d>=0)return d;c["logger"].trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,m=r.abrBandWidthUpFactor;if(0===f){var v=this.bitrateTestDelay;if(v){var A=s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay;p=A-v,c["logger"].trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=m=1}}return d=this._findBestLevel(a,s,h,i,t,f+p,g,m,n),Math.max(d,0)}}]),t}(d),St=Tt;function wt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var It=ae(),bt=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MEDIA_ATTACHING,l["default"].MEDIA_DETACHING,l["default"].MANIFEST_PARSED,l["default"].BUFFER_RESET,l["default"].BUFFER_APPENDING,l["default"].BUFFER_CODECS,l["default"].BUFFER_EOS,l["default"].BUFFER_FLUSHING,l["default"].LEVEL_PTS_UPDATED,l["default"].LEVEL_UPDATED)||this,n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){c["logger"].log("media source opened"),n.hls.trigger(l["default"].MEDIA_ATTACHED,{media:n.media});var e=n.mediaSource;e&&e.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){c["logger"].log("media source closed")},n._onMediaSourceEnded=function(){c["logger"].log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var e=n.sourceBuffer.audio;c["logger"].warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+n.audioTimestampOffset),e.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var t=n.parent,r=n.segments.reduce(function(e,n){return n.parent===t?e+1:e},0),i={},o=n.sourceBuffer;for(var a in o){var s=o[a];if(!s)throw Error("handling source buffer update end error: source buffer for "+a+" uninitilized and unable to update buffered TimeRanges.");i[a]=s.buffered}n.hls.trigger(l["default"].BUFFER_APPENDED,{parent:t,pending:r,timeRanges:i}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===r&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(e){c["logger"].error("sourceBuffer error:",e),n.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_APPENDING_ERROR,fatal:!1})},n.config=t.config,n}wt(t,e);var n=t.prototype;return n.destroy=function(){d.prototype.destroy.call(this)},n.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(!r)throw Error("Level PTS Updated and source buffer for audio uninitalized");var i=Math.abs(r.timestampOffset-e.start);if(i>.1){var o=r.updating;try{r.abort()}catch(a){c["logger"].warn("can not abort audio buffer: "+a)}o?this.audioTimestampOffset=e.start:(c["logger"].warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}},n.onManifestParsed=function(e){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e.altAudio?2:1,c["logger"].log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&It){var n=this.mediaSource=new It;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(n),this._objectUrl=t.src}},n.onMediaDetaching=function(){c["logger"].log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(t){c["logger"].warn("onMediaDetaching:"+t.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):c["logger"].warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(l["default"].MEDIA_DETACHED)},n.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,n=Object.keys(t).length;(n&&!e||2===n)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},n.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach(function(n){t.pendingTracks[n]=e[n]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},n.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var r in e)if(!t[r]){var i=e[r];if(!i)throw Error("source buffer exists for track "+r+", however track does not");var o=i.levelCodec||i.codec,a=i.container+";codecs="+o;c["logger"].log("creating sourceBuffer("+a+")");try{var u=t[r]=n.addSourceBuffer(a);u.addEventListener("updateend",this._onSBUpdateEnd),u.addEventListener("error",this._onSBUpdateError),this.tracks[r]={buffer:u,codec:o,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(h){c["logger"].error("error while trying to add sourceBuffer:"+h.message),this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_ADD_CODEC_ERROR,fatal:!1,err:h,mimeType:a})}}this.hls.trigger(l["default"].BUFFER_CREATED,{tracks:this.tracks})},n.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},n.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var n=this.sourceBuffer[t];n&&!n.ended&&(n.ended=!0,c["logger"].log(t+" sourceBuffer now EOS"))}this.checkEos()},n.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var n in e){var r=e[n];if(r){if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}}c["logger"].log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(i){c["logger"].warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},n.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,n=this.sourceBuffer,r=Object.keys(n),i=t-Math.max(e,this._levelTargetDuration),o=r.length-1;o>=0;o--){var a=r[o],s=n[a];if(s){var u=s.buffered;u.length>0&&i>u.start(0)&&this.removeBufferRange(a,s,0,i)&&this.hls.trigger(l["default"].LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else c["logger"].error("flushLiveBackBuffer called without attaching media")}},n.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},n.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var r=this.sourceBuffer[n];if(r&&!0===r.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(c["logger"].log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(u["isFiniteNumber"])(e))&&(c["logger"].log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.doFlush=function(){while(this.flushRange.length){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n){var i=n[r];i&&(t+=i.buffered.length)}}catch(o){c["logger"].error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(l["default"].BUFFER_FLUSHED)}},n.doAppending=function(){var e=this.config,t=this.hls,n=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(!this.media||this.media.error)return this.segments=[],void c["logger"].error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=n.shift();if(i)try{var o=r[i.type];if(!o)return void this._onSBUpdateEnd();if(o.updating)return void n.unshift(i);o.ended=!1,this.parent=i.parent,o.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(u){c["logger"].error("error while trying to append buffer:"+u.message),n.unshift(i);var a={type:s["ErrorTypes"].MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===u.code?(this.segments=[],a.details=s["ErrorDetails"].BUFFER_FULL_ERROR):(this.appendError++,a.details=s["ErrorDetails"].BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(c["logger"].log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0)),t.trigger(l["default"].ERROR,a)}}}},n.flushBuffer=function(e,t,n){var r=this.sourceBuffer;if(!Object.keys(r).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),c["logger"].log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return c["logger"].warn("abort flushing too many retries"),!0;var o=r[n];if(o){if(o.ended=!1,o.updating)return c["logger"].warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,o,e,t))return this.flushBufferCounter++,!1}return c["logger"].log("buffer flushed"),!0},n.removeBufferRange=function(e,t,n,r){try{for(var i=0;i<t.buffered.length;i++){var o=t.buffered.start(i),a=t.buffered.end(i),s=Math.max(o,n),u=Math.min(a,r);if(Math.min(u,a)-s>.5){var l="null";return this.media&&(l=this.media.currentTime.toString()),c["logger"].log("sb remove "+e+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+l),t.remove(s,u),!0}}}catch(h){c["logger"].warn("removeBufferRange failed",h)}return!1},t}(d),Dt=bt;function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),e}function Rt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Pt=function(e){function t(t){var n;return n=e.call(this,t,l["default"].FPS_DROP_LEVEL_CAPPING,l["default"].MEDIA_ATTACHING,l["default"].MANIFEST_PARSED,l["default"].BUFFER_CODECS,l["default"].MEDIA_DETACHING)||this,n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}Rt(t,e);var n=t.prototype;return n.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.stopCapping())},n.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},n.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},n.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},n.onBufferCodecs=function(e){var t=this.hls;t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},n.onLevelsUpdated=function(e){this.levels=e.levels},n.onMediaDetaching=function(){this.stopCapping()},n.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},n.getMaxLevel=function(e){var n=this;if(!this.levels)return-1;var r=this.levels.filter(function(r,i){return t.isLevelAllowed(i,n.restrictedLevels)&&i<=e});return t.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},n.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},t.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var r=function(e,t){return!t||(e.width!==t.width||e.height!==t.height)},i=e.length-1,o=0;o<e.length;o+=1){var a=e[o];if((a.width>=t||a.height>=n)&&r(a,e[o+1])){i=o;break}}return i},Mt(t,[{key:"mediaWidth",get:function(){var e,n=this.media;return n&&(e=n.width||n.clientWidth||n.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e,n=this.media;return n&&(e=n.height||n.clientHeight||n.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e}}]),t}(d),Ot=Pt;function Lt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Nt=window,Bt=Nt.performance,xt=function(e){function t(t){return e.call(this,t,l["default"].MEDIA_ATTACHING)||this}Lt(t,e);var n=t.prototype;return n.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},n.onMediaAttaching=function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){var n=this.video=e.media instanceof window.HTMLVideoElement?e.media:null;"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}},n.checkFPS=function(e,t,n){var r=Bt.now();if(t){if(this.lastTime){var i=r-this.lastTime,o=n-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/i,u=this.hls;if(u.trigger(l["default"].FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:n}),s>0&&o>u.config.fpsDroppedMonitoringThreshold*a){var h=u.currentLevel;c["logger"].warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=h)&&(h-=1,u.trigger(l["default"].FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:u.currentLevel}),u.autoLevelCapping=h,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},n.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(d),Ut=xt,Gt=window,Ft=Gt.performance,Qt=Gt.XMLHttpRequest,jt=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:Ft.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new Qt;var n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(i){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(i){return void this.callbacks.onError({code:e.status,text:i.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,i=this.context,o=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(Ft.now(),r.trequest)),4===n){var a=t.status;if(a>=200&&a<300){var s,u;r.tload=Math.max(r.tfirst,Ft.now()),"arraybuffer"===i.responseType?(s=t.response,u=s.byteLength):(s=t.responseText,u=s.length),r.loaded=r.total=u;var l={url:t.responseURL,data:s};this.callbacks.onSuccess(l,r,i,t)}else r.retry>=o.maxRetry||a>=400&&a<499?(c["logger"].error(a+" while loading "+i.url),this.callbacks.onError({code:a,text:t.statusText},i,t)):(c["logger"].warn(a+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},t.loadtimeout=function(){c["logger"].warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var r=this.callbacks.onProgress;r&&r(n,this.context,null,t)},e}(),Ht=jt;function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}function qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Jt=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MANIFEST_LOADING,l["default"].MANIFEST_PARSED,l["default"].AUDIO_TRACK_LOADED,l["default"].AUDIO_TRACK_SWITCHED,l["default"].LEVEL_LOADED,l["default"].ERROR)||this,n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}qt(t,e);var n=t.prototype;return n.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},n.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(l["default"].AUDIO_TRACKS_UPDATED,{audioTracks:t})},n.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)c["logger"].warn("Invalid audio track id:",e.id);else{if(c["logger"].log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},n.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},n.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var n=t.audioGroupIds[t.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},n.onError=function(e){e.type===s["ErrorTypes"].NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR&&(c["logger"].warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},n._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)c["logger"].debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)c["logger"].warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];c["logger"].log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var n=t.url,r=t.type,i=t.id;this.hls.trigger(l["default"].AUDIO_TRACK_SWITCHING,{id:i,type:r,url:n}),this._loadTrackDetailsIfNeeded(t)}},n.doTick=function(){this._updateTrack(this._trackId)},n._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var n=this.tracks[this._trackId],r=null;if(n&&(r=n.name),this._selectDefaultTrack){var i=t.filter(function(e){return e.default});i.length?t=i:c["logger"].warn("No default audio tracks defined")}var o=!1,a=function(){t.forEach(function(t){o||e.audioGroupId&&t.groupId!==e.audioGroupId||r&&r!==t.name||(e._setAudioTrack(t.id),o=!0)})};a(),o||(r=null,a()),o||(c["logger"].error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},n._needsTrackLoading=function(e){var t=e.details,n=e.url;return!(t&&!t.live)&&!!n},n._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,n=e.id;c["logger"].log("loading audio-track playlist for id: "+n),this.hls.trigger(l["default"].AUDIO_TRACK_LOADING,{url:t,id:n})}},n._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,c["logger"].log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},n._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],n=t.name,r=t.language,i=t.groupId;c["logger"].warn("Loading failed on audio track id: "+e+", group-id: "+i+', name/language: "'+n+'" / "'+r+'"');for(var o=e,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]){var s=this.tracks[a];if(s.name===n){o=a;break}}o!==e?(c["logger"].log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),this._setAudioTrack(o)):c["logger"].warn('No fallback audio-track found for name/language: "'+n+'" / "'+r+'"')},Yt(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1}}]),t}(He),Vt=Jt;function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),e}function Xt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Zt=window,$t=Zt.performance,en=100,tn=function(e){function t(t,n){var r;return r=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHING,l["default"].AUDIO_TRACKS_UPDATED,l["default"].AUDIO_TRACK_SWITCHING,l["default"].AUDIO_TRACK_LOADED,l["default"].KEY_LOADED,l["default"].FRAG_LOADED,l["default"].FRAG_PARSING_INIT_SEGMENT,l["default"].FRAG_PARSING_DATA,l["default"].FRAG_PARSED,l["default"].ERROR,l["default"].BUFFER_RESET,l["default"].BUFFER_CREATED,l["default"].BUFFER_APPENDED,l["default"].BUFFER_FLUSHED,l["default"].INIT_PTS_FOUND)||this,r.fragmentTracker=n,r.config=t.config,r.audioCodecSwap=!1,r._state=Ye.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}Xt(t,e);var n=t.prototype;return n.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,this.videoTrackCC=n,c["logger"].log("InitPTS for cc: "+n+" found from video track: "+r),this.state===Ye.WAITING_INIT_PTS&&this.tick())},n.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(en),this.fragLoadError=0,t>0&&-1===e?(c["logger"].log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=Ye.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=Ye.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Ye.STOPPED},n.doTick=function(){var e,t,n,r=this.hls,i=r.config;switch(this.state){case Ye.ERROR:case Ye.PAUSED:case Ye.BUFFER_FLUSHING:break;case Ye.STARTING:this.state=Ye.WAITING_TRACK,this.loadedmetadata=!1;break;case Ye.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(e=this.nextLoadPosition,void 0===e)break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,h=ne.bufferInfo(a,e,i.maxBufferHole),f=ne.bufferInfo(s,e,i.maxBufferHole),d=h.len,p=h.end,g=this.fragPrevious,m=Math.min(i.maxBufferLength,i.maxMaxBufferLength),v=Math.max(m,f.len),A=this.audioSwitch,y=this.trackId;if((d<v||A)&&y<o.length){if(n=o[y].details,"undefined"===typeof n){this.state=Ye.WAITING_TRACK;break}if(!A&&this._streamEnded(h,n))return this.hls.trigger(l["default"].BUFFER_EOS,{type:"audio"}),void(this.state=Ye.ENDED);var E,C=n.fragments,_=C.length,T=C[0].start,S=C[_-1].start+C[_-1].duration;if(A)if(n.live&&!n.PTSKnown)c["logger"].log("switching audiotrack, live stream, unknown PTS,load first fragment"),p=0;else if(p=e,n.PTSKnown&&e<T){if(!(h.end>T||h.nextStart))return;c["logger"].log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=T+.05}if(n.initSegment&&!n.initSegment.data)E=n.initSegment;else if(p<=T){if(E=C[0],null!==this.videoTrackCC&&E.cc!==this.videoTrackCC&&(E=we(C,this.videoTrackCC)),n.live&&E.loadIdx&&E.loadIdx===this.fragLoadIdx){var w=h.nextStart?h.nextStart:T;return c["logger"].log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(w+.05)),void(this.media.currentTime=w+.05)}}else{var I,b=i.maxFragLookUpTolerance,D=g?C[g.sn-C[0].sn+1]:void 0,k=function(e){var t=Math.min(b,e.duration);return e.start+e.duration-t<=p?1:e.start-t>p&&e.start?-1:0};p<S?(p>S-b&&(b=0),I=D&&!k(D)?D:te.search(C,k)):I=C[_-1],I&&(E=I,T=I.start,g&&E.level===g.level&&E.sn===g.sn&&(E.sn<n.endSN?(E=C[E.sn+1-n.startSN],c["logger"].log("SN just loaded, load next one: "+E.sn)):E=null))}E&&(E.encrypted?(c["logger"].log("Loading key for "+E.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+y),this.state=Ye.KEY_LOADING,r.trigger(l["default"].KEY_LOADING,{frag:E})):(c["logger"].log("Loading "+E.sn+", cc: "+E.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+y+", currentTime:"+e+",bufferEnd:"+p.toFixed(3)),this.fragCurrent=E,(A||this.fragmentTracker.getState(E)===Z.NOT_LOADED)&&("initSegment"!==E.sn&&(this.startFragRequested=!0),Object(u["isFiniteNumber"])(E.sn)&&(this.nextLoadPosition=E.start+E.duration),r.trigger(l["default"].FRAG_LOADING,{frag:E}),this.state=Ye.FRAG_LOADING)))}break;case Ye.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=Ye.IDLE);break;case Ye.FRAG_LOADING_WAITING_RETRY:var M=$t.now(),R=this.retryDate;a=this.media;var P=a&&a.seeking;(!R||M>=R||P)&&(c["logger"].log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ye.IDLE);break;case Ye.WAITING_INIT_PTS:var O=this.videoTrackCC;if(void 0===this.initPTS[O])break;var L=this.waitingFragment;if(L){var N=L.frag.cc;O!==N?(t=this.tracks[this.trackId],t.details&&t.details.live&&(c["logger"].warn("Waiting fragment CC ("+N+") does not match video track CC ("+O+")"),this.waitingFragment=null,this.state=Ye.IDLE)):(this.state=Ye.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ye.IDLE;break;case Ye.STOPPED:case Ye.FRAG_LOADING:case Ye.PARSING:case Ye.PARSED:case Ye.ENDED:break;default:break}},n.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(c["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},n.onAudioTracksUpdated=function(e){c["logger"].log("audio tracks updated"),this.tracks=e.audioTracks},n.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=Ye.PAUSED,this.waitingFragment=null,t?this.setInterval(en):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=Ye.IDLE),this.tick()},n.onAudioTrackLoaded=function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,o=0;if(c["logger"].log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var a=r.details;a&&t.fragments.length>0?(ve(a,t),o=t.fragments[0].start,t.PTSKnown?c["logger"].log("live audio playlist sliding:"+o.toFixed(3)):c["logger"].log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,c["logger"].log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;Object(u["isFiniteNumber"])(s)?(c["logger"].log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):t.live?(this.startPosition=this.computeLivePosition(o,t),c["logger"].log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ye.WAITING_TRACK&&(this.state=Ye.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===Ye.KEY_LOADING&&(this.state=Ye.IDLE,this.tick())},n.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===Ye.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var r=this.tracks[this.trackId],i=r.details,o=i.totalduration,a=t.level,s=t.sn,u=t.cc,h=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",f=this.stats=e.stats;if("initSegment"===s)this.state=Ye.IDLE,f.tparsed=f.tbuffered=$t.now(),i.initSegment.data=e.payload,this.hls.trigger(l["default"].FRAG_BUFFERED,{stats:f,frag:t,id:"audio"}),this.tick();else{this.state=Ye.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new de(this.hls,"audio"));var d=this.initPTS[u],p=i.initSegment?i.initSegment.data:[];if(i.initSegment||void 0!==d){this.pendingBuffering=!0,c["logger"].log("Demuxing "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+a);var g=!1;this.demuxer.push(e.payload,p,h,null,t,o,g,d)}else c["logger"].log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+i.startSN+" ,"+i.endSN+"],track "+a),this.waitingFragment=e,this.state=Ye.WAITING_INIT_PTS}}this.fragLoadError=0},n.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ye.PARSING){var r,i=e.tracks;if(i.video&&delete i.video,r=i.audio,r){r.levelCodec=r.codec,r.id=e.id,this.hls.trigger(l["default"].BUFFER_CODECS,i),c["logger"].log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l["default"].BUFFER_APPENDING,a))}this.tick()}}},n.onFragParsingData=function(e){var t=this,n=this.fragCurrent,r=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&r.sn===n.sn&&r.level===n.level&&this.state===Ye.PARSING){var i=this.trackId,o=this.tracks[i],a=this.hls;Object(u["isFiniteNumber"])(e.endPTS)||(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),n.addElementaryStream(v.AUDIO),c["logger"].log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),me(o.details,n,e.startPTS,e.endPTS);var h=this.audioSwitch,f=this.media,d=!1;if(h)if(f&&f.readyState){var p=f.currentTime;c["logger"].log("switching audio track : currentTime:"+p),p>=e.startPTS&&(c["logger"].log("switching audio track : flushing all audio"),this.state=Ye.BUFFER_FLUSHING,a.trigger(l["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,a.trigger(l["default"].AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,a.trigger(l["default"].AUDIO_TRACK_SWITCHED,{id:i});var g=this.pendingData;if(!g)return c["logger"].warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void a.trigger(l["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&g.push({type:e.type,data:t,parent:"audio",content:"data"})}),!d&&g.length&&(g.forEach(function(e){t.state===Ye.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(l["default"].BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},n.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Ye.PARSING&&(this.stats.tparsed=$t.now(),this.state=Ye.PARSED,this._checkAppendedParsed())},n.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},n.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==Ye.PARSING&&t!==Ye.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(this.state===Ye.PARSED&&(!this.appended||!this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=$t.now(),n.trigger(l["default"].FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;r&&c["logger"].log("audio buffered : "+Te.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(l["default"].AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ye.IDLE}this.tick()}},n.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:var n=e.frag;if(n&&"audio"!==n.type)break;if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var i=this.config;if(r<=i.fragLoadingMaxRetry){this.fragLoadError=r;var o=Math.min(Math.pow(2,r-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);c["logger"].warn("AudioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=$t.now()+o,this.state=Ye.FRAG_LOADING_WAITING_RETRY}else c["logger"].error("AudioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Ye.ERROR}break;case s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR:case s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:this.state!==Ye.ERROR&&(this.state=e.fatal?Ye.ERROR:Ye.IDLE,c["logger"].warn("AudioStreamController: "+e.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===Ye.PARSING||this.state===Ye.PARSED)){var a=this.mediaBuffer,u=this.media.currentTime,h=a&&ne.isBuffered(a,u)&&ne.isBuffered(a,u+.5);if(h){var f=this.config;f.maxMaxBufferLength>=f.maxBufferLength&&(f.maxMaxBufferLength/=2,c["logger"].warn("AudioStreamController: reduce max buffer length to "+f.maxMaxBufferLength+"s")),this.state=Ye.IDLE}else c["logger"].warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ye.BUFFER_FLUSHING,this.hls.trigger(l["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}break;default:break}},n.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(c["logger"].log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(l["default"].BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Ye.PARSED):(this.state=Ye.IDLE,this.fragPrevious=null,this.tick())},zt(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,c["logger"].log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(qe),nn=tn,rn=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){if("string"!==typeof e)return!1;var n=t[e.toLowerCase()];return!!n&&e.toLowerCase()}function i(e){if("string"!==typeof e)return!1;var t=n[e.toLowerCase()];return!!t&&e.toLowerCase()}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function a(t,n,a){var s=this,u={enumerable:!0};s.hasBeenReset=!1;var l="",c=!1,h=t,f=n,d=a,p=null,g="",m=!0,v="auto",A="start",y=50,E="middle",C=50,_="middle";Object.defineProperty(s,"id",o({},u,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(s,"pauseOnExit",o({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",o({},u,{get:function(){return h},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},u,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},u,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},u,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},u,{get:function(){return g},set:function(e){var t=r(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},u,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},u,{get:function(){return v},set:function(t){if("number"!==typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},u,{get:function(){return A},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},u,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},u,{get:function(){return E},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},u,{get:function(){return C},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");C=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},u,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){var e=window.WebVTT;return e.convertCueToDOMTree(window,this.text)},a}(),on=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function an(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new on,this.regionList=[]}function sn(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function un(){this.values=Object.create(null)}function ln(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}un.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var cn=new rn(0,0,0),hn="middle"===cn.align?"middle":"center";function fn(e,t,n){var r=e;function i(){var t=sn(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(e,t){var r=new un;ln(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",hn,"end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",hn,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",hn,"end","left","right"]);break}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===cn.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",hn);var o=r.get("position","auto");"auto"===o&&50===cn.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),o(e,t)}function dn(e){return e.replace(/<br(?: \/)?>/gi,"\n")}an.prototype={parse:function(e){var t=this;function n(){var e=t.buffer,n=0;e=dn(e);while(n<e.length&&"\r"!==e[n]&&"\n"!==e[n])++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){ln(e,function(e,t){switch(e){case"Region":break}},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;i=n();var o=i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}var a=!1;while(t.buffer){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new rn(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{fn(i,t.cue,t.regionList)}catch(u){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(u){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return e.onflush&&e.onflush(),this}};var pn=an;function gn(e,t,n,r){for(var i,o,a,s,u,l=window.VTTCue||TextTrackCue,c=0;c<r.rows.length;c++)if(i=r.rows[c],a=!0,s=0,u="",!i.isEmpty()){for(var h=0;h<i.chars.length;h++)i.chars[h].uchar.match(/\s/)&&a?s++:(u+=i.chars[h].uchar,a=!1);i.cueStartTime=t,t===n&&(n+=1e-4),o=new l(t,n,dn(u.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?o.line=c+1:o.line=c>7?c-2:c+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100)),e.addCue(o)}}var mn,vn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},An=function(e){var t=e;return vn.hasOwnProperty(e)&&(t=vn[e]),String.fromCharCode(t)},yn=15,En=100,Cn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_n={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Tn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Sn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},wn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(e){e[e["ERROR"]=0]="ERROR",e[e["TEXT"]=1]="TEXT",e[e["WARNING"]=2]="WARNING",e[e["INFO"]=2]="INFO",e[e["DEBUG"]=3]="DEBUG",e[e["DATA"]=3]="DATA"})(mn||(mn={}));var In={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},bn=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},Dn=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),kn=function(){function e(e,t,n,r,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new Dn(t,n,r,i,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),Mn=function(){function e(){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.chars=[];for(var e=0;e<En;e++)this.chars.push(new kn);this.pos=0,this.currPenState=new Dn}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<En;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<En;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<En;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(In.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>En&&(In.log("ERROR","Too large cursor position "+this.pos),this.pos=En)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=An(e);this.pos>=En?In.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<En;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<En;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e);var t=this.chars[this.pos];t.setPenState(this.currPenState)},e}(),Rn=function(){function e(){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.rows=[];for(var e=0;e<yn;e++)this.rows.push(new Mn);this.currRow=yn-1,this.nrRollUpRows=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<yn;e++)this.rows[e].clear();this.currRow=yn-1},t.equals=function(e){for(var t=!0,n=0;n<yn;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<yn;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<yn;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){var e=this.rows[this.currRow];e.backSpace()},t.clearToEndOfRow=function(){var e=this.rows[this.currRow];e.clearToEndOfRow()},t.insertChar=function(e){var t=this.rows[this.currRow];t.insertChar(e)},t.setPen=function(e){var t=this.rows[this.currRow];t.setPenStyles(e)},t.moveCursor=function(e){var t=this.rows[this.currRow];t.moveCursor(e)},t.setCursor=function(e){In.log("INFO","setCursor: "+e);var t=this.rows[this.currRow];t.setCursor(e)},t.setPAC=function(e){In.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<yn;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&In.time&&o<In.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[t-this.nrRollUpRows+a+1].copy(i.rows[r+a])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,l=Math.max(u-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},t.setBkgData=function(e){In.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){In.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),In.log("INFO","Rolling up")}else In.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<yn;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),Pn=function(){function e(e,t){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.lastCueEndTime=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Rn,this.nonDisplayedMemory=new Rn,this.lastOutputScreen=new Rn,this.currRollUpRow=this.displayedMemory.rows[yn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[yn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,In.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";In.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(In.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){In.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){In.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){In.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){In.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){In.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){In.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){In.log("INFO","TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){In.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){In.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){In.log("INFO","CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){In.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(In.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,In.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){In.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}In.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=In.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),On=function(){function e(e,t,n){this.field=void 0,this.outputs=void 0,this.channels=void 0,this.currChNr=void 0,this.lastCmdA=void 0,this.lastCmdB=void 0,this.lastTime=void 0,this.dataCounters=void 0,this.field=e||1,this.outputs=[t,n],this.channels=[new Pn(1,t),new Pn(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,r,i,o=!1;this.lastTime=e,In.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(In.log("DATA","["+bn([t[a],t[a+1]])+"] -> ("+bn([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i),o))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else In.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,In.log("WARNING","Couldn't parse cleaned data "+bn([r,i])+" orig: "+bn([t[a],t[a+1]])))}else this.dataCounters.padding+=2},t.parseCmd=function(e,t){var n=null,r=(20===e||28===e)&&t>=32&&t<=47,i=(23===e||31===e)&&t>=33&&t<=35;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,In.log("DEBUG","Repeated command ("+bn([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},t.parseMidrow=function(e,t){var n=null;if((17===e||25===e)&&t>=32&&t<=47){if(n=17===e?1:2,n!==this.currChNr)return In.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.ccMIDROW(t),In.log("DEBUG","MIDROW ("+bn([e,t])+")"),!0}return!1},t.parsePAC=function(e,t){var n=null,r=null,i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,o=(16===e||24===e)&&t>=64&&t<=95;if(!i&&!o)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=t>=64&&t<=95?1===n?Cn[e]:Tn[e]:1===n?_n[e]:Sn[e];var a=this.interpretPAC(r,t),s=this.channels[n-1];return s.setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},t.interpretPAC=function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n=null,r=null,i=null;if(e>=25?(n=2,i=e-8):(n=1,i=e),i>=17&&i<=19){var o=t;o=17===i?t+80:18===i?t+112:t+144,In.log("INFO","Special char '"+An(o)+"' in channel "+n),r=[o]}else e>=32&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var a=bn(r);In.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},t.parseBackgroundAttributes=function(e,t){var n,r,i,o,a=(16===e||24===e)&&t>=32&&t<=47,s=(23===e||31===e)&&t>=45&&t<=47;return!(!a&&!s)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=wn[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},t.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),Ln=On,Nn=function(){function e(e,t){this.timelineController=void 0,this.trackName=void 0,this.startTime=void 0,this.endTime=void 0,this.screen=void 0,this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e}(),Bn=function(e,t,n){return e.substr(n||0,t.length)===t},xn=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),r=parseInt(e.substr(-9,2)),i=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;if(!Object(u["isFiniteNumber"])(t)||!Object(u["isFiniteNumber"])(n)||!Object(u["isFiniteNumber"])(r)||!Object(u["isFiniteNumber"])(i))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,t+=6e4*r,t+=36e5*i,t},Un=function(e){var t=5381,n=e.length;while(n)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},Gn=function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);while(i&&i.new)e.ccOffset+=r.start-i.start,r.new=!1,r=i,i=e[r.prevCC];e.presentationOffset=n},Fn={parse:function(e,t,n,r,i,o){var a,s=/\r\n|\n\r|\n|\r/g,u=Object(ot["utf8ArrayToStr"])(new Uint8Array(e)).trim().replace(s,"\n").split("\n"),l="00:00.000",c=0,h=0,f=0,d=[],p=!0,g=!1,m=new pn;m.oncue=function(e){var t=n[r],i=n.ccOffset;t&&t.new&&(void 0!==h?i=n.ccOffset=t.start:Gn(n,r,f)),f&&(i=f-n.presentationOffset),g&&(e.startTime+=i-h,e.endTime+=i-h),e.id=Un(e.startTime.toString())+Un(e.endTime.toString())+Un(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&d.push(e)},m.onparsingerror=function(e){a=e},m.onflush=function(){a&&o?o(a):i(d)},u.forEach(function(e){if(p){if(Bn(e,"X-TIMESTAMP-MAP=")){p=!1,g=!0,e.substr(16).split(",").forEach(function(e){Bn(e,"LOCAL:")?l=e.substr(6):Bn(e,"MPEGTS:")&&(c=parseInt(e.substr(7)))});try{t+(9e4*n[r].start||0)<0&&(t+=8589934592),c-=t,h=xn(l)/1e3,f=c/9e4}catch(i){g=!1,a=i}return}""===e&&(p=!1)}m.parse(e+"\n")}),m.flush()}},Qn=Fn;function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Kn=function(e){function t(t){var n;if(n=e.call(this,t,l["default"].MEDIA_ATTACHING,l["default"].MEDIA_DETACHING,l["default"].FRAG_PARSING_USERDATA,l["default"].FRAG_DECRYPTED,l["default"].MANIFEST_LOADING,l["default"].MANIFEST_LOADED,l["default"].FRAG_LOADED,l["default"].INIT_PTS_FOUND)||this,n.media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.cueRanges=[],n.captionsTracks={},n.captionsProperties=void 0,n.cea608Parser=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs=null,n.hls=t,n.config=t.config,n.Cues=t.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode}},n.config.enableCEA708Captions){var r=new Nn(jn(n),"textTrack1"),i=new Nn(jn(n),"textTrack2");n.cea608Parser=new Ln(0,r,i)}return n}Hn(t,e);var n=t.prototype;return n.addCues=function(e,t,n,r){for(var i=this.cueRanges,o=!1,a=i.length;a--;){var s=i[a],u=qn(s[0],s[1],t,n);if(u>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],n),o=!0,u/(n-t)>.5))return}o||i.push([t,n]),this.Cues.newCue(this.captionsTracks[e],t,n,r)},n.onInitPtsFound=function(e){var t=this,n=e.frag,r=e.id,i=e.initPTS,o=this.unparsedVttFrags;"main"===r&&(this.initPTS[n.cc]=i),o.length&&(this.unparsedVttFrags=[],o.forEach(function(e){t.onFragLoaded(e)}))},n.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},n.createCaptionsTrack=function(e){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],o=i.label,a=i.languageCode;if(!n[e]){var s=this.getExistingTrack(e);if(s)n[e]=s,st(n[e]),at(n[e],r);else{var u=this.createTextTrack("captions",o,a);u&&(u[e]=!0,n[e]=u)}}},n.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},n.destroy=function(){e.prototype.destroy.call(this)},n.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},n.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){st(e[t]),delete e[t]})},n.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},n._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)st(t[n])}},n.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,r){var i;if(r<n.length){for(var o=null,a=0;a<n.length;a++)if(Yn(n[a],e)){o=n[a];break}o&&(i=o)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),e.default?i.mode=t.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",t.textTracks.push(i)})}},n.onFragLoaded=function(e){var t=e.frag,n=e.payload,r=this.cea608Parser,i=this.initPTS,o=this.lastSn,a=this.unparsedVttFrags;if("main"===t.type){var s=t.sn;t.sn!==o+1&&r&&r.reset(),this.lastSn=s}else if("subtitle"===t.type)if(n.byteLength){if(!Object(u["isFiniteNumber"])(i[t.cc]))return a.push(e),void(i.length&&this.hls.trigger(l["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t}));var c=t.decryptdata;null!=c&&null!=c.key&&"AES-128"===c.method||this._parseVTTs(t,n)}else this.hls.trigger(l["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},n._parseVTTs=function(e,t){var n=this.hls,r=this.prevCC,i=this.textTracks,o=this.vttCCs;o[e.cc]||(o[e.cc]={start:e.start,prevCC:r,new:!0},this.prevCC=e.cc),Qn.parse(t,this.initPTS[e.cc],o,e.cc,function(t){var r=i[e.level];"disabled"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{if(r.addCue(e),!r.cues.getCueById(e.id))throw new Error("addCue is failed for: "+e)}catch(n){c["logger"].debug("Failed occurred on adding cues: "+n);var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),n.trigger(l["default"].SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):n.trigger(l["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){c["logger"].log("Failed to parse VTT cue: "+t),n.trigger(l["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},n.onFragDecrypted=function(e){var t=e.frag,n=e.payload;if("subtitle"===t.type){if(!Object(u["isFiniteNumber"])(this.initPTS[t.cc]))return void this.unparsedVttFrags.push(e);this._parseVTTs(t,n)}},n.onFragParsingUserdata=function(e){if(this.enabled&&this.cea608Parser)for(var t=0;t<e.samples.length;t++){var n=e.samples[t].bytes;if(n){var r=this.extractCea608Data(n);this.cea608Parser.addData(e.samples[t].pts,r)}}},n.extractCea608Data=function(e){for(var t,n,r,i,o,a=31&e[0],s=2,u=[],l=0;l<a;l++)t=e[s++],n=127&e[s++],r=127&e[s++],i=0!==(4&t),o=3&t,0===n&&0===r||i&&0===o&&(u.push(n),u.push(r));return u},t}(d);function Yn(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function qn(e,t,n,r){return Math.min(t,r)-Math.max(e,n)}var Jn=Kn;function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t,n){return t&&Vn(e.prototype,t),n&&Vn(e,n),e}function zn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Xn=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHING,l["default"].MANIFEST_LOADED,l["default"].SUBTITLE_TRACK_LOADED)||this,n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}zn(t,e);var n=t.prototype;return n.destroy=function(){d.prototype.destroy.call(this)},n.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(Object(u["isFiniteNumber"])(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(u["isFiniteNumber"])(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);var e=Zn(this.media.textTracks);e.forEach(function(e){st(e)}),this.subtitleTrack=-1,this.media=null}},n.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.hls.trigger(l["default"].SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},n.onSubtitleTrackLoaded=function(e){var t=this,n=e.id,r=e.details,i=this.trackId,o=this.tracks,a=o[i];if(n>=o.length||n!==i||!a||this.stopped)this._clearReloadTimer();else if(c["logger"].log("subtitle track "+n+" loaded"),r.live){var s=Ce(a.details,r,e.stats.trequest);c["logger"].log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},s)}else this._clearReloadTimer()},n.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},n._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,n=this.hls,r=t[e];e<0||!r||r.details&&!r.details.live||(c["logger"].log("Loading subtitle track "+e),n.trigger(l["default"].SUBTITLE_TRACK_LOADING,{url:r.url,id:e}))},n._toggleTrackModes=function(e){var t=this.media,n=this.subtitleDisplay,r=this.trackId;if(t){var i=Zn(t.textTracks);if(-1===e)[].slice.call(i).forEach(function(e){e.mode="disabled"});else{var o=i[r];o&&(o.mode="disabled")}var a=i[e];a&&(a.mode=n?"showing":"hidden")}},n._setSubtitleTrackInternal=function(e){var t=this.hls,n=this.tracks;!Object(u["isFiniteNumber"])(e)||e<-1||e>=n.length||(this.trackId=e,c["logger"].log("Switching to subtitle track "+e),t.trigger(l["default"].SUBTITLE_TRACK_SWITCH,{id:e}),this._loadCurrentTrack())},n._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=Zn(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack=e}},Wn(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))}}]),t}(d);function Zn(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}var $n=Xn,er=n("./src/crypt/decrypter.js");function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var rr,ir=window,or=ir.performance,ar=500,sr=function(e){function t(t,n){var r;return r=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHING,l["default"].ERROR,l["default"].KEY_LOADED,l["default"].FRAG_LOADED,l["default"].SUBTITLE_TRACKS_UPDATED,l["default"].SUBTITLE_TRACK_SWITCH,l["default"].SUBTITLE_TRACK_LOADED,l["default"].SUBTITLE_FRAG_PROCESSED,l["default"].LEVEL_UPDATED)||this,r.fragmentTracker=n,r.config=t.config,r.state=Ye.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new er["default"](t,t.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(tr(r)),r}nr(t,e);var n=t.prototype;return n.onSubtitleFragProcessed=function(e){var t=e.frag,n=e.success;if(this.fragPrevious=t,this.state=Ye.IDLE,n){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var i,o=t.start,a=0;a<r.length;a++)if(o>=r[a].start&&o<=r[a].end){i=r[a];break}var s=t.start+t.duration;i?i.end=s:(i={start:o,end:s},r.push(i))}}},n.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=Ye.IDLE},n.onMediaDetaching=function(){var e=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]}),this.media=null,this.state=Ye.STOPPED)},n.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=Ye.IDLE)},n.onSubtitleTracksUpdated=function(e){var t=this;c["logger"].log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},n.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(ar)}else this.clearInterval()},n.onSubtitleTrackLoaded=function(e){var t=e.id,n=e.details,r=this.currentTrackId,i=this.tracks,o=i[r];t>=i.length||t!==r||!o||(n.live&&Ae(o.details,n,this.lastAVStart),o.details=n,this.setInterval(ar))},n.onKeyLoaded=function(){this.state===Ye.KEY_LOADING&&(this.state=Ye.IDLE)},n.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,r=e.frag,i=this.hls;if(this.state===Ye.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var o=or.now();this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,function(e){var t=or.now();i.trigger(l["default"].FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:o,tdecrypt:t}})})}},n.onLevelUpdated=function(e){var t=e.details,n=t.fragments;this.lastAVStart=n.length?n[0].start:0},n.doTick=function(){if(this.media)switch(this.state){case Ye.IDLE:var e=this.config,t=this.currentTrackId,n=this.fragmentTracker,r=this.media,i=this.tracks;if(!i||!i[t]||!i[t].details)break;var o,a=e.maxBufferHole,s=e.maxFragLookUpTolerance,u=Math.min(e.maxBufferLength,e.maxMaxBufferLength),h=ne.bufferedInfo(this._getBuffered(),r.currentTime,a),f=h.end,d=h.len,p=i[t].details,g=p.fragments,m=g.length,v=g[m-1].start+g[m-1].duration;if(d>u)return;var A=this.fragPrevious;f<v?(A&&p.hasProgramDateTime&&(o=Pe(g,A.endProgramDateTime,s)),o||(o=Oe(A,g,f,s))):o=g[m-1],o&&o.encrypted?(c["logger"].log("Loading key for "+o.sn),this.state=Ye.KEY_LOADING,this.hls.trigger(l["default"].KEY_LOADING,{frag:o})):o&&n.getState(o)===Z.NOT_LOADED&&(this.fragCurrent=o,this.state=Ye.FRAG_LOADING,this.hls.trigger(l["default"].FRAG_LOADING,{frag:o}))}else this.state=Ye.IDLE},n.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},n._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},n.onMediaSeeking=function(){this.fragPrevious=null},t}(qe);(function(e){e["WIDEVINE"]="com.widevine.alpha",e["PLAYREADY"]="com.microsoft.playready"})(rr||(rr={}));var ur=function(){return"undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}();function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}function hr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var fr=3,dr=function(e,t){var n={videoCapabilities:[]};return t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n]},pr=function(e,t,n){switch(e){case rr.WIDEVINE:return dr(t,n);default:throw new Error("Unknown key-system: "+e)}},gr=function(e){function t(t){var n;return n=e.call(this,t,l["default"].MEDIA_ATTACHED,l["default"].MEDIA_DETACHED,l["default"].MANIFEST_PARSED)||this,n._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n._onMediaEncrypted=function(e){c["logger"].log('Media is encrypted using "'+e.initDataType+'" init data type'),n._attemptSetMediaKeys(),n._generateRequestWithPreferredKeySession(e.initDataType,e.initData)},n._config=t.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n}hr(t,e);var n=t.prototype;return n.getLicenseServerUrl=function(e){switch(e){case rr.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},n._attemptKeySystemAccess=function(e,t,n){var r=this,i=pr(e,t,n);c["logger"].log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,i).then(function(t){r._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){c["logger"].error('Failed to obtain key-system "'+e+'" access:',t)})},n._onMediaKeySystemAccessObtained=function(e,t){var n=this;c["logger"].log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r),t.createMediaKeys().then(function(t){r.mediaKeys=t,c["logger"].log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated()}).catch(function(e){c["logger"].error("Failed to create media-keys:",e)})},n._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},n._onNewMediaKeySession=function(e){var t=this;c["logger"].log("New key-system session "+e.sessionId),e.addEventListener("message",function(n){t._onKeySessionMessage(e,n.message)},!1)},n._onKeySessionMessage=function(e,t){c["logger"].log("Got EME message event, creating license request"),this._requestLicense(t,function(t){c["logger"].log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t)})},n._attemptSetMediaKeys=function(){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return c["logger"].error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_KEYS,fatal:!0});c["logger"].log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},n._generateRequestWithPreferredKeySession=function(e,t){var n=this,r=this._mediaKeysList[0];if(!r)return c["logger"].error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});if(r.mediaKeysSessionInitialized)c["logger"].warn("Key-Session already initialized but requested again");else{var i=r.mediaKeysSession;if(!i)return c["logger"].error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return c["logger"].warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_INIT_DATA,fatal:!0});c["logger"].log('Generating key-session request for "'+e+'" init data type'),r.mediaKeysSessionInitialized=!0,i.generateRequest(e,t).then(function(){c["logger"].debug("Key-session generation succeeded")}).catch(function(e){c["logger"].error("Error generating key-session request:",e),n.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!1})})}},n._createLicenseXhr=function(e,t,n){var r=new XMLHttpRequest,i=this._licenseXhrSetup;try{if(i)try{i(r,e)}catch(o){r.open("POST",e,!0),i(r,e)}r.readyState||r.open("POST",e,!0)}catch(o){throw new Error("issue setting up KeySystem license XHR "+o)}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n),r},n._onLicenseRequestReadyStageChange=function(e,t,n,r){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,c["logger"].log("License request succeeded"),"arraybuffer"!==e.responseType&&c["logger"].warn("xhr response type was not set to the expected arraybuffer for license request"),r(e.response);else{if(c["logger"].error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>fr)return void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var i=fr-this._requestLicenseFailureCount+1;c["logger"].warn("Retrying license request, "+i+" attempts left"),this._requestLicense(n,r)}break}},n._generateLicenseRequestChallenge=function(e,t){switch(e.mediaKeySystemDomain){case rr.WIDEVINE:return t}throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},n._requestLicense=function(e,t){c["logger"].log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return c["logger"].error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var r=this.getLicenseServerUrl(n.mediaKeySystemDomain),i=this._createLicenseXhr(r,e,t);c["logger"].log("Sending license request to URL: "+r);var o=this._generateLicenseRequestChallenge(n,e);i.send(o)}catch(a){c["logger"].error("Failure requesting DRM license: "+a),this.hls.trigger(l["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},n.onMediaAttached=function(e){if(this._emeEnabled){var t=e.media;this._media=t,t.addEventListener("encrypted",this._onMediaEncrypted)}},n.onMediaDetached=function(){this._media&&(this._media.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null)},n.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),n=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(rr.WIDEVINE,t,n)}},cr(t,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),t}(d),mr=gr;function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ar(e,t,n[t])})}return e}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yr=vr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ht,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:St,bufferController:Dt,capLevelController:Ot,fpsController:Ut,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:ur},Er(),{subtitleStreamController:sr,subtitleTrackController:$n,timelineController:Jn,audioStreamController:nn,audioTrackController:Vt,emeController:mr});function Er(){return{cueHandler:r,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es"}}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_r(e,t,n[t])})}return e}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t,n){return t&&Sr(e.prototype,t),n&&Sr(e,n),e}function Ir(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"default",function(){return br});var br=function(e){function t(n){var r;void 0===n&&(n={}),r=e.call(this)||this,r.config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var i=t.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=Cr({},i,n);var o=Tr(r),a=o.config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(c["enableLogs"])(a.debug),r._autoLevelCapping=-1;var s=r.abrController=new a.abrController(Tr(r)),u=new a.bufferController(Tr(r)),l=r.capLevelController=new a.capLevelController(Tr(r)),h=new a.fpsController(Tr(r)),f=new K(Tr(r)),d=new J(Tr(r)),p=new z(Tr(r)),g=new ht(Tr(r)),m=r.levelController=new it(Tr(r)),v=new $(Tr(r)),A=r.streamController=new Ze(Tr(r),v),y=[m,A],E=a.audioStreamController;E&&y.push(new E(Tr(r),v)),r.networkControllers=y;var C=[f,d,p,s,u,l,h,g,v];if(E=a.audioTrackController,E){var _=new E(Tr(r));r.audioTrackController=_,C.push(_)}if(E=a.subtitleTrackController,E){var T=new E(Tr(r));r.subtitleTrackController=T,y.push(T)}if(E=a.emeController,E){var S=new E(Tr(r));r.emeController=S,C.push(S)}return E=a.subtitleStreamController,E&&y.push(new E(Tr(r),v)),E=a.timelineController,E&&C.push(new E(Tr(r))),r.coreComponents=C,r}Ir(t,e),t.isSupported=function(){return ft()},wr(t,null,[{key:"version",get:function(){return"0.13.0"}},{key:"Events",get:function(){return l["default"]}},{key:"ErrorTypes",get:function(){return s["ErrorTypes"]}},{key:"ErrorDetails",get:function(){return s["ErrorDetails"]}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:yr},set:function(e){t.defaultConfig=e}}]);var n=t.prototype;return n.destroy=function(){c["logger"].log("destroy"),this.trigger(l["default"].DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},n.attachMedia=function(e){c["logger"].log("attachMedia"),this.media=e,this.trigger(l["default"].MEDIA_ATTACHING,{media:e})},n.detachMedia=function(){c["logger"].log("detachMedia"),this.trigger(l["default"].MEDIA_DETACHING),this.media=null},n.loadSource=function(e){e=a["buildAbsoluteURL"](window.location.href,e,{alwaysNormalize:!0}),c["logger"].log("loadSource:"+e),this.url=e,this.trigger(l["default"].MANIFEST_LOADING,{url:e})},n.startLoad=function(e){void 0===e&&(e=-1),c["logger"].log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},n.stopLoad=function(){c["logger"].log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},n.swapAudioCodec=function(){c["logger"].log("swapAudioCodec"),this.streamController.swapAudioCodec()},n.recoverMediaError=function(){c["logger"].log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},wr(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){c["logger"].log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){c["logger"].log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){c["logger"].log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){c["logger"].log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){c["logger"].log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){c["logger"].log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++){var i=e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate;if(i>t)return r}return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,n=this.autoLevelCapping;return e=-1===n&&t&&t.length?t.length-1:n,e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),t}(le);br.defaultConfig=void 0},"./src/polyfills/number-isFinite.js":
/*!******************************************!*\
  !*** ./src/polyfills/number-isFinite.js ***!
  \******************************************/
/*! exports provided: isFiniteNumber */function(e,t,n){"use strict";n.r(t),n.d(t,"isFiniteNumber",function(){return r});var r=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)}},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(e,t,n){"use strict";function r(){return"undefined"===typeof window?self:window}n.r(t),n.d(t,"getSelfScope",function(){return r})},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(e,t,n){"use strict";n.r(t),n.d(t,"enableLogs",function(){return h}),n.d(t,"logger",function(){return f});var r=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function i(){}var o={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=o;function s(e,t){return t="["+e+"] > "+t,t}var u=Object(r["getSelfScope"])();function l(e){var t=u.console[e];return t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=s(e,r[0])),t.apply(u.console,r)}:i}function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){a[t]=e[t]?e[t].bind(e):l(t)})}var h=function(e){if(u.console&&!0===e||"object"===typeof e){c(e,"debug","log","info","warn","error");try{a.log()}catch(t){a=o}}else a=o},f=a}})["default"]})},bc13:function(e,t,n){var r=n("e53d"),i=r.navigator;e.exports=i&&i.userAgent||""},bcd4:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showLoading?n("div",{staticClass:"mask"},[n("van-loading",{attrs:{vertical:"true",size:"30px"}}),n("span",{staticStyle:{"margin-top":"10px"}},[e._v("加载中...")])],1):e._e()},i=[],o={props:{},data:function(){return{showLoading:!0}},methods:{Loading:function(){var e=this;this.$nextTick(function(){e.$set(e,"showLoading",!1)})},showLoading2:function(){this.$nextTick(function(){that.$set(that,"showLoading",!0)})}}},a=o,s=(n("6431"),n("2877")),u=Object(s["a"])(a,r,i,!1,null,"2ca52ec3",null);t["default"]=u.exports},be09:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("c8ba"))},bfa1:function(e,t,n){"use strict";n.r(t),function(e){n("7f7f"),n("386d"),n("3b2b"),n("28a5"),n("a481"),n("4917"),n("c5f6"),n("34ef"),n("6b54"),n("6c7b"),n("ac6a"),n("cadf"),n("456d"),n("ac4d");var t=n("7618");!function(r,i){"object"==("undefined"===typeof exports?"undefined":Object(t["a"])(exports))&&"object"==Object(t["a"])(e)?e.exports=i():"function"==typeof define&&n("3c35")?define([],i):"object"==("undefined"===typeof exports?"undefined":Object(t["a"])(exports))?exports.TLSHelper=i():r.TLSHelper=i()}(window,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==Object(t["a"])(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(6),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(4);o.inherits=n(0);var a=n(11),s=n(10);o.inherits(h,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(i){"object"==("undefined"===typeof window?"undefined":Object(t["a"])(window))&&(r=window)}e.exports=r},function(e,t,n){var r=n(7),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,n,r){(function(e){function r(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==Object(t["a"])(e)},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===r(e)},n.isObject=function(e){return"object"==Object(t["a"])(e)&&null!==e},n.isDate=function(e){return"[object Date]"===r(e)},n.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==Object(t["a"])(e)||void 0===e},n.isBuffer=e.isBuffer}).call(this,r(7).Buffer)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(5))},function(e,t,n){(function(e){
/*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
       * @license  MIT
       */
var r=n(20),i=n(21),o=n(22);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=!1;break}if(h)return o}return-1}function A(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return j(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return E(e,t,n,r)}function _(e,t,n,r){return j(Q(t),e,n,r)}function T(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return b(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function b(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:F(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(2))},function(e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"==Object(t["a"])(e)&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,u=0;u<r;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(11)).Stream=t,t.Readable=t,t.Writable=n(10),t.Duplex=n(1),t.Transform=n(15),t.PassThrough=n(32)},function(e,t,n){(function(t,r,i){var o=n(6);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=A;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;A.WritableState=v;var l=n(4);l.inherits=n(0);var c,h={deprecate:n(31)},f=n(12),d=n(3).Buffer,p=i.Uint8Array||function(){},g=n(13);function m(){}function v(e,t){s=s||n(1),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,i);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||C(e,n),r?u(E,e,n,a,i):E(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function A(e){if(s=s||n(1),!(c.call(A,this)||this instanceof s))return new A(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function C(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var n=_(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(A,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===A&&e&&e._writableState instanceof v}})):c=function(e){return e instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(e,t,n){var r=this._writableState,i=!1,a=!r.objectMode&&function(e){return d.isBuffer(e)||e instanceof p}(e);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=m),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,r,e,n))&&(r.pendingcb++,i=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return u}(this,r,a,e,t,n)),i},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||C(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=g.destroy,A.prototype._undestroy=g.undestroy,A.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(5),n(29).setImmediate,n(2))},function(e,t,n){(function(t,r){var i=n(6);e.exports=y;var o,a=n(25);y.ReadableState=A,n(8).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(12),l=n(3).Buffer,c=t.Uint8Array||function(){},h=n(4);h.inherits=n(0);var f=n(26),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(27),m=n(13);h.inherits(y,u);var v=["error","close","destroy","pause","resume"];function A(e,t){o=o||n(1),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(14).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(1),!(this instanceof y))return new y(e);this._readableState=new A(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function E(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,a)):(i||(o=function(e,t){var n;return function(e){return l.isBuffer(e)||e instanceof c}(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?C(e,a,t,!1):I(e,a)):C(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),I(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},y.prototype.unshift=function(e){return E(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(14).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(w,e):w(e))}function w(e){d("emit readable"),e.emit("readable"),M(e)}function I(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){d("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?y:c;function l(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",A),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",l);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",h);var f=!1,p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){d("onerror",t),y(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",A),y()}function A(){d("onfinish"),e.removeListener("close",v),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",v),e.once("finish",A),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(D,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=R}).call(this,n(2),n(5))},function(e,t,n){e.exports=n(8).EventEmitter},function(e,t,n){var r=n(6);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(3).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"锟�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"锟�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"锟�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"锟�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=o;var r=n(1),i=n(4);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(0),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var r=n(17),i=n(18),o="https://tls.qcloud.com",a={};function s(e,t){var n=function(e,t){if(!e)throw new Error('we need sdkappid and url, like {sdkappid: 123, url: "http://www.example.com/success.html"}');for(var n=["sdkappid","url"],i=0;i<n.length;i++)if(!e[n[i]])throw new Error("we need option "+n[i]);var a=o+"/portal.html";for(var s in e)e.hasOwnProperty(s)&&"function"!=typeof e[s]&&(a=r.setQuery(a,s,e[s]));return t&&(a=r.setQuery(a,"action","reg")),a}(e,t);e.iframe?(function(e){r.on(window,"message",function(t){var n=JSON.parse(t.data);switch(n.action){case"resize":e.onresize&&e.onresize(n.width,n.height);break;case"password-changed":e.onpasswordChanged&&e.onpasswordChanged()}}),window.postMessage||function(e){navigator._tls_onresize=function(t,n){e.onresize&&e.onresize(t,n)},navigator._tls_onpasswordChanged=function(){e.onpasswordChanged&&e.onpasswordChanged()}}(e)}(e),e.iframe.src=n):location.href=n}a.goLogin=function(e){s(e)},a.goReg=function(e){s(e,!0)},a.getQuery=r.getQuery,a.setQuery=r.setQuery,a.fetchUserSig=function(e){if("undefined"==typeof window.tlsGetUserSig)throw new Error("jsonp callback window.tlsGetUserSig is not defined!");var t=o+"/getusersig",n={sdkappid:(e=e||{}).sdkappid||r.getQuery("sdkappid"),identifier:e.identifier||r.getQuery("identifier"),tmpsig:e.tmpsig||r.getQuery("tmpsig")};for(var i in n)n.hasOwnProperty(i)&&(t=r.setQuery(t,i,n[i]));r.jsonp(t)},a.anologin=function(e){if("undefined"==typeof window.tlsAnoLogin)throw new Error("jsonp callback window.tlsAnoLogin is not defined!");var t={sdkappid:(e=e||{}).sdkappid||r.getQuery("sdkappid"),url:e.url||r.getQuery("url"),passwd:i.getRSAH1()},n=o+"/anologin?";for(var a in t)t.hasOwnProperty(a)&&(n=r.setQuery(n,a,t[a]));r.jsonp(n)},e.exports=a},function(e,t){function n(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}var r={http:{},dom:{},css:{},str:{},report:{},local:{},each:function(e){var t="";for(var n in e)t+=n+": "+e[n]+"\n";return t},extend:function(e,t,n){for(var r in t)e[r]=t[r];return e}},i=function(){function e(e){return"string"==typeof e?document.getElementById(e):e}var t=[];function n(n,r,i){if(n){if(n=e(n),document.addEventListener)return n.addEventListener(r,i,!1),t.push([n,r,i]),i;if(document.attachEvent){var o=function(){return i.apply(n,arguments)};return n.attachEvent("on"+r,o),t.push([n,r,o]),o}}}function r(e,t,n){document.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}return window.onunload=function(){for(var e=0;e<t.length;e++){var n=t[e];r(n[0],n[1],n[2])}},{el:e,on:n,off:r,oninput:function(e,t){n(e,"input",t),n(e,"propertychange",function(e){"value"==e.propertyName&&t&&t.apply(e.srcElement,arguments)})}}}(),o=function(){function e(e,t,n){if(e){for(var r=(e=i.el(e)).className.split(/\s+/),o={},a=0;a<r.length;a++)r[a]&&(o[r[a]]=!0);t&&(o[t]=!0),n&&delete o[n];var s=[];for(var u in o)o.hasOwnProperty(u)&&s.push(u);e.className=s.join(" ")}}return{addClass:function(t,n){e(t,n,!1)},removeClass:function(t,n){e(t,!1,n)},hasClass:function(e,t){return!!e.className.match(new RegExp("(^|\\s)"+t+"(\\s|$)"))},show:function(e){(e=i.el(e))&&(e.style.display="block")},hide:function(e){(e=i.el(e))&&(e.style.display="none")}}}(),a={trim:function(e){if(!e)return"";for(var t=/\s/,n=(e=(e+="").replace(/^\s+/,"")).length;t.test(e.charAt(--n)););return e.slice(0,n+1)}},s=function(){function e(e){var t=this;if("GET"===(e=r.extend({method:"GET",header:{},dataType:"text",succ:function(){n(this,t)}.bind(this),error:function(){n(this,t)}.bind(this)},e)).method){var i=[];for(var o in e.data)i.push(o+"="+encodeURIComponent(e.data[o]));-1==e.url.indexOf("?")&&(e.url+="?"),e.url+=i.join("&"),e.data=null}else if("POST"===e.method&&"string"!=typeof e.data){var a="";for(var o in e.data)a+="&"+o+"="+e.data[o];e.data=a}var s=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;for(var o in s.open(e.method,e.url),e.header)s.setRequestHeader(o,e.header[o]);return s.onreadystatechange=function(){if(n(this,t),4==s.readyState){if(s.status>=200&&s.status<300||304===s.status||1223===s.status||0===s.status)switch(e.dataType){case"json":e.succ(JSON.parse(s.responseText));break;default:e.succ(s.responseText)}else e.error(s.status,s.responseText);s=null}}.bind(this),s.send(e.data),s}return{ajax:e,post:function(t,n,r,i){return e({url:t,method:"POST",data:n,dataType:i,succ:r})},get:function(t,n,r,i){return e({url:t,method:"GET",data:n,dataType:i,succ:r})},jsonp:function(e,t,n){var r=document.createElement("script");if(r.src=e,document.getElementsByTagName("head")[0].appendChild(r),t)return setTimeout(t,n||3e3)},loadScript:function(e,t,n){var r=document.createElement("script");r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||("function"==typeof t&&t(),r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r))},r.onerror=function(){r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),n&&n()},r.src=e,document.getElementsByTagName("head")[0].appendChild(r)},setQuery:function(e,t,n){var r=t+"="+encodeURIComponent(n),i=new RegExp("(^|&)"+t+"=([^&]*)&?","i"),o=/([^?]*)(\??)([^#]*)(#?)(.*)/i,a=e.match(o),s=a&&a[3];return a?(s=(s=null!=n&&void 0!==n?s.match(i)?s.replace(i,"$1"+r+"&"):r+"&"+s:s.replace(i,"$1")).replace(/&$/,""),e=e.replace(o,"$1?"+s+"$4$5")):""},getQuery:function(e){var t=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""}}}(),u=function(){var e,t="tls.qcloud.com",n=/^[0-9A-Za-z_-]*$/;function r(){if(void 0===e)if(window.localStorage)e=localStorage;else try{(e=function(){var e=document.createElement("link");return e.style.display="none",e.id=t,document.getElementsByTagName("head")[0].appendChild(e),e.addBehavior("#default#userdata"),e}()).load(t)}catch(n){return e=!1,!1}return!0}function i(e){return"string"==typeof e&&n.test(e)}return{set:function(n,o){var a=!1;if(i(n)&&r())try{o+="",window.localStorage?(e.setItem(n,o),a=!0):(e.setAttribute(n,o),e.save(t),a=e.getAttribute(n)===o)}catch(s){}return a},get:function(t){if(i(t)&&r())try{return window.localStorage?e.getItem(t):e.getAttribute(t)}catch(n){}return null},remove:function(t){if(i(t)&&r())try{return window.localStorage?e.removeItem(t):e.removeAttribute(t),!0}catch(n){}return!1}}}(),l=function(){function e(e,t,n){if(!(void 0!==n&&Math.random()>=n)){var r="https://ssl.qq.com/ptlogin/cgi-bin/ptlogin_report?",i=encodeURIComponent(t+"|_|"+location.href+"|_|"+window.navigator.userAgent);e&&(r+="id="+e+"&"),t&&(r+="msg="+i+"&"),r+="v="+Math.random(),document.createElement("img").src=r}}return{log:function(t,n,r){return e(t,n,r)},mid:function(t,n){return e(t,null,n)}}}();r.dom=i,r.css=o,r.str=a,r.http=s,r.local=u,r.report=l,r.extend(r,{on:i.on,off:i.off,el:i.el}),r.extend(r,{addClass:o.addClass,removeClass:o.removeClass,hasClass:o.hasClass,show:o.show,hide:o.hide}),r.extend(r,{get:s.get,post:s.post,jsonp:s.jsonp,loadScript:s.loadScript,setQuery:s.setQuery,getQuery:s.getQuery}),r.extend(r,{trim:a.trim}),!window.console&&(window.console={log:function(){},warn:function(){},error:function(){}}),e.exports=r},function(e,t,n){t.__esModule=!0,t.md5=i,t.getEncPwd=function(e){for(var t=e.vcode||"",n=i(e.pwd||""),r=i(o(n)+e.salt),l=a.strToBytes(t.toUpperCase(),!0),c=Number(l.length/2).toString(16),h=a.strToBytes(e.id),f=Number(h.length/2).toString(16),d=Number(e.sdkAppid).toString(16),p=Number(0).toString(16);c.length<4;)c="0"+c;for(;f.length<4;)f="0"+f;for(;d.length<8;)d="0"+d;for(;p.length<8;)p="0"+p;a.initkey(r);var g=a.encrypt(n+f+h+d+p+c+l);return a.initkey(""),u(s.encrypt(o(g),"00988f6fe99e3d7c72b8b8a1cc9563e9750f5815316de064b531a0bfaa4dd5c2a5ea1f0e9b6e87bbcd19f445a13afada991a8ef60b812c628019741e4337933fb68438d93b62a538da25884627d3d46e6c62a5a41d30a7167a3a1ce5f6ecc3353db98b14a04ce2f777f335223134a900caa74fa79d9ab2c20ce19aaac9c24a82c847fa2eed0704553f75e030d93aa721186576cf5c344015ddc384b6b37add7139531af060548be8060a4bb075cc842bb190343c7f5e0e0b03fe1ca46c29b0df0bec7345888028df47f71fe44a0bd9cb8aed6282c095a75c57b6a604600886744b2965138730b27cf7d173381f0e53523aa1ced6864c09f7cc4135d45c5d4cfcbd","10001"))},t.getRSAH1=function(e){var t=i(e=e||function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<16;n++)t+=e[Math.round(1e3*Math.random())%e.length];return t}());return u(s.encrypt(o(t),"00ccaa91239f0a10fae03522fe6fdc6194007809732b07cb89e04dee9b4fdb9186787659fdf308be6efbc8aa147ffd8b5e4d61aba8a7e40e08af759751e1acc207a3988ce381cca6dfac4c75af1acda8bb3c09dce7a3d43fc23c95eecf56ca0c0c7a7eaeb019c912877757fe23ab28ac7060ee5409da3f0b5f079901475b11ac7d6c5cea1e7bd26a324674878cc31094b62eb407247f3e7f2070bb76a919883eaa114b0a40ea1341bf99dfd131d77343fd113f3a294fc0e19d9cc06989b98a0c14677e589ac41dd414283a3cf7685089d92770e7fde43c6aa443f2822c52fdbba309ea819bea8e4c2f1fac03930081ffd5189de9f025e15c4a1c466b761ba8e7f3","10001"))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(19));function i(e){var t=new r["default"];return t.update(e,"ascii"),t.digest("hex").toUpperCase()}function o(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")}var a=n(37),s=n(38);function u(e){return(e=btoa(o(e))).replace(/[\/\+=]/g,function(e){return{"/":"-","+":"*","=":"_"}[e]})}},function(e,t,n){(function(t){var r=n(0),i=n(23),o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,i,o,a){return s(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return s(e+(t&r|n&~r)+i+o|0,a)+t|0}function c(e,t,n,r,i,o,a){return s(e+(t^n^r)+i+o|0,a)+t|0}function h(e,t,n,r,i,o,a){return s(e+(n^(t|~r))+i+o|0,a)+t|0}r(a,i),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,a=this._d;r=h(r=h(r=h(r=h(r=c(r=c(r=c(r=c(r=l(r=l(r=l(r=l(r=u(r=u(r=u(r=u(r,i=u(i,a=u(a,n=u(n,r,i,a,e[0],3614090360,7),r,i,e[1],3905402710,12),n,r,e[2],606105819,17),a,n,e[3],3250441966,22),i=u(i,a=u(a,n=u(n,r,i,a,e[4],4118548399,7),r,i,e[5],1200080426,12),n,r,e[6],2821735955,17),a,n,e[7],4249261313,22),i=u(i,a=u(a,n=u(n,r,i,a,e[8],1770035416,7),r,i,e[9],2336552879,12),n,r,e[10],4294925233,17),a,n,e[11],2304563134,22),i=u(i,a=u(a,n=u(n,r,i,a,e[12],1804603682,7),r,i,e[13],4254626195,12),n,r,e[14],2792965006,17),a,n,e[15],1236535329,22),i=l(i,a=l(a,n=l(n,r,i,a,e[1],4129170786,5),r,i,e[6],3225465664,9),n,r,e[11],643717713,14),a,n,e[0],3921069994,20),i=l(i,a=l(a,n=l(n,r,i,a,e[5],3593408605,5),r,i,e[10],38016083,9),n,r,e[15],3634488961,14),a,n,e[4],3889429448,20),i=l(i,a=l(a,n=l(n,r,i,a,e[9],568446438,5),r,i,e[14],3275163606,9),n,r,e[3],4107603335,14),a,n,e[8],1163531501,20),i=l(i,a=l(a,n=l(n,r,i,a,e[13],2850285829,5),r,i,e[2],4243563512,9),n,r,e[7],1735328473,14),a,n,e[12],2368359562,20),i=c(i,a=c(a,n=c(n,r,i,a,e[5],4294588738,4),r,i,e[8],2272392833,11),n,r,e[11],1839030562,16),a,n,e[14],4259657740,23),i=c(i,a=c(a,n=c(n,r,i,a,e[1],2763975236,4),r,i,e[4],1272893353,11),n,r,e[7],4139469664,16),a,n,e[10],3200236656,23),i=c(i,a=c(a,n=c(n,r,i,a,e[13],681279174,4),r,i,e[0],3936430074,11),n,r,e[3],3572445317,16),a,n,e[6],76029189,23),i=c(i,a=c(a,n=c(n,r,i,a,e[9],3654602809,4),r,i,e[12],3873151461,11),n,r,e[15],530742520,16),a,n,e[2],3299628645,23),i=h(i,a=h(a,n=h(n,r,i,a,e[0],4096336452,6),r,i,e[7],1126891415,10),n,r,e[14],2878612391,15),a,n,e[5],4237533241,21),i=h(i,a=h(a,n=h(n,r,i,a,e[12],1700485571,6),r,i,e[3],2399980690,10),n,r,e[10],4293915773,15),a,n,e[1],2240044497,21),i=h(i,a=h(a,n=h(n,r,i,a,e[8],1873313359,6),r,i,e[15],4264355552,10),n,r,e[6],2734768916,15),a,n,e[13],1309151649,21),i=h(i,a=h(a,n=h(n,r,i,a,e[4],4149444226,6),r,i,e[11],3174756917,10),n,r,e[2],718787259,15),a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+a|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a}).call(this,n(7).Buffer)},function(e,t,n){t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[u++]=255&t),1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(h(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(3).Buffer,i=n(24).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(0)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){e.exports=i;var r=n(8).EventEmitter;function i(){r.call(this)}n(0)(i,r),i.Readable=n(9),i.Writable=n(33),i.Duplex=n(34),i.Transform=n(35),i.PassThrough=n(36),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){var r=n(3).Buffer,i=n(28);function o(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(30),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(5))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation"),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=o;var r=n(15),i=n(4);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(0),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(10)},function(e,t,n){e.exports=n(1)},function(e,t,n){e.exports=n(9).Transform},function(e,t,n){e.exports=n(9).PassThrough},function(e,t){var n="",r=0,i=[],o=[],a=0,s=0,u=[],l=[],c=!0;function h(){return Math.round(4294967295*Math.random())}function f(e,t,n){(!n||n>4)&&(n=4);for(var r=0,i=t;i<t+n;i++)r<<=8,r|=e[i];return(4294967295&r)>>>0}function d(e,t,n){e[t+3]=n>>0&255,e[t+2]=n>>8&255,e[t+1]=n>>16&255,e[t+0]=n>>24&255}function p(e){if(!e)return"";for(var t="",n=0;n<e.length;n++){var r=Number(e[n]).toString(16);1==r.length&&(r="0"+r),t+=r}return t}function g(e){i=new Array(8),o=new Array(8),a=s=0,c=!0,r=0;var t=e.length,n=0;0!=(r=(t+10)%8)&&(r=8-r),u=new Array(t+r+10),i[0]=255&(248&h()|r);for(var l=1;l<=r;l++)i[l]=255&h();for(r++,l=0;l<8;l++)o[l]=0;for(n=1;n<=2;)r<8&&(i[r++]=255&h(),n++),8==r&&m();for(l=0;t>0;)r<8&&(i[r++]=e[l++],t--),8==r&&m();for(n=1;n<=7;)r<8&&(i[r++]=0,n++),8==r&&m();return u}function m(){for(var e=0;e<8;e++)i[e]^=c?o[e]:u[s+e];var t=function(e){for(var t=16,r=f(e,0,4),i=f(e,4,4),o=f(n,0,4),a=f(n,4,4),s=f(n,8,4),u=f(n,12,4),l=0;t-- >0;)i=(4294967295&(i+=((r=(4294967295&(r+=(i<<4)+o^i+(l=(4294967295&(l+=2654435769))>>>0)^(i>>>5)+a))>>>0)<<4)+s^r+l^(r>>>5)+u))>>>0;var c=new Array(8);return d(c,0,r),d(c,4,i),c}(i);for(e=0;e<8;e++)u[a+e]=t[e]^o[e],o[e]=i[e];s=a,a+=8,r=0,c=!1}function v(e){for(var t=16,r=f(e,0,4),i=f(e,4,4),o=f(n,0,4),a=f(n,4,4),s=f(n,8,4),u=f(n,12,4),l=3816266640;t-- >0;)r=(4294967295&(r-=((i=(4294967295&(i-=(r<<4)+s^r+l^(r>>>5)+u))>>>0)<<4)+o^i+l^(i>>>5)+a))>>>0,l=(4294967295&(l-=2654435769))>>>0;var c=new Array(8);return d(c,0,r),d(c,4,i),c}function A(){l.length;for(var e=0;e<8;e++)o[e]^=l[a+e];return o=v(o),a+=8,r=0,!0}function y(e,t){var n=[];if(t)for(var r=0;r<e.length;r++)n[r]=255&e.charCodeAt(r);else{var i=0;for(r=0;r<e.length;r+=2)n[i++]=parseInt(e.substr(r,2),16)}return n}var E={encrypt:function(e,t){return p(g(y(e,t)))},enAsBase64:function(e,t){for(var n=g(y(e,t)),r="",i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return btoa(r)},decrypt:function(e){return p(function(e){var t=0,n=new Array(8),i=e.length;if(l=e,i%8!=0||i<16)return null;if(o=v(e),(t=i-(r=7&o[0])-10)<0)return null;for(var c=0;c<n.length;c++)n[c]=0;u=new Array(t),s=0,a=8,r++;for(var h=1;h<=2;)if(r<8&&(r++,h++),8==r&&(n=e,!A()))return null;for(c=0;0!=t;)if(r<8&&(u[c]=255&(n[s+r]^o[r]),c++,t--,r++),8==r&&(n=e,s=a-8,!A()))return null;for(h=1;h<8;h++){if(r<8){if(0!=(n[s+r]^o[r]))return null;r++}if(8==r&&(n=e,s=a,!A()))return null}return u}(y(e,!1)))},initkey:function(e,t){n=y(e,t)},bytesToStr:function(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},strToBytes:function(e,t){if(!e)return"";t&&(e=function(e){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.charCodeAt(t))>0&&n<=127?r.push(e.charAt(t)):n>=128&&n<=2047?r.push(String.fromCharCode(192|n>>6&31),String.fromCharCode(128|63&n)):n>=2048&&n<=65535&&r.push(String.fromCharCode(224|n>>12&15),String.fromCharCode(128|n>>6&63),String.fromCharCode(128|63&n));return r.join("")}(e));for(var n=[],r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return p(n)},bytesInStr:p,dataFromStr:y},C={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte:function(e,t){var n=e.charCodeAt(t);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n},encode:function(e){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var t,n,r=C.PADCHAR,i=C.ALPHA,o=C.getbyte,a=[],s=(e=""+e).length-e.length%3;if(0==e.length)return e;for(t=0;t<s;t+=3)n=o(e,t)<<16|o(e,t+1)<<8|o(e,t+2),a.push(i.charAt(n>>18)),a.push(i.charAt(n>>12&63)),a.push(i.charAt(n>>6&63)),a.push(i.charAt(63&n));switch(e.length-s){case 1:n=o(e,t)<<16,a.push(i.charAt(n>>18)+i.charAt(n>>12&63)+r+r);break;case 2:n=o(e,t)<<16|o(e,t+1)<<8,a.push(i.charAt(n>>18)+i.charAt(n>>12&63)+i.charAt(n>>6&63)+r)}return a.join("")}};window.btoa||(window.btoa=C.encode),e.exports=E},function(e,t,n){var r=n(39);e.exports=window.RSA=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=function(e,t){return new r.BigInteger(e,t)}(e,16),this.e=parseInt(t,16)):uv_alert("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return uv_alert("Message too long for RSA"),null;for(var n=[],i=e.length-1;i>=0&&t>0;){var o=e.charCodeAt(i--);n[--t]=o}n[--t]=0;for(var a=new r.SecureRandom,s=[];t>2;){for(s[0]=0;0==s[0];)a.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new r.BigInteger(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},{encrypt:function(t,n,r){n=n||"F20CE00BAE5361F8FA3AE9CEFA495362FF7DA1BA628F64A347F0A8C012BF0B254A30CD92ABFFE7A6EE0DC424CB6166F8819EFA5BCCB20EDFB4AD02E412CCF579B1CA711D55B8B0B3AEB60153D5E0693A2A86F3167D7847A0CB8B00004716A9095D9BADC977CBB804DBDCBA6029A9710869A453F27DFDDF83C016D928B3CBF4C7",r=r||"3";var i=new e;return i.setPublic(n,r),i.encrypt(t)}}}()},function(e,t,n){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],l=this[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},t=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},t=26):(n.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],l=this[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+s*l,n[r++]=268435455&u}return i},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var o,a,s="0123456789abcdefghijklmnopqrstuvwxyz",u=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)u[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)u[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)u[o++]=a;function l(e){return s.charAt(e)}function c(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}function h(e){var t=r();return t.fromInt(e),t}function f(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function d(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e,t){return e&t}function m(e,t){return e|t}function v(e,t){return e^t}function A(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function C(){}function _(e){return e}function T(e){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}d.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},d.prototype.revert=function(e){return e},d.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},d.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var s=8==r?255&e[i]:c(e,i);s<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),o=r.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+r.t]=r.am(0,i[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var s=r(),u=this.s,l=e.s,c=this.DB-f(o[o.t-1]);c>0?(o.lShiftTo(c,s),a.lShiftTo(c,i)):(o.copyTo(s),a.copyTo(i));var h=s.t,d=s[h-1];if(0!=d){var p=d*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),g=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,A=i.t,y=A-h,E=null==t?r():t;for(s.dlShiftTo(y,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),n.ONE.dlShiftTo(h,E),E.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--y>=0;){var C=i[--A]==d?this.DM:Math.floor(i[A]*g+(i[A-1]+v)*m);if((i[A]+=s.am(0,C,i,y,0,h))<C)for(s.dlShiftTo(y,E),i.subTo(E,i);i[A]<--C;)i.subTo(E,i)}null!=t&&(i.drShiftTo(h,t),u!=l&&n.ZERO.subTo(t,t)),i.t=h,i.clamp(),c>0&&i.rShiftTo(c,i),u<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var i=r(),o=r(),a=t.convert(this),s=f(e)-1;for(a.copyTo(i);--s>=0;)if(t.sqrTo(i,o),(e&1<<s)>0)t.mulTo(o,a,i);else{var u=i;i=o,o=u}return t.revert(i)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=l(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=l(n));return i?o:"0"},n.prototype.negate=function(){var e=r();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new d(t):new p(t),this.exp(e,n)},n.ZERO=h(0),n.ONE=h(1),C.prototype.convert=_,C.prototype.revert=_,C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},C.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S,w,I,b=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],D=(1<<26)/b[b.length-1];function k(){!function(e){w[I++]^=255&e,w[I++]^=e>>8&255,w[I++]^=e>>16&255,w[I++]^=e>>24&255,I>=B&&(I-=B)}((new Date).getTime())}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=h(n),o=r(),a=r(),s="";for(this.divRemTo(i,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(i,o,a);return a.intValue().toString(e)+s},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),o=!1,a=0,s=0,u=0;u<e.length;++u){var l=c(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(o=!0):(s=t*s+l,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>b.length&&(e=b.length);for(var a=r(),s=0;s<e;++s){a.fromInt(b[Math.floor(Math.random()*b.length)]);var u=a.modPow(o,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(t)){for(var l=1;l++<i&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=r();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=r();return this.bitwiseTo(e,g,t),t},n.prototype.or=function(e){var t=r();return this.bitwiseTo(e,m,t),t},n.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,v,t),t},n.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,A,t),t},n.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=E(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,m)},n.prototype.clearBit=function(e){return this.changeBit(e,A)},n.prototype.flipBit=function(e){return this.changeBit(e,v)},n.prototype.add=function(e){var t=r();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),a=h(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new d(t):t.isEven()?new T(t):new p(t);var s=new Array,u=3,l=n-1,c=(1<<n)-1;if(s[1]=i.convert(this),n>1){var g=r();for(i.sqrTo(s[1],g);u<=c;)s[u]=r(),i.mulTo(g,s[u-2],s[u]),u+=2}var m,v,A=e.t-1,y=!0,E=r();for(o=f(e[A])-1;A>=0;){for(o>=l?m=e[A]>>o-l&c:(m=(e[A]&(1<<o+1)-1)<<l-o,A>0&&(m|=e[A-1]>>this.DB+o-l)),u=n;0==(1&m);)m>>=1,--u;if((o-=u)<0&&(o+=this.DB,--A),y)s[m].copyTo(a),y=!1;else{for(;u>1;)i.sqrTo(a,E),i.sqrTo(E,a),u-=2;u>0?i.sqrTo(a,E):(v=a,a=E,E=v),i.mulTo(E,s[m],a)}for(;A>=0&&0==(e[A]&1<<o);)i.sqrTo(a,E),v=a,a=E,E=v,--o<0&&(o=this.DB-1,--A)}return i.revert(a)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),i=this.clone(),o=h(1),a=h(0),s=h(0),u=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(e,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),t&&o.subTo(s,o),a.subTo(u,a)):(i.subTo(r,i),t&&s.subTo(o,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},n.prototype.pow=function(e){return this.exp(e,new C)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=b[b.length-1]){for(t=0;t<b.length;++t)if(n[0]==b[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<b.length;){for(var r=b[t],i=t+1;i<b.length&&r<D;)r*=b[i++];for(r=n.modInt(r);t<i;)if(r%b[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=r();return this.squareTo(e),e},n.prototype.Barrett=T,null==w){var M;if(w=new Array,I=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var R=new Uint8Array(32);for(window.crypto.getRandomValues(R),M=0;M<32;++M)w[I++]=R[M]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var P=window.crypto.random(32);for(M=0;M<P.length;++M)w[I++]=255&P.charCodeAt(M)}for(;I<B;)M=Math.floor(65536*Math.random()),w[I++]=M>>>8,w[I++]=255&M;I=0,k()}function O(){if(null==S){for(k(),(S=new N).init(w),I=0;I<w.length;++I)w[I]=0;I=0}return S.next()}function L(){}function N(){this.i=0,this.j=0,this.S=new Array}L.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=O()},N.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},N.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var B=256;e.exports={default:n,BigInteger:n,SecureRandom:L}}).call(this)}])})}.call(this,n("dd40")(e))},c1bc:function(e,t,n){},c3d3:function(e,t){},c5f6:function(e,t,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),u=n("79e5"),l=n("9093").f,c=n("11e9").f,h=n("86cc").f,f=n("aa77").trim,d="Number",p=r[d],g=p,m=p.prototype,v=o(n("2aeb")(m))==d,A="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=A?t.trim():f(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if(a=u.charCodeAt(l),a<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u(function(){m.valueOf.call(n)}):o(n)!=d)?a(new g(y(t)),n,p):y(t)};for(var E,C=n("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)i(g,E=C[_])&&!i(p,E)&&h(p,E,c(g,E));p.prototype=m,m.constructor=p,n("2aba")(r,d,p)}},c795:function(e,t,n){"use strict";var r=n("ddac"),i=l(r),o=n("59a0"),a=l(o),s=n("466b"),u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}e.exports={LineStream:i["default"],ParseStream:a["default"],Parser:u["default"]}},cae9:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"histalk clearfix"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.alldata.length>0,expression:"$store.state.alldata.length>0"}],staticClass:"talk_more"},e._l(e.$store.state.alldata,function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:t,expression:"item"}],key:r,staticClass:"talk_detail clearfix"},[n("div",{directives:[{name:"show",rawName:"v-show",value:5==JSON.parse(t).data.cmd,expression:"JSON.parse(item).data.cmd == 5"}]},[n("span",{staticClass:"name",domProps:{textContent:e._s(JSON.parse(t).data.userName+":")}}),n("span",{staticClass:"talk_content",domProps:{textContent:e._s(JSON.parse(t).data.msg)}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:2==JSON.parse(t).data.cmd,expression:"JSON.parse(item).data.cmd == 2"}]},[n("span",{staticClass:"name",staticStyle:{color:"#f00"}},[e._v(" 通知: ")]),n("span",{staticClass:"talk_content",staticStyle:{color:"#f00"},domProps:{textContent:e._s(JSON.parse(t).data.userName+JSON.parse(t).data.msg+"进入直播间")}})])])}),0)])},i=[],o=(n("6b54"),{props:{alldata:{type:Array,default:[]}},data:function(){return{showLoading:!0,active:0,name:"sfsdfs",txt:"胶原蛋白怎么用胶原蛋白怎么蛋白怎么用胶原蛋白怎么蛋白怎",group:[]}},mounted:function(){},computed:{length:function(){return this.$store.state.alldata.length}},watch:{length:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){0!=length&&setTimeout(function(){$(".talk_more").scrollTop($(".talk_more")[0].scrollHeight)},300)})},name:"livehisory",methods:{Loading:function(){var e=this;this.$nextTick(function(){e.$set(e,"showLoading",!1)})},showLoading2:function(){this.$nextTick(function(){that.$set(that,"showLoading",!0)})}}}),a=o,s=(n("02ac"),n("2877")),u=Object(s["a"])(a,r,i,!1,null,null,null);t["default"]=u.exports},cd78:function(e,t,n){var r=n("e4ae"),i=n("f772"),o=n("656e");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},cdad:function(e,t,n){"use strict";t.pad=n("72a5"),t.unpad=n("e647")},d02c:function(e,t){var n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function r(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=n(null)}function a(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function s(e,t,n){var s=e;function u(){var t=i(e);if(null===t)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(e,t){var r=new o;a(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"]);break}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=u(),c(),"--\x3e"!==e.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),c(),t.endTime=u(),c(),l(e,t)}r.prototype=n(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function f(e,t){function n(){if(!t)return null;function e(e){return t=t.substr(e.length),e}var n=t.match(/^([^<]*)(<[^>]*>?)?/);return e(n[1]?n[1]:n[2])}function r(e){return u[e]}function o(e){while(A=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))e=e.replace(A[0],r);return e}function a(e,t){return!h[t.localName]||h[t.localName]===e.localName}function s(t,n){var r=l[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=c[t];return o&&n&&(i[o]=n.trim()),i}var f,d=e.document.createElement("div"),p=d,g=[];while(null!==(f=n()))if("<"!==f[0])p.appendChild(e.document.createTextNode(o(f)));else{if("/"===f[1]){g.length&&g[g.length-1]===f.substr(2).replace(">","")&&(g.pop(),p=p.parentNode);continue}var m,v=i(f.substr(1,f.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),p.appendChild(m);continue}var A=f.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!A)continue;if(m=s(A[1],A[3]),!m)continue;if(!a(p,m))continue;A[2]&&(m.className=A[2].substr(1).replace("."," ")),g.push(A[1]),p.appendChild(m),p=m}return d}var d=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(e){for(var t=0;t<d.length;t++){var n=d[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function g(e){var t,n=[],r="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):n}return"ruby"===t.tagName?o(e):t.childNodes?(i(e,t),o(e)):void 0}i(n,e);while(r=o(n))for(var a=0;a<r.length;a++)if(t=r.charCodeAt(a),p(t))return"rtl";return"ltr"}function m(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function v(){}function A(e,t,n){v.call(this),this.cue=t,this.cueDiv=f(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:g(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"middle":i=t.position-t.size/2;break;case"end":i=t.position-t.size;break}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function E(e,t,n,r){function i(e,t){for(var i,o=new y(e),a=1,s=0;s<t.length;s++){while(e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r))e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new y(e),a=u),e=new y(o)}return i||o}var o=new y(t),a=t.cue,s=m(a),u=[];if(a.snapToLines){var l;switch(a.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width";break}var c=o.lineHeight,h=c*Math.round(s),f=n[l]+c,d=u[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/c)*c),s<0&&(h+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(d,h)}else{var p=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=p/2;break;case"end":s-=p;break}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")});break}u=["+y","-x","+x","-y"],o=new y(t)}var g=i(o,u);t.move(g.toCSSCompatValues(n))}function C(){}v.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},v.prototype.formatStyle=function(e,t){return 0===e?0:e+t},A.prototype=n(v.prototype),A.prototype.constructor=A,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},C.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},C.convertCueToDOMTree=function(e,t){return e&&t?f(e,t):null};var _=.05,T="sans-serif",S="1.5%";C.processCues=function(e,t,n){if(!e||!t||!n)return null;while(n.firstChild)n.removeChild(n.firstChild);var r=e.document.createElement("div");function i(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=S,n.appendChild(r),i(t)){var o=[],a=y.getSimpleBoxPosition(r),s=Math.round(a.height*_*100)/100,u={font:s+"px "+T};(function(){for(var n,i,s=0;s<t.length;s++)i=t[s],n=new A(e,i,u),r.appendChild(n.div),E(e,n,a,o),i.displayState=n.div,o.push(y.getSimpleBoxPosition(n))})()}else for(var l=0;l<t.length;l++)r.appendChild(t[l].displayState)},C.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},C.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof r))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){var e=t.buffer,n=0;while(n<e.length&&"\r"!==e[n]&&"\n"!==e[n])++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function u(e){var n=new o;if(a(e,function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new o;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"]);break}},/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}function l(e){var n=new o;a(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",i(t));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function c(e){e.match(/X-TIMESTAMP-MAP/)?a(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":l(t);break}},/=/):a(e,function(e,t){switch(e){case"Region":u(t);break}},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var h;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;h=n();var f=h.match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new r(r.Errors.BadSignature);t.state="HEADER"}var d=!1;while(t.buffer){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:h=n(),t.state){case"HEADER":/:/.test(h)?c(h):h||(t.state="ID");continue;case"NOTE":h||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){t.state="NOTE";break}if(!h)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===h.indexOf("--\x3e")){t.cue.id=h;continue}case"CUE":try{s(h,t.cue,t.regionList)}catch(g){t.reportOrThrowError(g),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var p=-1!==h.indexOf("--\x3e");if(!h||p&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=h;continue;case"BADCUE":h||(t.state="ID");continue}}}catch(g){t.reportOrThrowError(g),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new r(r.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=C},d136:function(e,t,n){(function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(h)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){e=e.split("").reverse().join("").replace(i,"");while(e.length!==(e=e.replace(o,"")).length);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a})()},d61d:function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,a=1,s=2,u=3,l=4,c=5,h=6,f=7;function d(){}function p(e,t,n,r,i){function o(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function a(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>E){var n=e.substring(E,t).replace(/&#?\w+;/g,a);f&&u(E),r.characters(n,0,t-E),E=t}}function u(t,n){while(t>=c&&(n=h.exec(e)))l=n.index,c=l+n[0].length,f.lineNumber++;f.columnNumber=t-l+1}var l=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,f=r.locator,d=[{currentNSMap:t}],p={},E=0;while(1){try{var S=e.indexOf("<",E);if(S<0){if(!e.substr(E).match(/^\s*$/)){var w=r.doc,I=w.createTextNode(e.substr(E));w.appendChild(I),r.currentElement=I}return}switch(S>E&&s(S),e.charAt(S+1)){case"/":var b=e.indexOf(">",S+3),D=e.substring(S+2,b),k=d.pop();b<0?(D=e.substring(S+2).replace(/[\s<].*/,""),i.error("end tag name: "+D+" is not complete:"+k.tagName),b=S+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),i.error("end tag name: "+D+" maybe not complete"),b=S+1+D.length);var M=k.localNSMap,R=k.tagName==D,P=R||k.tagName&&k.tagName.toLowerCase()==D.toLowerCase();if(P){if(r.endElement(k.uri,k.localName,D),M)for(var O in M)r.endPrefixMapping(O);R||i.fatalError("end tag name: "+D+" is not match the current start tagName:"+k.tagName)}else d.push(k);b++;break;case"?":f&&u(S),b=_(e,S,r);break;case"!":f&&u(S),b=C(e,S,r,i);break;default:f&&u(S);var L=new T,N=d[d.length-1].currentNSMap,B=(b=m(e,S,L,N,a,i),L.length);if(!L.closed&&y(e,b,L.tagName,p)&&(L.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),f&&B){for(var x=g(f,{}),U=0;U<B;U++){var G=L[U];u(G.offset),G.locator=g(f,{})}r.locator=x,v(L,r,N)&&d.push(L),r.locator=f}else v(L,r,N)&&d.push(L);"http://www.w3.org/1999/xhtml"!==L.uri||L.closed?b++:b=A(e,b,L.tagName,a,r)}}catch(F){i.error("element parse error: "+F),b=-1}b>E?E=b:s(Math.max(S,E)+1)}}function g(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,n,r,i,d){var p,g=++t,m=o;while(1){var v=e.charAt(g);switch(v){case"=":if(m===a)p=e.slice(t,g),m=u;else{if(m!==s)throw new Error("attribute equal must after attrName");m=u}break;case"'":case'"':if(m===u||m===a){if(m===a&&(d.warning('attribute value must after "="'),p=e.slice(t,g)),t=g+1,g=e.indexOf(v,t),!(g>0))throw new Error("attribute value no end '"+v+"' match");A=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(p,A,t-1),m=c}else{if(m!=l)throw new Error('attribute value must after "="');A=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(p,A,t),d.warning('attribute "'+p+'" missed start quot('+v+")!!"),t=g+1,m=c}break;case"/":switch(m){case o:n.setTagName(e.slice(t,g));case c:case h:case f:m=f,n.closed=!0;case l:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),m==o&&n.setTagName(e.slice(t,g)),g;case">":switch(m){case o:n.setTagName(e.slice(t,g));case c:case h:case f:break;case l:case a:A=e.slice(t,g),"/"===A.slice(-1)&&(n.closed=!0,A=A.slice(0,-1));case s:m===s&&(A=p),m==l?(d.warning('attribute "'+A+'" missed quot(")!!'),n.add(p,A.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&A.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+A+'" missed value!! "'+A+'" instead!!'),n.add(A,A,t));break;case u:throw new Error("attribute value missed!!")}return g;case"":v=" ";default:if(v<=" ")switch(m){case o:n.setTagName(e.slice(t,g)),m=h;break;case a:p=e.slice(t,g),m=s;break;case l:var A=e.slice(t,g).replace(/&#?\w+;/g,i);d.warning('attribute "'+A+'" missed quot(")!!'),n.add(p,A,t);case c:m=h;break}else switch(m){case s:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&p.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),n.add(p,p,t),t=g,m=a;break;case c:d.warning('attribute space is required"'+p+'"!!');case h:m=a,t=g;break;case u:m=l,t=g;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function v(e,t,n){var r=e.tagName,i=null,o=e.length;while(o--){var a=e[o],s=a.qName,u=a.value,l=s.indexOf(":");if(l>0)var c=a.prefix=s.slice(0,l),h=s.slice(l+1),f="xmlns"===c&&h;else h=s,c=null,f="xmlns"===s&&"";a.localName=h,!1!==f&&(null==i&&(i={},E(n,n={})),n[f]=i[f]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}o=e.length;while(o--){a=e[o];c=a.prefix;c&&("xml"===c&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(a.uri=n[c||""]))}l=r.indexOf(":");l>0?(c=e.prefix=r.slice(0,l),h=e.localName=r.slice(l+1)):(c=null,h=e.localName=r);var d=e.uri=n[c||""];if(t.startElement(d,h,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(d,h,r),i)for(c in i)t.endPrefixMapping(c)}function A(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function y(e,t,n,r){var i=r[n];return null==i&&(i=e.lastIndexOf("</"+n+">"),i<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function E(e,t){for(var n in e)t[n]=e[n]}function C(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if("-"===e.charAt(t+3)){var o=e.indexOf("--\x3e",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var a=w(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],l=s>3&&/^public$/i.test(a[2][0])&&a[3][0],c=s>4&&a[4][0],h=a[s-1];return n.startDTD(u,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),h.index+h[0].length}}return-1}function _(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function T(e){}function S(e,t){return e.__proto__=t,e}function w(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);while(n=i.exec(e))if(r.push(n),n[1])return r}d.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),E(t,t={}),p(e,t,n,r,this.errorHandler),r.endDocument()}},T.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},S({},S.prototype)instanceof S||(S=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=d},d779:function(e,t,n){var r=r||function(e,t){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o);s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*o,i=e.min(4*t,i),t){for(var u=0;u<t;u+=o)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=i}return new a.init(u,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);(function(){var e=r,t=e.lib,n=t.WordArray,i=t.Hasher,o=[];t=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],u=n[4],l=0;80>l;l++){if(16>l)o[l]=0|e[t+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}c=(r<<5|r>>>27)+u+o[l],c=20>l?c+(1518500249+(i&a|~i&s)):40>l?c+(1859775393+(i^a^s)):60>l?c+((i&a|i&s|a&s)-1894007588):c+((i^a^s)-899497514),u=s,s=a,a=i<<30|i>>>2,i=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(t),e.HmacSHA1=i._createHmacHelper(t)})(),function(){var e=r,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),a=this._iKey=n.clone(),s=o.words,u=a.words,l=0;l<r;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=r,t=e.lib,n=t.WordArray,i=e.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=t[o>>>2]>>>24-o%4*8&255,s=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=a<<16|s<<8|u,c=0;c<4&&o+.75*c<n;c++)i.push(r.charAt(l>>>6*(3-c)&63));var h=r.charAt(64);if(h)while(i.length%4)i.push(h);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=r.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(t=o)}for(var a=[],s=0,u=0;u<t;u++)if(u%4){var l=r.indexOf(e.charAt(u-1))<<u%4*2,c=r.indexOf(e.charAt(u))>>>6-u%4*2;a[s>>>2]|=(l|c)<<24-s%4*8,s++}return n.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.exports=r},dc3e:function(e,t,n){"use strict";var r=n("ae75"),i=n("256f").handleRollover,o={};o.ts=n("423e"),o.aac=n("fbd0");var a=n("36c6").ONE_SECOND_IN_TS,s=188,u=71,l=function(e,t){var n,r,i=0,a=s;while(a<e.byteLength)if(e[i]!==u||e[a]!==u)i++,a++;else{switch(n=e.subarray(i,a),r=o.ts.parseType(n,t.pid),r){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n));break;default:break}if(t.pid&&t.table)return;i+=s,a+=s}},c=function(e,t,n){var r,i,a,l,c,h=0,f=s,d=!1;while(f<=e.byteLength)if(e[h]!==u||e[f]!==u&&f!==e.byteLength)h++,f++;else{switch(r=e.subarray(h,f),i=o.ts.parseType(r,t.pid),i){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&l&&(c=o.ts.parsePesTime(r),c&&(c.type="audio",n.audio.push(c),d=!0));break;default:break}if(d)break;h+=s,f+=s}f=e.byteLength,h=f-s,d=!1;while(h>=0)if(e[h]!==u||e[f]!==u&&f!==e.byteLength)h--,f--;else{switch(r=e.subarray(h,f),i=o.ts.parseType(r,t.pid),i){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&l&&(c=o.ts.parsePesTime(r),c&&(c.type="audio",n.audio.push(c),d=!0));break;default:break}if(d)break;h-=s,f-=s}},h=function(e,t,n){var r,i,a,l,c,h,f,d,p=0,g=s,m=!1,v={data:[],size:0};while(g<e.byteLength)if(e[p]!==u||e[g]!==u)p++,g++;else{switch(r=e.subarray(p,g),i=o.ts.parseType(r,t.pid),i){case"pes":if(a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"video"===a&&(l&&!m&&(c=o.ts.parsePesTime(r),c&&(c.type="video",n.video.push(c),m=!0)),!n.firstKeyFrame)){if(l&&0!==v.size){h=new Uint8Array(v.size),f=0;while(v.data.length)d=v.data.shift(),h.set(d,f),f+=d.byteLength;if(o.ts.videoPacketContainsKeyFrame(h)){var A=o.ts.parsePesTime(h);A&&(n.firstKeyFrame=A,n.firstKeyFrame.type="video")}v.size=0}v.data.push(r),v.size+=r.byteLength}break;default:break}if(m&&n.firstKeyFrame)break;p+=s,g+=s}g=e.byteLength,p=g-s,m=!1;while(p>=0)if(e[p]!==u||e[g]!==u)p--,g--;else{switch(r=e.subarray(p,g),i=o.ts.parseType(r,t.pid),i){case"pes":a=o.ts.parsePesType(r,t.table),l=o.ts.parsePayloadUnitStartIndicator(r),"video"===a&&l&&(c=o.ts.parsePesTime(r),c&&(c.type="video",n.video.push(c),m=!0));break;default:break}if(m)break;p-=s,g-=s}},f=function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})}if(e.video&&e.video.length){var r=t;if("undefined"===typeof r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/a,o.ptsTime=o.dts/a}}},d=function(e){var t,n=!1,r=0,i=null,s=null,u=0,l=0;while(e.length-l>=3){var c=o.aac.parseType(e,l);switch(c){case"timed-metadata":if(e.length-l<10){n=!0;break}if(u=o.aac.parseId3TagSize(e,l),u>e.length){n=!0;break}null===s&&(t=e.subarray(l,l+u),s=o.aac.parseAacTimestamp(t)),l+=u;break;case"audio":if(e.length-l<7){n=!0;break}if(u=o.aac.parseAdtsSize(e,l),u>e.length){n=!0;break}null===i&&(t=e.subarray(l,l+u),i=o.aac.parseSampleRate(t)),r++,l+=u;break;default:l++;break}if(n)return null}if(null===i||null===s)return null;var h=a/i,f={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*h,pts:s+1024*r*h}]};return f},p=function(e){var t={pid:null,table:null},n={};for(var i in l(e,t),t.table)if(t.table.hasOwnProperty(i)){var o=t.table[i];switch(o){case r.H264_STREAM_TYPE:n.video=[],h(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],c(e,t,n),0===n.audio.length&&delete n.audio;break;default:break}}return n},g=function(e,t){var n,r=o.aac.isLikelyAacData(e);return n=r?d(e):p(e),n&&(n.audio||n.video)?(f(n,t),n):null};e.exports={inspect:g,parseAudioPes_:c}},dc6d:function(e,t,n){"use strict";var r=4,i=128,o=function(e){var t=0,n={payloadType:-1,payloadSize:0},o=0,a=0;while(t<e.byteLength){if(e[t]===i)break;while(255===e[t])o+=255,t++;o+=e[t++];while(255===e[t])a+=255,t++;if(a+=e[t++],!n.payload&&o===r){n.payloadType=o,n.payloadSize=a,n.payload=e.subarray(t,t+a);break}t+=a,o=0,a=0}return n},a=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)i=3*n,o={type:3&t[i+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},u=function(e){var t,n,r=e.byteLength,i=[],o=1;while(o<r-2)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n};e.exports={parseSei:o,parseUserData:a,parseCaptionPackets:s,discardEmulationPreventionBytes:u,USER_DATA_REGISTERED_ITU_T_T35:r}},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},ddac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("fc85"),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){s(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return l(t,e),r(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(o["default"]);t["default"]=c},df33:function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return a[e];var n=String(e),o=r[n.toLowerCase()];if(o)return o;o=i[n.toLowerCase()];return o||(1===n.length?n.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var o=r[t.toLowerCase()];if(o)return o===n;o=i[t.toLowerCase()];if(o)return o===n}else if("number"===typeof t)return t===n;return!1}},t=e.exports=n;var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},e23e:function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r,i,o,a="object",s=function(e){return e&&e.Math==Math&&e},u=s(typeof globalThis==a&&globalThis)||s(typeof window==a&&window)||s(typeof self==a&&self)||s(typeof e==a&&e)||Function("return this")(),l=function(e){try{return!!e()}catch(n){return 1}},c=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),h={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,d={f:f&&!h.call({1:2},1)?function(e){var t=f(this,e);return!!t&&t.enumerable}:h},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},g={}.toString,m=function(e){return g.call(e).slice(8,-1)},v="".split,A=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==m(e)?v.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},E=function(e){return A(y(e))},C=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e,t){if(!C(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!C(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!C(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!C(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},T={}.hasOwnProperty,S=function(e,t){return T.call(e,t)},w=u.document,I=C(w)&&C(w.createElement),b=function(e){return I?w.createElement(e):{}},D=!c&&!l(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),k=Object.getOwnPropertyDescriptor,M={f:c?k:function(e,t){if(e=E(e),t=_(t,1),D)try{return k(e,t)}catch(r){}if(S(e,t))return p(!d.f.call(e,t),e[t])}},R=function(e){if(!C(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,O={f:c?P:function(e,t,n){if(R(e),t=_(t,1),R(n),D)try{return P(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},L=c?function(e,t,n){return O.f(e,t,p(1,n))}:function(e,t,n){return e[t]=n,e},N=function(e,t){try{L(u,e,t)}catch(r){u[e]=t}return t},B=n(function(e){var t=u["__core-js_shared__"]||N("__core-js_shared__",{});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),x=B("native-function-to-string",Function.toString),U=u.WeakMap,G="function"==typeof U&&/native code/.test(x.call(U)),F=0,Q=Math.random(),j=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++F+Q).toString(36)},H=B("keys"),K=function(e){return H[e]||(H[e]=j(e))},Y={},q=u.WeakMap;if(G){var J=new q,V=J.get,W=J.has,z=J.set;r=function(e,t){return z.call(J,e,t),t},i=function(e){return V.call(J,e)||{}},o=function(e){return W.call(J,e)}}else{var X=K("state");Y[X]=1,r=function(e,t){return L(e,X,t),t},i=function(e){return S(e,X)?e[X]:{}},o=function(e){return S(e,X)}}var Z={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!C(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},$=n(function(e){var t=Z.get,n=Z.enforce,r=String(x).split("toString");B("inspectSource",function(e){return x.call(e)}),(e.exports=function(e,t,i,o){var a=o?!!o.unsafe:0,s=o?!!o.enumerable:0,l=o?!!o.noTargetGet:0;"function"==typeof i&&("string"!=typeof t||S(i,"name")||L(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==u?(a?!l&&e[t]&&(s=1):delete e[t],s?e[t]=i:L(e,t,i)):s?e[t]=i:N(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||x.call(this)})}),ee=u,te=function(e){return"function"==typeof e?e:void 0},ne=function(e,t){return arguments.length<2?te(ee[e])||te(u[e]):ee[e]&&ee[e][t]||u[e]&&u[e][t]},re=Math.ceil,ie=Math.floor,oe=function(e){return isNaN(e=+e)?0:(e>0?ie:re)(e)},ae=Math.min,se=function(e){return e>0?ae(oe(e),9007199254740991):0},ue=Math.max,le=Math.min,ce=function(e,t){var n=oe(e);return n<0?ue(n+t,0):le(n,t)},he=function(e){return function(t,n,r){var i,o=E(t),a=se(o.length),s=ce(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return 1}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},fe={includes:he(1),indexOf:he(0)},de=fe.indexOf,pe=function(e,t){var n,r=E(e),i=0,o=[];for(n in r)!S(Y,n)&&S(r,n)&&o.push(n);for(;t.length>i;)S(r,n=t[i++])&&(~de(o,n)||o.push(n));return o},ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],me=ge.concat("length","prototype"),ve={f:Object.getOwnPropertyNames||function(e){return pe(e,me)}},Ae={f:Object.getOwnPropertySymbols},ye=ne("Reflect","ownKeys")||function(e){var t=ve.f(R(e)),n=Ae.f;return n?t.concat(n(e)):t},Ee=function(e,t){for(var n=ye(t),r=O.f,i=M.f,o=0;o<n.length;o++){var a=n[o];S(e,a)||r(e,a,i(t,a))}},Ce=/#|\.prototype\./,_e=function(e,t){var n=Se[Te(e)];return n==Ie?1:n==we?0:"function"==typeof t?l(t):!!t},Te=_e.normalize=function(e){return String(e).replace(Ce,".").toLowerCase()},Se=_e.data={},we=_e.NATIVE="N",Ie=_e.POLYFILL="P",be=_e,De=M.f,ke=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?u:c?u[s]||N(s,{}):(u[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=De(n,r))&&a.value:n[r],!be(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ee(o,i)}(e.sham||i&&i.sham)&&L(o,"sham",1),$(n,r,o,e)}},Me=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Re=function(e,t,n){if(Me(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},Pe=function(e){return Object(y(e))},Oe=Array.isArray||function(e){return"Array"==m(e)},Le=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())}),Ne=u.Symbol,Be=B("wks"),xe=function(e){return Be[e]||(Be[e]=Le&&Ne[e]||(Le?Ne:j)("Symbol."+e))},Ue=xe("species"),Ge=function(e,t){var n;return Oe(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Oe(n.prototype)?C(n)&&null===(n=n[Ue])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Fe=[].push,Qe=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,u,l,c){for(var h,f,d=Pe(s),p=A(d),g=Re(u,l,3),m=se(p.length),v=0,y=c||Ge,E=t?y(s,m):n?y(s,0):void 0;m>v;v++)if((a||v in p)&&(f=g(h=p[v],v,d),e))if(t)E[v]=f;else if(f)switch(e){case 3:return 1;case 5:return h;case 6:return v;case 2:Fe.call(E,h)}else if(i)return 0;return o?-1:r||i?i:E}},je={forEach:Qe(0),map:Qe(1),filter:Qe(2),some:Qe(3),every:Qe(4),find:Qe(5),findIndex:Qe(6)},He=function(e,t){var n=[][e];return!n||!l(function(){n.call(null,t||function(){throw 1},1)})},Ke=je.forEach,Ye=He("forEach")?function(e){return Ke(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach;ke({target:"Array",proto:1,forced:[].forEach!=Ye},{forEach:Ye});var qe=function(e,t,n,r){try{return r?t(R(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&R(i.call(e)),a}},Je={},Ve=xe("iterator"),We=Array.prototype,ze=function(e){return void 0!==e&&(Je.Array===e||We[Ve]===e)},Xe=function(e,t,n){var r=_(t);r in e?O.f(e,r,p(0,n)):e[r]=n},Ze=xe("toStringTag"),$e="Arguments"==m(function(){return arguments}()),et=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Ze))?n:$e?m(t):"Object"==(r=m(t))&&"function"==typeof t.callee?"Arguments":r},tt=xe("iterator"),nt=function(e){if(null!=e)return e[tt]||e["@@iterator"]||Je[et(e)]},rt=function(e){var t,n,r,i,o=Pe(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,l=void 0!==u,c=0,h=nt(o);if(l&&(u=Re(u,s>2?arguments[2]:void 0,2)),null==h||a==Array&&ze(h))for(n=new a(t=se(o.length));t>c;c++)Xe(n,c,l?u(o[c],c):o[c]);else for(i=h.call(o),n=new a;!(r=i.next()).done;c++)Xe(n,c,l?qe(i,u,[r.value,c],1):r.value);return n.length=c,n},it=xe("iterator"),ot=0;try{var at=0,st={next:function(){return{done:!!at++}},return:function(){ot=1}};st[it]=function(){return this},Array.from(st,function(){throw 2})}catch(hg){}var ut=function(e,t){if(!t&&!ot)return 0;var n=0;try{var r={};r[it]=function(){return{next:function(){return{done:n=1}}}},e(r)}catch(hg){}return n},lt=!ut(function(e){Array.from(e)});ke({target:"Array",stat:1,forced:lt},{from:rt});var ct=Object.keys||function(e){return pe(e,ge)},ht=c?Object.defineProperties:function(e,t){R(e);for(var n,r=ct(t),i=r.length,o=0;i>o;)O.f(e,n=r[o++],t[n]);return e},ft=ne("document","documentElement"),dt=K("IE_PROTO"),pt=function(){},gt=function(){var e,t=b("iframe"),n=ge.length;for(t.style.display="none",ft.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),gt=e.F;n--;)delete gt.prototype[ge[n]];return gt()},mt=Object.create||function(e,t){var n;return null!==e?(pt.prototype=R(e),n=new pt,pt.prototype=null,n[dt]=e):n=gt(),void 0===t?n:ht(n,t)};Y[dt]=1,ke({target:"Object",stat:1,sham:!c},{create:mt});var vt=l(function(){ct(1)});ke({target:"Object",stat:1,forced:vt},{keys:function(e){return ct(Pe(e))}});var At,yt,Et,Ct=function(e){return function(t,n){var r,i,o=String(y(t)),a=oe(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},_t={codeAt:Ct(0),charAt:Ct(1)},Tt=!l(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),St=K("IE_PROTO"),wt=Object.prototype,It=Tt?Object.getPrototypeOf:function(e){return e=Pe(e),S(e,St)?e[St]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?wt:null},bt=xe("iterator"),Dt=0;[].keys&&("next"in(Et=[].keys())?(yt=It(It(Et)))!==Object.prototype&&(At=yt):Dt=1),null==At&&(At={}),S(At,bt)||L(At,bt,function(){return this});var kt={IteratorPrototype:At,BUGGY_SAFARI_ITERATORS:Dt},Mt=O.f,Rt=xe("toStringTag"),Pt=function(e,t,n){e&&!S(e=n?e:e.prototype,Rt)&&Mt(e,Rt,{configurable:1,value:t})},Ot=kt.IteratorPrototype,Lt=function(){return this},Nt=function(e,t,n){var r=t+" Iterator";return e.prototype=mt(Ot,{next:p(1,n)}),Pt(e,r,0),Je[r]=Lt,e},Bt=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=0,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(hg){}return function(n,r){return R(n),function(e){if(!C(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),xt=kt.IteratorPrototype,Ut=kt.BUGGY_SAFARI_ITERATORS,Gt=xe("iterator"),Ft=function(){return this},Qt=function(e,t,n,r,i,o,a){Nt(n,t,r);var s,u,l,c=function(e){if(e===i&&g)return g;if(!Ut&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=0,d=e.prototype,p=d[Gt]||d["@@iterator"]||i&&d[i],g=!Ut&&p||c(i),m="Array"==t&&d.entries||p;if(m&&(s=It(m.call(new e)),xt!==Object.prototype&&s.next&&(It(s)!==xt&&(Bt?Bt(s,xt):"function"!=typeof s[Gt]&&L(s,Gt,Ft)),Pt(s,h,1))),"values"==i&&p&&"values"!==p.name&&(f=1,g=function(){return p.call(this)}),d[Gt]!==g&&L(d,Gt,g),Je[t]=g,i)if(u={values:c("values"),keys:o?g:c("keys"),entries:c("entries")},a)for(l in u)!Ut&&!f&&l in d||$(d,l,u[l]);else ke({target:t,proto:1,forced:Ut||f},u);return u},jt=_t.charAt,Ht=Z.set,Kt=Z.getterFor("String Iterator");Qt(String,"String",function(e){Ht(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=Kt(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:1}:(e=jt(n,r),t.index+=e.length,{value:e,done:0})});var Yt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var qt in Yt){var Jt=u[qt],Vt=Jt&&Jt.prototype;if(Vt&&Vt.forEach!==Ye)try{L(Vt,"forEach",Ye)}catch(hg){Vt.forEach=Ye}}var Wt="2.3.2",zt={SDK_READY:"sdkStateReady",SDK_NOT_READY:"sdkStateNotReady",SDK_DESTROY:"sdkDestroy",MESSAGE_RECEIVED:"onMessageReceived",CONVERSATION_LIST_UPDATED:"onConversationListUpdated",GROUP_LIST_UPDATED:"onGroupListUpdated",GROUP_SYSTEM_NOTICE_RECEIVED:"receiveGroupSystemNotice",PROFILE_UPDATED:"onProfileUpdated",BLACKLIST_UPDATED:"blacklistUpdated",KICKED_OUT:"kickedOut",ERROR:"error"},Xt={MSG_TEXT:"TIMTextElem",MSG_IMAGE:"TIMImageElem",MSG_SOUND:"TIMSoundElem",MSG_AUDIO:"TIMSoundElem",MSG_FILE:"TIMFileElem",MSG_FACE:"TIMFaceElem",MSG_VIDEO:"TIMVideoFileElem",MSG_GEO:"TIMLocationElem",MSG_GRP_TIP:"TIMGroupTipElem",MSG_GRP_SYS_NOTICE:"TIMGroupSystemNoticeElem",MSG_CUSTOM:"TIMCustomElem",CONV_C2C:"C2C",CONV_GROUP:"GROUP",CONV_SYSTEM:"@TIM#SYSTEM",GRP_PRIVATE:"Private",GRP_PUBLIC:"Public",GRP_CHATROOM:"ChatRoom",GRP_AVCHATROOM:"AVChatRoom",GRP_MBR_ROLE_OWNER:"Owner",GRP_MBR_ROLE_ADMIN:"Admin",GRP_MBR_ROLE_MEMBER:"Member",GRP_TIP_MBR_JOIN:1,GRP_TIP_MBR_QUIT:2,GRP_TIP_MBR_KICKED_OUT:3,GRP_TIP_MBR_SET_ADMIN:4,GRP_TIP_MBR_CANCELED_ADMIN:5,GRP_TIP_GRP_PROFILE_UPDATED:6,GRP_TIP_MBR_PROFILE_UPDATED:7,MSG_REMIND_ACPT_AND_NOTE:"AcceptAndNotify",MSG_REMIND_ACPT_NOT_NOTE:"AcceptNotNotify",MSG_REMIND_DISCARD:"Discard",GENDER_UNKNOWN:"Gender_Type_Unknown",GENDER_FEMALE:"Gender_Type_Female",GENDER_MALE:"Gender_Type_Male",KICKED_OUT_MULT_ACCOUNT:"mutipleAccount",KICKED_OUT_MULT_DEVICE:"mutipleDevice",ALLOW_TYPE_ALLOW_ANY:"AllowType_Type_AllowAny",ALLOW_TYPE_NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_TYPE_DENY_ANY:"AllowType_Type_DenyAny",FORBID_TYPE_NONE:"AdminForbid_Type_None",FORBID_TYPE_SEND_OUT:"AdminForbid_Type_SendOut",JOIN_OPTIONS_FREE_ACCESS:"FreeAccess",JOIN_OPTIONS_NEED_PERMISSION:"NeedPermission",JOIN_OPTIONS_DISABLE_APPLY:"DisableApply",JOIN_STATUS_SUCCESS:"JoinedSuccess",JOIN_STATUS_ALREADY_IN_GROUP:"AlreadyInGroup",JOIN_STATUS_WAIT_APPROVAL:"WaitAdminApproval",GRP_PROFILE_OWNER_ID:"ownerID",GRP_PROFILE_CREATE_TIME:"createTime",GRP_PROFILE_LAST_INFO_TIME:"lastInfoTime",GRP_PROFILE_MEMBER_NUM:"memberNum",GRP_PROFILE_MAX_MEMBER_NUM:"maxMemberNum",GRP_PROFILE_JOIN_OPTION:"joinOption",GRP_PROFILE_INTRODUCTION:"introduction",GRP_PROFILE_NOTIFICATION:"notification"},Zt=xe("species"),$t=function(e){return!l(function(){var t=[];return(t.constructor={})[Zt]=function(){return{foo:1}},1!==t[e](Boolean).foo})},en=je.map;ke({target:"Array",proto:1,forced:!$t("map")},{map:function(e){return en(this,e,arguments.length>1?arguments[1]:void 0)}});var tn=[].slice,nn={},rn=function(e,t,n){if(!(t in nn)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";nn[t]=Function("C,a","return new C("+r.join(",")+")")}return nn[t](e,n)},on=Function.bind||function(e){var t=Me(this),n=tn.call(arguments,1),r=function(){var i=n.concat(tn.call(arguments));return this instanceof r?rn(t,i.length,i):t.apply(e,i)};return C(t.prototype)&&(r.prototype=t.prototype),r};function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||0,r.configurable=1,"value"in r&&(r.writable=1),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:1,configurable:1,writable:1}):e[t]=n,e}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(n,1).forEach(function(t){cn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:1,configurable:1}}),t&&gn(e,t)}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t,n){return(mn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return 0;if(Reflect.construct.sham)return 0;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return 0}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gn(i,n.prototype),i}).apply(null,arguments)}function vn(e){var t="function"==typeof Map?new Map:void 0;return(vn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return mn(e,arguments,pn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:0,writable:1,configurable:1}}),gn(r,e)})(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?An(e):t}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=1,i=0,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=1);}catch(l){i=1,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}ke({target:"Function",proto:1},{bind:on});var _n=function(){function e(){sn(this,e),this.cache=[],this.options=null}return ln(e,[{key:"use",value:function(e){if("function"!=typeof e)throw"middleware must be a function";return this.cache.push(e),this}},{key:"next",value:function(e){if(this.middlewares&&this.middlewares.length>0)return this.middlewares.shift().call(this,this.options,this.next.bind(this))}},{key:"run",value:function(e){return this.middlewares=this.cache.map(function(e){return e}),this.options=e,this.next()}}]),e}(),Tn=xe("isConcatSpreadable"),Sn=!l(function(){var e=[];return e[Tn]=0,e.concat()[0]!==e}),wn=$t("concat"),In=function(e){if(!C(e))return 0;var t=e[Tn];return void 0!==t?!!t:Oe(e)};ke({target:"Array",proto:1,forced:!Sn||!wn},{concat:function(e){var t,n,r,i,o,a=Pe(this),s=Ge(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],In(o)){if(u+(i=se(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,u++)n in o&&Xe(s,u,o[n])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Xe(s,u++,o)}return s.length=u,s}});var bn=O.f,Dn=Function.prototype,kn=Dn.toString,Mn=/^\s*function ([^ (]*)/;!c||"name"in Dn||bn(Dn,"name",{configurable:1,get:function(){try{return kn.call(this).match(Mn)[1]}catch(hg){return""}}});var Rn=n(function(t,n){var r,i,o,a,s,u,l,c,h,f,d,p,g,m,v,A,y,E,C,_;t.exports=(r="function"==typeof Promise,i="object"==typeof self?self:e,o="undefined"!=typeof Symbol,a="undefined"!=typeof Map,s="undefined"!=typeof Set,u="undefined"!=typeof WeakMap,l="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,h=o&&void 0!==Symbol.iterator,f=o&&void 0!==Symbol.toStringTag,d=s&&"function"==typeof Set.prototype.entries,p=a&&"function"==typeof Map.prototype.entries,g=d&&Object.getPrototypeOf((new Set).entries()),m=p&&Object.getPrototypeOf((new Map).entries()),v=h&&"function"==typeof Array.prototype[Symbol.iterator],A=v&&Object.getPrototypeOf([][Symbol.iterator]()),y=h&&"function"==typeof String.prototype[Symbol.iterator],E=y&&Object.getPrototypeOf(""[Symbol.iterator]()),C=8,_=-1,function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===i)return"global";if(Array.isArray(e)&&(0==f||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var n=f&&e[Symbol.toStringTag];if("string"==typeof n)return n;var o=Object.getPrototypeOf(e);return o===RegExp.prototype?"RegExp":o===Date.prototype?"Date":r&&o===Promise.prototype?"Promise":s&&o===Set.prototype?"Set":a&&o===Map.prototype?"Map":l&&o===WeakSet.prototype?"WeakSet":u&&o===WeakMap.prototype?"WeakMap":c&&o===DataView.prototype?"DataView":a&&o===m?"Map Iterator":s&&o===g?"Set Iterator":v&&o===A?"Array Iterator":y&&o===E?"String Iterator":null===o?"Object":Object.prototype.toString.call(e).slice(C,_)})});ke({target:"Array",stat:1},{isArray:Oe});var Pn=ve.f,On={}.toString,Ln="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Nn={f:function(e){return Ln&&"[object Window]"==On.call(e)?function(e){try{return Pn(e)}catch(hg){return Ln.slice()}}(e):Pn(E(e))}},Bn={f:xe},xn=O.f,Un=function(e){var t=ee.Symbol||(ee.Symbol={});S(t,e)||xn(t,e,{value:Bn.f(e)})},Gn=je.forEach,Fn=K("hidden"),Qn=xe("toPrimitive"),jn=Z.set,Hn=Z.getterFor("Symbol"),Kn=Object.prototype,Yn=u.Symbol,qn=u.JSON,Jn=qn&&qn.stringify,Vn=M.f,Wn=O.f,zn=Nn.f,Xn=d.f,Zn=B("symbols"),$n=B("op-symbols"),er=B("string-to-symbol-registry"),tr=B("symbol-to-string-registry"),nr=B("wks"),rr=u.QObject,ir=!rr||!rr.prototype||!rr.prototype.findChild,or=c&&l(function(){return 7!=mt(Wn({},"a",{get:function(){return Wn(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Vn(Kn,t);r&&delete Kn[t],Wn(e,t,n),r&&e!==Kn&&Wn(Kn,t,r)}:Wn,ar=function(e,t){var n=Zn[e]=mt(Yn.prototype);return jn(n,{type:"Symbol",tag:e,description:t}),c||(n.description=t),n},sr=Le&&"symbol"==typeof Yn.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Yn},ur=function(e,t,n){e===Kn&&ur($n,t,n),R(e);var r=_(t,1);return R(n),S(Zn,r)?(n.enumerable?(S(e,Fn)&&e[Fn][r]&&(e[Fn][r]=0),n=mt(n,{enumerable:p(0,0)})):(S(e,Fn)||Wn(e,Fn,p(1,{})),e[Fn][r]=1),or(e,r,n)):Wn(e,r,n)},lr=function(e,t){R(e);var n=E(t),r=ct(n).concat(dr(n));return Gn(r,function(t){c&&!cr.call(n,t)||ur(e,t,n[t])}),e},cr=function(e){var t=_(e,1),n=Xn.call(this,t);return this===Kn&&S(Zn,t)&&!S($n,t)?0:n||!S(this,t)||!S(Zn,t)||S(this,Fn)&&this[Fn][t]?n:1},hr=function(e,t){var n=E(e),r=_(t,1);if(n!==Kn||!S(Zn,r)||S($n,r)){var i=Vn(n,r);return!i||!S(Zn,r)||S(n,Fn)&&n[Fn][r]||(i.enumerable=1),i}},fr=function(e){var t=zn(E(e)),n=[];return Gn(t,function(e){S(Zn,e)||S(Y,e)||n.push(e)}),n},dr=function(e){var t=e===Kn,n=zn(t?$n:E(e)),r=[];return Gn(n,function(e){!S(Zn,e)||t&&!S(Kn,e)||r.push(Zn[e])}),r};Le||($((Yn=function(){if(this instanceof Yn)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=j(e),n=function(e){this===Kn&&n.call($n,e),S(this,Fn)&&S(this[Fn],t)&&(this[Fn][t]=0),or(this,t,p(1,e))};return c&&ir&&or(Kn,t,{configurable:1,set:n}),ar(t,e)}).prototype,"toString",function(){return Hn(this).tag}),d.f=cr,O.f=ur,M.f=hr,ve.f=Nn.f=fr,Ae.f=dr,c&&(Wn(Yn.prototype,"description",{configurable:1,get:function(){return Hn(this).description}}),$(Kn,"propertyIsEnumerable",cr,{unsafe:1})),Bn.f=function(e){return ar(xe(e),e)}),ke({global:1,wrap:1,forced:!Le,sham:!Le},{Symbol:Yn}),Gn(ct(nr),function(e){Un(e)}),ke({target:"Symbol",stat:1,forced:!Le},{for:function(e){var t=String(e);if(S(er,t))return er[t];var n=Yn(t);return er[t]=n,tr[n]=t,n},keyFor:function(e){if(!sr(e))throw TypeError(e+" is not a symbol");if(S(tr,e))return tr[e]},useSetter:function(){ir=1},useSimple:function(){ir=0}}),ke({target:"Object",stat:1,forced:!Le,sham:!c},{create:function(e,t){return void 0===t?mt(e):lr(mt(e),t)},defineProperty:ur,defineProperties:lr,getOwnPropertyDescriptor:hr}),ke({target:"Object",stat:1,forced:!Le},{getOwnPropertyNames:fr,getOwnPropertySymbols:dr}),ke({target:"Object",stat:1,forced:l(function(){Ae.f(1)})},{getOwnPropertySymbols:function(e){return Ae.f(Pe(e))}}),qn&&ke({target:"JSON",stat:1,forced:!Le||l(function(){var e=Yn();return"[null]"!=Jn([e])||"{}"!=Jn({a:e})||"{}"!=Jn(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(C(t)||void 0!==e)&&!sr(e))return Oe(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!sr(t))return t}),r[1]=t,Jn.apply(qn,r)}}),Yn.prototype[Qn]||L(Yn.prototype,Qn,Yn.prototype.valueOf),Pt(Yn,"Symbol"),Y[Fn]=1;var pr=O.f,gr=u.Symbol;if(c&&"function"==typeof gr&&(!("description"in gr.prototype)||void 0!==gr().description)){var mr={},vr=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof vr?new gr(e):void 0===e?gr():gr(e);return""===e&&(mr[t]=1),t};Ee(vr,gr);var Ar=vr.prototype=gr.prototype;Ar.constructor=vr;var yr=Ar.toString,Er="Symbol(test)"==String(gr("test")),Cr=/^Symbol\((.*)\)[^)]+$/;pr(Ar,"description",{configurable:1,get:function(){var e=C(this)?this.valueOf():this,t=yr.call(e);if(S(mr,e))return"";var n=Er?t.slice(7,-1):t.replace(Cr,"$1");return""===n?void 0:n}}),ke({global:1,forced:1},{Symbol:vr})}Un("iterator");var _r=xe("unscopables"),Tr=Array.prototype;null==Tr[_r]&&L(Tr,_r,mt(null));var Sr=function(e){Tr[_r][e]=1},wr=fe.includes;ke({target:"Array",proto:1},{includes:function(e){return wr(this,e,arguments.length>1?arguments[1]:void 0)}}),Sr("includes");var Ir=fe.indexOf,br=[].indexOf,Dr=!!br&&1/[1].indexOf(1,-0)<0,kr=He("indexOf");ke({target:"Array",proto:1,forced:Dr||kr},{indexOf:function(e){return Dr?br.apply(this,arguments)||0:Ir(this,e,arguments.length>1?arguments[1]:void 0)}});var Mr=Z.set,Rr=Z.getterFor("Array Iterator"),Pr=Qt(Array,"Array",function(e,t){Mr(this,{type:"Array Iterator",target:E(e),index:0,kind:t})},function(){var e=Rr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:1}):"keys"==n?{value:r,done:0}:"values"==n?{value:t[r],done:0}:{value:[r,t[r]],done:0}},"values");Je.Arguments=Je.Array,Sr("keys"),Sr("values"),Sr("entries");var Or=[].join,Lr=A!=Object,Nr=He("join",",");ke({target:"Array",proto:1,forced:Lr||Nr},{join:function(e){return Or.call(E(this),void 0===e?",":e)}});var Br=xe("species"),xr=[].slice,Ur=Math.max;ke({target:"Array",proto:1,forced:!$t("slice")},{slice:function(e,t){var n,r,i,o=E(this),a=se(o.length),s=ce(e,a),u=ce(void 0===t?a:t,a);if(Oe(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Oe(n.prototype)?C(n)&&null===(n=n[Br])&&(n=void 0):n=void 0,n===Array||void 0===n))return xr.call(o,s,u);for(r=new(void 0===n?Array:n)(Ur(u-s,0)),i=0;s<u;s++,i++)s in o&&Xe(r,i,o[s]);return r.length=i,r}}),ke({target:"Date",stat:1},{now:function(){return(new Date).getTime()}});var Gr="".repeat||function(e){var t=String(y(this)),n="",r=oe(e);if(r<0||1/0==r)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},Fr=Math.ceil,Qr=function(e){return function(t,n,r){var i,o,a=String(y(t)),s=a.length,u=void 0===r?" ":String(r),l=se(n);return l<=s||""==u?a:(i=l-s,(o=Gr.call(u,Fr(i/u.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},jr={start:Qr(0),end:Qr(1)}.start,Hr=Math.abs,Kr=Date.prototype,Yr=Kr.getTime,qr=Kr.toISOString,Jr=l(function(){return"0385-07-25T07:06:39.999Z"!=qr.call(new Date(-5e13-1))})||!l(function(){qr.call(new Date(NaN))})?function(){if(!isFinite(Yr.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+jr(Hr(e),n?6:4,0)+"-"+jr(this.getUTCMonth()+1,2,0)+"-"+jr(this.getUTCDate(),2,0)+"T"+jr(this.getUTCHours(),2,0)+":"+jr(this.getUTCMinutes(),2,0)+":"+jr(this.getUTCSeconds(),2,0)+"."+jr(t,3,0)+"Z"}:qr;ke({target:"Date",proto:1,forced:Date.prototype.toISOString!==Jr},{toISOString:Jr});var Vr=Date.prototype,Wr=Vr.toString,zr=Vr.getTime;new Date(NaN)+""!="Invalid Date"&&$(Vr,"toString",function(){var e=zr.call(this);return e==e?Wr.call(this):"Invalid Date"});var Xr=function(e,t,n){var r,i;return Bt&&"function"==typeof(r=t.constructor)&&r!==n&&C(i=r.prototype)&&i!==n.prototype&&Bt(e,i),e},Zr="\t\n\v\f\r                　\u2028\u2029\ufeff",$r="["+Zr+"]",ei=RegExp("^"+$r+$r+"*"),ti=RegExp($r+$r+"*$"),ni=function(e){return function(t){var n=String(y(t));return 1&e&&(n=n.replace(ei,"")),2&e&&(n=n.replace(ti,"")),n}},ri={start:ni(1),end:ni(2),trim:ni(3)},ii=ve.f,oi=M.f,ai=O.f,si=ri.trim,ui=u.Number,li=ui.prototype,ci="Number"==m(mt(li)),hi=function(e){var t,n,r,i,o,a,s,u,l=_(e,0);if("string"==typeof l&&l.length>2)if(43===(t=(l=si(l)).charCodeAt(0))||45===t){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+l};if(be("Number",!ui(" 0o1")||!ui("0b1")||ui("+0x1"))){for(var fi,di=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof di&&(ci?l(function(){li.valueOf.call(n)}):"Number"!=m(n))?Xr(new ui(hi(t)),n,di):hi(t)},pi=c?ii(ui):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),gi=0;pi.length>gi;gi++)S(ui,fi=pi[gi])&&!S(di,fi)&&ai(di,fi,oi(ui,fi));di.prototype=li,li.constructor=di,$(u,"Number",di)}var mi=Nn.f,vi=l(function(){return!Object.getOwnPropertyNames(1)});ke({target:"Object",stat:1,forced:vi},{getOwnPropertyNames:mi});var Ai=l(function(){It(1)});ke({target:"Object",stat:1,forced:Ai,sham:!Tt},{getPrototypeOf:function(e){return It(Pe(e))}});var yi={};yi[xe("toStringTag")]="z";var Ei="[object z]"!==String(yi)?function(){return"[object "+et(this)+"]"}:yi.toString,Ci=Object.prototype;Ei!==Ci.toString&&$(Ci,"toString",Ei,{unsafe:1});var _i=ri.trim,Ti=u.parseInt,Si=/^[+-]?0[Xx]/,wi=8!==Ti(Zr+"08")||22!==Ti(Zr+"0x16")?function(e,t){var n=_i(String(e));return Ti(n,t>>>0||(Si.test(n)?16:10))}:Ti;ke({global:1,forced:parseInt!=wi},{parseInt:wi});var Ii,bi,Di,ki=u.Promise,Mi=function(e,t,n){for(var r in t)$(e,r,t[r],n);return e},Ri=xe("species"),Pi=function(e){var t=ne(e),n=O.f;c&&t&&!t[Ri]&&n(t,Ri,{configurable:1,get:function(){return this}})},Oi=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Li=n(function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,u,l,c,h,f=Re(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=nt(e)))throw TypeError("Target is not iterable");if(ze(s)){for(u=0,l=se(e.length);l>u;u++)if((c=i?f(R(h=e[u])[0],h[1]):f(e[u]))&&c instanceof t)return c;return new t(0)}a=s.call(e)}for(;!(h=a.next()).done;)if((c=qe(a,f,h.value,i))&&c instanceof t)return c;return new t(0)}).stop=function(e){return new t(1,e)}}),Ni=xe("species"),Bi=function(e,t){var n,r=R(e).constructor;return void 0===r||null==(n=R(r)[Ni])?t:Me(n)},xi=u.location,Ui=u.setImmediate,Gi=u.clearImmediate,Fi=u.process,Qi=u.MessageChannel,ji=u.Dispatch,Hi=0,Ki={},Yi=function(e){if(Ki.hasOwnProperty(e)){var t=Ki[e];delete Ki[e],t()}},qi=function(e){return function(){Yi(e)}},Ji=function(e){Yi(e.data)},Vi=function(e){u.postMessage(e+"",xi.protocol+"//"+xi.host)};Ui&&Gi||(Ui=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Ki[++Hi]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Ii(Hi),Hi},Gi=function(e){delete Ki[e]},"process"==m(Fi)?Ii=function(e){Fi.nextTick(qi(e))}:ji&&ji.now?Ii=function(e){ji.now(qi(e))}:Qi?(Di=(bi=new Qi).port2,bi.port1.onmessage=Ji,Ii=Re(Di.postMessage,Di,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||l(Vi)?Ii="onreadystatechange"in b("script")?function(e){ft.appendChild(b("script")).onreadystatechange=function(){ft.removeChild(this),Yi(e)}}:function(e){setTimeout(qi(e),0)}:(Ii=Vi,u.addEventListener("message",Ji,0)));var Wi,zi,Xi,Zi,$i,eo,to,no,ro={set:Ui,clear:Gi},io=ne("navigator","userAgent")||"",oo=M.f,ao=ro.set,so=u.MutationObserver||u.WebKitMutationObserver,uo=u.process,lo=u.Promise,co="process"==m(uo),ho=oo(u,"queueMicrotask"),fo=ho&&ho.value;fo||(Wi=function(){var e,t;for(co&&(e=uo.domain)&&e.exit();zi;){t=zi.fn,zi=zi.next;try{t()}catch(hg){throw zi?Zi():Xi=void 0,hg}}Xi=void 0,e&&e.enter()},co?Zi=function(){uo.nextTick(Wi)}:so&&!/(iphone|ipod|ipad).*applewebkit/i.test(io)?($i=1,eo=document.createTextNode(""),new so(Wi).observe(eo,{characterData:1}),Zi=function(){eo.data=$i=!$i}):lo&&lo.resolve?(to=lo.resolve(void 0),no=to.then,Zi=function(){no.call(to,Wi)}):Zi=function(){ao.call(u,Wi)});var po,go,mo,vo,Ao=fo||function(e){var t={fn:e,next:void 0};Xi&&(Xi.next=t),zi||(zi=t,Zi()),Xi=t},yo=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=Me(t),this.reject=Me(n)},Eo={f:function(e){return new yo(e)}},Co=function(e,t){if(R(e),C(t)&&t.constructor===e)return t;var n=Eo.f(e);return(0,n.resolve)(t),n.promise},_o=function(e){try{return{error:0,value:e()}}catch(hg){return{error:1,value:hg}}},To=ro.set,So=xe("species"),wo="Promise",Io=Z.get,bo=Z.set,Do=Z.getterFor(wo),ko=ki,Mo=u.TypeError,Ro=u.document,Po=u.process,Oo=u.fetch,Lo=Po&&Po.versions,No=Lo&&Lo.v8||"",Bo=Eo.f,xo=Bo,Uo="process"==m(Po),Go=!!(Ro&&Ro.createEvent&&u.dispatchEvent),Fo=be(wo,function(){var e=ko.resolve(1),t=function(){},n=(e.constructor={})[So]=function(e){e(t,t)};return!((Uo||"function"==typeof PromiseRejectionEvent)&&e.then(t)instanceof n&&0!==No.indexOf("6.6")&&-1===io.indexOf("Chrome/66"))}),Qo=Fo||!ut(function(e){ko.all(e).catch(function(){})}),jo=function(e){var t;return C(e)&&"function"==typeof(t=e.then)?t:0},Ho=function(e,t,n){if(!t.notified){t.notified=1;var r=t.reactions;Ao(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,u,l,c=r[a++],h=o?c.ok:c.fail,f=c.resolve,d=c.reject,p=c.domain;try{h?(o||(2===t.rejection&&Jo(e,t),t.rejection=1),1==h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),l=1)),s===c.promise?d(Mo("Promise-chain cycle")):(u=jo(s))?u.call(s,f,d):f(s)):d(i)}catch(hg){p&&!l&&p.exit(),d(hg)}}t.reactions=[],t.notified=0,n&&!t.rejection&&Yo(e,t)})}},Ko=function(e,t,n){var r,i;Go?((r=Ro.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,0,1),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=u.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Yo=function(e,t){To.call(u,function(){var n,r=t.value;if(qo(t)&&(n=_o(function(){Uo?Po.emit("unhandledRejection",r,e):Ko("unhandledrejection",e,r)}),t.rejection=Uo||qo(t)?2:1,n.error))throw n.value})},qo=function(e){return 1!==e.rejection&&!e.parent},Jo=function(e,t){To.call(u,function(){Uo?Po.emit("rejectionHandled",e):Ko("rejectionhandled",e,t.value)})},Vo=function(e,t,n,r){return function(i){e(t,n,i,r)}},Wo=function(e,t,n,r){t.done||(t.done=1,r&&(t=r),t.value=n,t.state=2,Ho(e,t,1))},zo=function(e,t,n,r){if(!t.done){t.done=1,r&&(t=r);try{if(e===n)throw Mo("Promise can't be resolved itself");var i=jo(n);i?Ao(function(){var r={done:0};try{i.call(n,Vo(zo,e,r,t),Vo(Wo,e,r,t))}catch(hg){Wo(e,r,hg,t)}}):(t.value=n,t.state=1,Ho(e,t,0))}catch(hg){Wo(e,{done:0},hg,t)}}};Fo&&(ko=function(e){Oi(this,ko,wo),Me(e),po.call(this);var t=Io(this);try{e(Vo(zo,this,t),Vo(Wo,this,t))}catch(hg){Wo(this,t,hg)}},(po=function(e){bo(this,{type:wo,done:0,notified:0,parent:0,reactions:[],rejection:0,state:0,value:void 0})}).prototype=Mi(ko.prototype,{then:function(e,t){var n=Do(this),r=Bo(Bi(this,ko));return r.ok="function"==typeof e?e:1,r.fail="function"==typeof t&&t,r.domain=Uo?Po.domain:void 0,n.parent=1,n.reactions.push(r),0!=n.state&&Ho(this,n,0),r.promise},catch:function(e){return this.then(void 0,e)}}),go=function(){var e=new po,t=Io(e);this.promise=e,this.resolve=Vo(zo,e,t),this.reject=Vo(Wo,e,t)},Eo.f=Bo=function(e){return e===ko||e===mo?new go(e):xo(e)},"function"==typeof ki&&(vo=ki.prototype.then,$(ki.prototype,"then",function(e,t){var n=this;return new ko(function(e,t){vo.call(n,e,t)}).then(e,t)}),"function"==typeof Oo&&ke({global:1,enumerable:1,forced:1},{fetch:function(e){return Co(ko,Oo.apply(u,arguments))}}))),ke({global:1,wrap:1,forced:Fo},{Promise:ko}),Pt(ko,wo,0),Pi(wo),mo=ee.Promise,ke({target:wo,stat:1,forced:Fo},{reject:function(e){var t=Bo(this);return t.reject.call(void 0,e),t.promise}}),ke({target:wo,stat:1,forced:Fo},{resolve:function(e){return Co(this,e)}}),ke({target:wo,stat:1,forced:Qo},{all:function(e){var t=this,n=Bo(t),r=n.resolve,i=n.reject,o=_o(function(){var n=Me(t.resolve),o=[],a=0,s=1;Li(e,function(e){var u=a++,l=0;o.push(void 0),s++,n.call(t,e).then(function(e){l||(l=1,o[u]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Bo(t),r=n.reject,i=_o(function(){var i=Me(t.resolve);Li(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}});var Xo,Zo,$o=function(){var e=R(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},ea=RegExp.prototype.exec,ta=String.prototype.replace,na=ea,ra=(Xo=/a/,Zo=/b*/g,ea.call(Xo,"a"),ea.call(Zo,"a"),0!==Xo.lastIndex||0!==Zo.lastIndex),ia=void 0!==/()??/.exec("")[1];(ra||ia)&&(na=function(e){var t,n,r,i,o=this;return ia&&(n=new RegExp("^"+o.source+"$(?!\\s)",$o.call(o))),ra&&(t=o.lastIndex),r=ea.call(o,e),ra&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),ia&&r&&r.length>1&&ta.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var oa=na;ke({target:"RegExp",proto:1,forced:/./.exec!==oa},{exec:oa});var aa=RegExp.prototype,sa=aa.toString,ua=l(function(){return"/a/b"!=sa.call({source:"a",flags:"b"})}),la="toString"!=sa.name;(ua||la)&&$(RegExp.prototype,"toString",function(){var e=R(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in aa)?$o.call(e):n)},{unsafe:1});var ca=xe("match"),ha=function(e){var t;return C(e)&&(void 0!==(t=e[ca])?!!t:"RegExp"==m(e))},fa=function(e){if(ha(e))throw TypeError("The method doesn't accept regular expressions");return e},da=xe("match");ke({target:"String",proto:1,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[da]=0,"/./"[e](t)}catch(i){}}return 0}("includes")},{includes:function(e){return!!~String(y(this)).indexOf(fa(e),arguments.length>1?arguments[1]:void 0)}});var pa=xe("species"),ga=!l(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),ma=!l(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),va=function(e,t,n,r){var i=xe(e),o=!l(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=o&&!l(function(){var t=0,n=/a/;return n.exec=function(){return t=1,null},"split"===e&&(n.constructor={},n.constructor[pa]=function(){return n}),n[i](""),!t});if(!o||!a||"replace"===e&&!ga||"split"===e&&!ma){var s=/./[i],u=n(i,""[e],function(e,t,n,r,i){return t.exec===oa?o&&!i?{done:1,value:s.call(t,n,r)}:{done:1,value:e.call(n,t,r)}:{done:0}}),c=u[0],h=u[1];$(String.prototype,e,c),$(RegExp.prototype,i,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}),r&&L(RegExp.prototype[i],"sham",1)}},Aa=_t.charAt,ya=function(e,t,n){return t+(n?Aa(e,t).length:1)},Ea=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==m(e))throw TypeError("RegExp#exec called on incompatible receiver");return oa.call(e,t)};va("match",1,function(e,t,n){return[function(t){var n=y(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=R(e),o=String(this);if(!i.global)return Ea(i,o);var a=i.unicode;i.lastIndex=0;for(var s,u=[],l=0;null!==(s=Ea(i,o));){var c=String(s[0]);u[l]=c,""===c&&(i.lastIndex=ya(o,se(i.lastIndex),a)),l++}return 0===l?null:u}]});var Ca=Math.max,_a=Math.min,Ta=Math.floor,Sa=/\$([$&'`]|\d\d?|<[^>]*>)/g,wa=/\$([$&'`]|\d\d?)/g;va("replace",2,function(e,t,n){return[function(n,r){var i=y(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,i){var o=n(t,e,this,i);if(o.done)return o.value;var a=R(e),s=String(this),u="function"==typeof i;u||(i=String(i));var l=a.global;if(l){var c=a.unicode;a.lastIndex=0}for(var h=[];;){var f=Ea(a,s);if(null===f)break;if(h.push(f),!l)break;""===String(f[0])&&(a.lastIndex=ya(s,se(a.lastIndex),c))}for(var d,p="",g=0,m=0;m<h.length;m++){f=h[m];for(var v=String(f[0]),A=Ca(_a(oe(f.index),s.length),0),y=[],E=1;E<f.length;E++)y.push(void 0===(d=f[E])?d:String(d));var C=f.groups;if(u){var _=[v].concat(y,A,s);void 0!==C&&_.push(C);var T=String(i.apply(void 0,_))}else T=r(v,s,A,y,C,i);A>=g&&(p+=s.slice(g,A)+T,g=A+v.length)}return p+s.slice(g)}];function r(e,n,r,i,o,a){var s=r+e.length,u=i.length,l=wa;return void 0!==o&&(o=Pe(o),l=Sa),t.call(a,l,function(t,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>u){var h=Ta(c/10);return 0===h?t:h<=u?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):t}l=i[c-1]}return void 0===l?"":l})}});var Ia=xe("iterator"),ba=xe("toStringTag"),Da=Pr.values;for(var ka in Yt){var Ma=u[ka],Ra=Ma&&Ma.prototype;if(Ra){if(Ra[Ia]!==Da)try{L(Ra,Ia,Da)}catch(hg){Ra[Ia]=Da}if(Ra[ba]||L(Ra,ba,ka),Yt[ka])for(var Pa in Pr)if(Ra[Pa]!==Pr[Pa])try{L(Ra,Pa,Pr[Pa])}catch(hg){Ra[Pa]=Pr[Pa]}}}var Oa=ri.trim,La=u.parseFloat,Na=1/La(Zr+"-0")!=-1/0?function(e){var t=Oa(String(e)),n=La(t);return 0===n&&"-"==t.charAt(0)?-0:n}:La;ke({global:1,forced:parseFloat!=Na},{parseFloat:Na});var Ba,xa="undefined"!=typeof window,Ua="undefined"!=typeof wx&&"function"==typeof wx.getSystemInfoSync&&"function"==typeof wx.canIUse,Ga=xa&&window.navigator&&window.navigator.userAgent||"",Fa=/AppleWebKit\/([\d.]+)/i.exec(Ga),Qa=(Fa&&parseFloat(Fa.pop()),/iPad/i.test(Ga),/iPhone/i.test(Ga),/iPod/i.test(Ga),(Ba=Ga.match(/OS (\d+)_/i))&&Ba[1]&&Ba[1],/Android/i.test(Ga)),ja=(function(){var e=Ga.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);t&&n&&parseFloat(e[1]+"."+e[2])}(),Qa&&/webkit/i.test(Ga),/Firefox/i.test(Ga),/Edge/i.test(Ga)),Ha=(!ja&&/Chrome/i.test(Ga),function(){var e=Ga.match(/Chrome\/(\d+)/);e&&e[1]&&parseFloat(e[1])}(),/MSIE/.test(Ga)),Ka=(/MSIE\s8\.0/.test(Ga),function(){var e=/MSIE\s(\d+)\.\d/.exec(Ga),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ga)&&/rv:11.0/.test(Ga)&&(t=11),t}()),Ya=(/Safari/i.test(Ga),/TBS\/\d+/i.test(Ga)),qa=(function(){var e=Ga.match(/TBS\/(\d+)/i);e&&e[1]&&e[1]}(),!Ya&&/MQQBrowser\/\d+/i.test(Ga),!Ya&&/ QQBrowser\/\d+/i.test(Ga),/(micromessenger|webbrowser)/i.test(Ga)),Ja=(/Windows/i.test(Ga),/MAC OS X/i.test(Ga),/MicroMessenger/i.test(Ga),Math.max),Va=Math.min;ke({target:"Array",proto:1,forced:!$t("splice")},{splice:function(e,t){var n,r,i,o,a,s,u=Pe(this),l=se(u.length),c=ce(e,l),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=l-c):(n=h-2,r=Va(Ja(oe(t),0),l-c)),l+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Ge(u,r),o=0;o<r;o++)(a=c+o)in u&&Xe(i,o,u[a]);if(i.length=r,n<r){for(o=c;o<l-r;o++)s=o+n,(a=o+r)in u?u[s]=u[a]:delete u[s];for(o=l;o>l-r+n;o--)delete u[o-1]}else if(n>r)for(o=l-r;o>c;o--)s=o+n-1,(a=o+r-1)in u?u[s]=u[a]:delete u[s];for(o=0;o<n;o++)u[o+c]=arguments[o+2];return u.length=l-r+n,i}});var Wa=!l(function(){return Object.isExtensible(Object.preventExtensions({}))}),za=n(function(e){var t=O.f,n=j("meta"),r=0,i=Object.isExtensible||function(){return 1},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:0,fastKey:function(e,t){if(!C(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!S(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!S(e,n)){if(!i(e))return 1;if(!t)return 0;o(e)}return e[n].weakData},onFreeze:function(e){return Wa&&a.REQUIRED&&i(e)&&!S(e,n)&&o(e),e}};Y[n]=1}),Xa=(za.REQUIRED,za.fastKey,za.getWeakData,za.onFreeze,O.f),Za=za.fastKey,$a=Z.set,es=Z.getterFor,ts=(function(e,t,n,r,i){var o=u[e],a=o&&o.prototype,s=o,c=r?"set":"add",h={},f=function(e){var t=a[e];$(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return i&&!C(e)?0:t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!C(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return i&&!C(e)?0:t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(be(e,"function"!=typeof o||!(i||a.forEach&&!l(function(){(new o).entries().next()}))))s=n.getConstructor(t,e,r,c),za.REQUIRED=1;else if(be(e,1)){var d=new s,p=d[c](i?{}:-0,1)!=d,g=l(function(){d.has(1)}),m=ut(function(e){new o(e)}),v=!i&&l(function(){for(var e=new o,t=5;t--;)e[c](t,t);return!e.has(-0)});m||((s=t(function(t,n){Oi(t,s,e);var i=Xr(new o,t,s);return null!=n&&Li(n,i[c],i,r),i})).prototype=a,a.constructor=s),(g||v)&&(f("delete"),f("has"),r&&f("get")),(v||p)&&f(c),i&&a.clear&&delete a.clear}h[e]=s,ke({global:1,forced:s!=o},h),Pt(s,e),i||n.setStrong(s,e,r)}("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var i=e(function(e,o){Oi(e,i,t),$a(e,{type:t,index:mt(null),first:void 0,last:void 0,size:0}),c||(e.size=0),null!=o&&Li(o,e[r],e,n)}),o=es(t),a=function(e,t,n){var r,i,a=o(e),u=s(e,t);return u?u.value=n:(a.last=u={index:i=Za(t,1),key:t,value:n,previous:r=a.last,next:void 0,removed:0},a.first||(a.first=u),r&&(r.next=u),c?a.size++:e.size++,"F"!==i&&(a.index[i]=u)),e},s=function(e,t){var n,r=o(e),i=Za(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Mi(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=1,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,c?e.size=0:this.size=0},delete:function(e){var t=o(this),n=s(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=1,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),c?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),r=Re(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Mi(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),c&&Xa(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=es(t),o=es(r);Qt(e,t,function(e,t){$a(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:0}:"values"==t?{value:n.value,done:0}:{value:[n.key,n.value],done:0}:(e.target=void 0,{value:void 0,done:1})},n?"entries":"values",!n,1),Pi(t)}},1),[].push),ns=Math.min,rs=!l(function(){return!RegExp(4294967295,"y")});va("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(y(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!ha(e))return t.call(r,e,i);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,h=new RegExp(e.source,l+"g");(o=oa.call(h,r))&&!((a=h.lastIndex)>c&&(u.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&ts.apply(u,o.slice(1)),s=o[0].length,c=a,u.length>=i));)h.lastIndex===o.index&&h.lastIndex++;return c===r.length?!s&&h.test("")||u.push(""):u.push(r.slice(c)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=y(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=R(e),s=String(this),u=Bi(a,RegExp),l=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(rs?"y":"g"),h=new u(rs?a:"^(?:"+a.source+")",c),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===Ea(h,s)?[s]:[];for(var d=0,p=0,g=[];p<s.length;){h.lastIndex=rs?p:0;var m,v=Ea(h,rs?s:s.slice(p));if(null===v||(m=ns(se(h.lastIndex+(rs?0:p)),s.length))===d)p=ya(s,p,l);else{if(g.push(s.slice(d,p)),g.length===f)return g;for(var A=1;A<=v.length-1;A++)if(g.push(v[A]),g.length===f)return g;p=d=m}}return g.push(s.slice(d)),g}]},!rs);var is,os,as="undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};is="undefined"!=typeof console?console:void 0!==as&&as.console?as.console:"undefined"!=typeof window&&window.console?window.console:{};for(var ss=function(){},us=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],ls=us.length;ls--;)os=us[ls],console[os]||(is[os]=ss);is.methods=us;var cs=is,hs=0,fs=function(){if(Ua){var e=wx.getSystemInfoSync().SDKVersion;if(void 0===e||void 0===wx.getLogManager)return 0;if(function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var i=parseInt(e[r]),o=parseInt(t[r]);if(i>o)return 1;if(i<o)return-1}return 0}(e,"2.1.0")>=0)return wx.getLogManager().log("I can use wx log. SDKVersion="+e),1}return 0}(),ds=new Map;function ps(){var e=new Date;return"TIM "+e.toLocaleTimeString("en-US",{hour12:0})+"."+function(e){var t;switch(e.toString().length){case 1:t="00"+e;break;case 2:t="0"+e;break;default:t=e}return t}(e.getMilliseconds())+":"}var gs={_data:[],_length:0,_visible:0,arguments2String:function(e){var t;if(1===e.length)t=ps()+e[0];else{t=ps();for(var n=0,r=e.length;n<r;n++)ws(e[n])?bs(e[n])?t+=Os(e[n]):t+=JSON.stringify(e[n]):t+=e[n],t+=" "}return t},debug:function(){if(hs<=-1){var e=this.arguments2String(arguments);gs.record(e,"debug"),cs.debug(e),fs&&wx.getLogManager().debug(e)}},log:function(){if(hs<=0){var e=this.arguments2String(arguments);gs.record(e,"log"),cs.log(e),fs&&wx.getLogManager().log(e)}},info:function(){if(hs<=1){var e=this.arguments2String(arguments);gs.record(e,"info"),cs.info(e),fs&&wx.getLogManager().info(e)}},warn:function(){if(hs<=2){var e=this.arguments2String(arguments);gs.record(e,"warn"),cs.warn(e),fs&&wx.getLogManager().warn(e)}},error:function(){if(hs<=3){var e=this.arguments2String(arguments);gs.record(e,"error"),cs.error(e),fs&&wx.getLogManager().warn(e)}},time:function(e){ds.set(e,Rs.now())},timeEnd:function(e){if(ds.has(e)){var t=Rs.now()-ds.get(e);return ds.delete(e),t}return cs.warn("未找到对应label: ".concat(e,", 请在调用 logger.timeEnd 前，调用 logger.time")),0},setLevel:function(e){e<4&&cs.log(ps()+"set level from "+hs+" to "+e),hs=e},record:function(e,t){fs||(1100===gs._length&&(gs._data.splice(0,100),gs._length=1e3),gs._length++,gs._data.push("".concat(e," [").concat(t,"] \n")))},getLog:function(){return gs._data}},ms=function(e){return"map"===Ds(e)},vs=function(e){return"set"===Ds(e)},As=function(e){return"file"===Ds(e)},ys=function(e){return null!==e&&("number"==typeof e&&!isNaN(e-0)||"object"===an(e)&&e.constructor===Number)},Es=function(e){return"string"==typeof e},Cs=function(e){return null!==e&&"object"===an(e)},_s=function(e){if("object"!==an(e)||null===e)return 0;var t=Object.getPrototypeOf(e);if(null===t)return 1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n},Ts=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"array"===Ds(e)},Ss=function(e){return void 0===e},ws=function(e){return Ts(e)||Cs(e)},Is=function(e){return"function"==typeof e},bs=function(e){return e instanceof Error},Ds=function(e){return Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1].toLowerCase()},ks=function(e){if("string"!=typeof e)return 0;var t=e[0];return/[^a-zA-Z0-9]/.test(t)?0:1},Ms=0;Date.now||(Date.now=function(){return(new Date).getTime()});var Rs={now:function(){0===Ms&&(Ms=Date.now()-1);var e=Date.now()-Ms;return e>4294967295?(Ms+=4294967295,Date.now()-Ms):e},utc:function(){return Math.round(Date.now()/1e3)}},Ps=function e(t,n,r,i){if(!ws(t)||!ws(n))return 0;for(var o,a=0,s=Object.keys(n),u=0,l=s.length;u<l;u++)if(o=s[u],!(Ss(n[o])||r&&r.includes(o)))if(ws(t[o])&&ws(n[o]))a+=e(t[o],n[o],r,i);else{if(i&&i.includes(n[o]))continue;t[o]!==n[o]&&(t[o]=n[o],a+=1)}return a},Os=function(e){return JSON.stringify(e,["message","code"])},Ls=function(){var e=new Date,t=e.toISOString(),n=e.getTimezoneOffset()/60,r="";return r=n<0?n>-10?"+0"+Math.abs(100*n):"+"+Math.abs(100*n):n>=10?"-"+100*n:"-0"+100*n,t.replace("Z",r)},Ns=function(e){if(0===e.length)return 0;for(var t=0,n=0,r="undefined"!=typeof document&&void 0!==document.characterSet?document.characterSet:"UTF-8";void 0!==e[t];)n+=e[t++].charCodeAt[t]<=255?1:0==r?3:2;return n},Bs=function(e){var t=e||99999999;return Math.round(Math.random()*t)},xs="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Us=xs.length,Gs=function(e,t){for(var n in e)if(e[n]===t)return 1;return 0},Fs={},Qs=function(){if(Ua)return"https:";var e=window.location.protocol;return["http:","https:"].indexOf(e)<0&&(e="http:"),e},js=function(e){return-1===e.indexOf("http://")||-1===e.indexOf("https://")?"https://"+e:e.replace(/https|http/,"https")},Hs=function(e){return e===Xt.GRP_PUBLIC},Ks=function(e){return e===Xt.GRP_AVCHATROOM};function Ys(e,t){var n={};return Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n}function qs(e,t){return"function"!=typeof e?(gs.warn("callbackSafetyDefense: The callback must be a function"),e):function(){try{e.apply(t,arguments)}catch(hg){}}}var Js=Object.prototype.hasOwnProperty;function Vs(e){if(null==e)return 1;if("boolean"==typeof e)return 0;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(_s(e)){for(var t in e)if(Js.call(e,t))return 0;return 1}return ms(e)||vs(e)||As(e)?0===e.size:0}function Ws(e,t,n){if(void 0===t)return 1;var r=1;if("object"===Rn(t).toLowerCase())Object.keys(t).forEach(function(i){var o=1===e.length?e[0][i]:void 0;r=zs(o,t[i],n,i)?r:0});else if("array"===Rn(t).toLowerCase())for(var i=0;i<t.length;i++)r=zs(e[i],t[i],n,t[i].name)?r:0;if(r)return r;throw new Error("Params validate failed.")}function zs(e,t,n,r){if(void 0===t)return 1;var i=1;return t.required&&Vs(e)&&(cs.error("TIM [".concat(n,'] Missing required params: "').concat(r,'".')),i=0),Vs(e)||Rn(e).toLowerCase()===t.type.toLowerCase()||(cs.error("TIM [".concat(n,'] Invalid params: type check failed for "').concat(r,'".Expected ').concat(t.type,".")),i=0),t.validator&&!t.validator(e)&&(cs.error("TIM [".concat(n,"] Invalid params: custom validator check failed for params.")),i=0),i}var Xs={login:{userID:{type:"String",required:1},userSig:{type:"String",required:1}},addToBlacklist:{userIDList:{type:"Array",required:1}},mutilParam:[{name:"paramName",type:"Number",required:1},{name:"paramName",type:"String",required:1}],on:[{name:"eventName",type:"String",context:"Object",required:1},{name:"listener",type:"Function",required:0}],sendMessage:[{name:"message",type:"Object",required:1}],getMessageList:{conversationID:{type:"String",required:1},nextReqMessageID:{type:"String"},count:{type:"Number",validator:function(e){return Ss(e)||/^[1-9][0-9]*$/.test(e)?1:0}}},getConversationProfile:[{name:"conversationID",type:"String",required:1,validator:function(e){return e&&(Es(t=e)&&t.slice(0,3)===Xt.CONV_C2C||function(e){return Es(e)&&e.slice(0,5)===Xt.CONV_GROUP}(e)||function(e){return Es(e)&&e===Xt.CONV_SYSTEM}(e))?1:0;var t}}],deleteConversation:[{name:"conversationID",type:"String",required:1}],getGroupList:{groupProfileFilter:{type:"Array"}},getGroupProfile:{groupID:{type:"String",required:1},groupCustomFieldFilter:{type:"Array"},memberCustomFieldFilter:{type:"Array"}},getGroupProfileAdvance:{groupIDList:{type:"Array",required:1}},createGroup:{name:{type:"String",required:1}},joinGroup:{groupID:{type:"String",required:1},type:{type:"String"},applyMessage:{type:"String"}},quitGroup:[{name:"groupID",type:"String",required:1}],handleApplication:{message:{type:"Object",required:1},handleAction:{type:"String",required:1},handleMessage:{type:"String"}},changeGroupOwner:{groupID:{type:"String",required:1},newOwnerID:{type:"String",required:1}},updateGroupProfile:{groupID:{type:"String",required:1}},dismissGroup:[{name:"groupID",type:"String",required:1}],searchGroupByID:[{name:"groupID",type:"String",required:1}],getGroupMemberList:{groupID:{type:"String",required:1},offset:{type:"Number"},count:{type:"Number"}},getGroupMemberProfile:{groupID:{type:"String",required:1},userIDList:{type:"Array",required:1},memberCustomFieldFilter:{type:"Array"}},addGroupMemeber:{groupID:{type:"String",required:1},userIDList:{type:"Array",required:1}},setGroupMemberRole:{groupID:{type:"String",required:1},userID:{type:"String",required:1},role:{type:"String",required:1}},setGroupMemberMuteTime:{groupID:{type:"String",required:1},userID:{type:"String"},muteTime:{type:"Number",validator:function(e){return e>=0}}},setGroupMemberNameCard:{groupID:{type:"String",required:1},userID:{type:"String"},nameCard:{type:"String",required:1,validator:function(e){return 1==/^\s+$/.test(e)?0:1}}},setMessageRemindType:{groupID:{type:"String",required:1},messageRemindType:{type:"String",required:1}},setGroupMemberCustomField:{groupID:{type:"String",required:1},userID:{type:"String"},memberCustomField:{type:"Array",required:1}},deleteGroupMember:{groupID:{type:"String",required:1}},createTextMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createCustomMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createImageMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createAudioMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createVideoMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},createFaceMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1,validator:function(e){return _s(e)&&ys(e.index)&&Es(e.data)?1:0}}},createFileMessage:{to:{type:"String",required:1},conversationType:{type:"String",required:1},payload:{type:"Object",required:1}},getUserProfile:{userIDList:{type:"Array",validator:function(e){return Ts(e)?(e.length,1):0}}},updateMyProfile:{profileCustomField:{type:"Array",validator:function(e){return Ss(e)?1:Ts(e)?1:0}}}},Zs={login:"login",logout:"logout",on:"on",once:"once",off:"off",setLogLevel:"setLogLevel",downloadLog:"downloadLog",registerPlugin:"registerPlugin",destroy:"destroy",createTextMessage:"createTextMessage",createImageMessage:"createImageMessage",createAudioMessage:"createAudioMessage",createVideoMessage:"createVideoMessage",createCustomMessage:"createCustomMessage",createFaceMessage:"createFaceMessage",createFileMessage:"createFileMessage",sendMessage:"sendMessage",resendMessage:"resendMessage",getMessageList:"getMessageList",setMessageRead:"setMessageRead",getConversationList:"getConversationList",getConversationProfile:"getConversationProfile",deleteConversation:"deleteConversation",getGroupList:"getGroupList",getGroupProfile:"getGroupProfile",createGroup:"createGroup",joinGroup:"joinGroup",updateGroupProfile:"updateGroupProfile",quitGroup:"quitGroup",dismissGroup:"dismissGroup",changeGroupOwner:"changeGroupOwner",searchGroupByID:"searchGroupByID",setMessageRemindType:"setMessageRemindType",handleGroupApplication:"handleGroupApplication",getGroupMemberProfile:"getGroupMemberProfile",getGroupMemberList:"getGroupMemberList",addGroupMember:"addGroupMember",deleteGroupMember:"deleteGroupMember",setGroupMemberNameCard:"setGroupMemberNameCard",setGroupMemberMuteTime:"setGroupMemberMuteTime",setGroupMemberRole:"setGroupMemberRole",setGroupMemberCustomField:"setGroupMemberCustomField",getMyProfile:"getMyProfile",getUserProfile:"getUserProfile",updateMyProfile:"updateMyProfile",getBlacklist:"getBlacklist",addToBlacklist:"addToBlacklist",removeFromBlacklist:"removeFromBlacklist",getFriendList:"getFriendList"},$s=xe("iterator"),eu=!l(function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[$s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash}),tu=Object.assign,nu=!tu||l(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=tu({},e)[n]||"abcdefghijklmnopqrst"!=ct(tu({},t)).join("")})?function(e,t){for(var n=Pe(e),r=arguments.length,i=1,o=Ae.f,a=d.f;r>i;)for(var s,u=A(arguments[i++]),l=o?ct(u).concat(o(u)):ct(u),h=l.length,f=0;h>f;)s=l[f++],c&&!a.call(u,s)||(n[s]=u[s]);return n}:tu,ru=/[^\0-\u007E]/,iu=/[.\u3002\uFF0E\uFF61]/g,ou="Overflow: input needs wider integers to process",au=Math.floor,su=String.fromCharCode,uu=function(e){return e+22+75*(e<26)},lu=function(e,t,n){var r=0;for(e=n?au(e/700):e>>1,e+=au(e/t);e>455;r+=36)e=au(e/35);return au(r+36*e/(e+38))},cu=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(su(n));var u=r.length,l=u;for(u&&r.push("-");l<i;){var c=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<c&&(c=n);var h=l+1;if(c-o>au((2147483647-a)/h))throw RangeError(ou);for(a+=(c-o)*h,o=c,t=0;t<e.length;t++){if((n=e[t])<o&&++a>2147483647)throw RangeError(ou);if(n==o){for(var f=a,d=36;;d+=36){var p=d<=s?1:d>=s+26?26:d-s;if(f<p)break;var g=f-p,m=36-p;r.push(su(uu(p+g%m))),f=au(g/m)}r.push(su(uu(f))),s=lu(a,h,l==u),a=0,++l}}++a,++o}return r.join("")},hu=function(e){var t=nt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return R(t.call(e))},fu=xe("iterator"),du=Z.set,pu=Z.getterFor("URLSearchParams"),gu=Z.getterFor("URLSearchParamsIterator"),mu=/\+/g,vu=Array(4),Au=function(e){return vu[e-1]||(vu[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},yu=function(e){try{return decodeURIComponent(e)}catch(hg){return e}},Eu=function(e){var t=e.replace(mu," "),n=4;try{return decodeURIComponent(t)}catch(hg){for(;n;)t=t.replace(Au(n--),yu);return t}},Cu=/[!'()~]|%20/g,_u={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Tu=function(e){return _u[e]},Su=function(e){return encodeURIComponent(e).replace(Cu,Tu)},wu=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:Eu(r.shift()),value:Eu(r.join("="))}))},Iu=function(e){this.entries.length=0,wu(this.entries,e)},bu=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Du=Nt(function(e,t){du(this,{type:"URLSearchParamsIterator",iterator:hu(pu(e).entries),kind:t})},"Iterator",function(){var e=gu(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),ku=function(){Oi(this,ku,"URLSearchParams");var e,t,n,r,i,o,a,s=arguments.length>0?arguments[0]:void 0,u=this,l=[];if(du(u,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:Iu}),void 0!==s)if(C(s))if("function"==typeof(e=nt(s)))for(t=e.call(s);!(n=t.next()).done;){if((i=(r=hu(R(n.value))).next()).done||(o=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");l.push({key:i.value+"",value:o.value+""})}else for(a in s)S(s,a)&&l.push({key:a,value:s[a]+""});else wu(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},Mu=ku.prototype;Mi(Mu,{append:function(e,t){bu(arguments.length,2);var n=pu(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){bu(arguments.length,1);for(var t=pu(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){bu(arguments.length,1);for(var t=pu(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){bu(arguments.length,1);for(var t=pu(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){bu(arguments.length,1);for(var t=pu(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return 1;return 0},set:function(e,t){bu(arguments.length,1);for(var n,r=pu(this),i=r.entries,o=0,a=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=1,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=pu(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=pu(this).entries,r=Re(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Du(this,"keys")},values:function(){return new Du(this,"values")},entries:function(){return new Du(this,"entries")}},{enumerable:1}),$(Mu,fu,Mu.entries),$(Mu,"toString",function(){for(var e,t=pu(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Su(e.key)+"="+Su(e.value));return n.join("&")},{enumerable:1}),Pt(ku,"URLSearchParams"),ke({global:1,forced:!eu},{URLSearchParams:ku});var Ru,Pu={URLSearchParams:ku,getState:pu},Ou=_t.codeAt,Lu=u.URL,Nu=Pu.URLSearchParams,Bu=Pu.getState,xu=Z.set,Uu=Z.getterFor("URL"),Gu=Math.floor,Fu=Math.pow,Qu=/[A-Za-z]/,ju=/[\d+\-.A-Za-z]/,Hu=/\d/,Ku=/^(0x|0X)/,Yu=/^[0-7]+$/,qu=/^\d+$/,Ju=/^[\dA-Fa-f]+$/,Vu=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,Wu=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,zu=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Xu=/[\u0009\u000A\u000D]/g,Zu=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=el(t.slice(1,-1))))return"Invalid host";e.host=n}else if(ul(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(iu,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(ru.test(n)?"xn--"+cu(n):n);return r.join(".")}(t),Vu.test(t))return"Invalid host";if(null===(n=$u(t)))return"Invalid host";e.host=n}else{if(Wu.test(t))return"Invalid host";for(n="",r=rt(t),i=0;i<r.length;i++)n+=al(r[i],nl);e.host=n}},$u=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=Ku.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?qu:8==o?Yu:Ju).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Fu(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*Fu(256,3-r);return s},el=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(t=n=0;n<4&&Ju.test(f());)t=16*t+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,l>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!Hu.test(f()))return;for(;Hu.test(f());){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[l]=256*u[l]+i,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[l++]=t}else{if(null!==c)return;h++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},tl=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Gu(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=0),r===n?(t+=n?":":"::",i=1):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},nl={},rl=nu({},nl,{" ":1,'"':1,"<":1,">":1,"`":1}),il=nu({},rl,{"#":1,"?":1,"{":1,"}":1}),ol=nu({},il,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),al=function(e,t){var n=Ou(e,0);return n>32&&n<127&&!S(t,e)?e:encodeURIComponent(e)},sl={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},ul=function(e){return S(sl,e.scheme)},ll=function(e){return""!=e.username||""!=e.password},cl=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},hl=function(e,t){var n;return 2==e.length&&Qu.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},fl=function(e){var t;return e.length>1&&hl(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},dl=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&hl(t[0],1)||t.pop()},pl=function(e){return"."===e||"%2e"===e.toLowerCase()},gl={},ml={},vl={},Al={},yl={},El={},Cl={},_l={},Tl={},Sl={},wl={},Il={},bl={},Dl={},kl={},Ml={},Rl={},Pl={},Ol={},Ll={},Nl={},Bl=function(e,t,n,r){var i,o,a,s,u,l=n||gl,c=0,h="",f=0,d=0,p=0;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=0,t=t.replace(zu,"")),t=t.replace(Xu,""),i=rt(t);c<=i.length;){switch(o=i[c],l){case gl:if(!o||!Qu.test(o)){if(n)return"Invalid scheme";l=vl;continue}h+=o.toLowerCase(),l=ml;break;case ml:if(o&&(ju.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";h="",l=vl,c=0;continue}if(n&&(ul(e)!=S(sl,h)||"file"==h&&(ll(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(ul(e)&&sl[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=Dl:ul(e)&&r&&r.scheme==e.scheme?l=Al:ul(e)?l=_l:"/"==i[c+1]?(l=yl,c++):(e.cannotBeABaseURL=1,e.path.push(""),l=Ol)}break;case vl:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=1,l=Nl;break}l="file"==r.scheme?Dl:El;continue;case Al:if("/"!=o||"/"!=i[c+1]){l=El;continue}l=Tl,c++;break;case yl:if("/"==o){l=Sl;break}l=Pl;continue;case El:if(e.scheme=r.scheme,o==Ru)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&ul(e))l=Cl;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",l=Ll;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),l=Pl;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=Nl}break;case Cl:if(!ul(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,l=Pl;continue}l=Sl}else l=Tl;break;case _l:if(l=Tl,"/"!=o||"/"!=h.charAt(c+1))continue;c++;break;case Tl:if("/"!=o&&"\\"!=o){l=Sl;continue}break;case Sl:if("@"==o){f&&(h="%40"+h),f=1,a=rt(h);for(var g=0;g<a.length;g++){var m=a[g];if(":"!=m||p){var v=al(m,ol);p?e.password+=v:e.username+=v}else p=1}h=""}else if(o==Ru||"/"==o||"?"==o||"#"==o||"\\"==o&&ul(e)){if(f&&""==h)return"Invalid authority";c-=rt(h).length+1,h="",l=wl}else h+=o;break;case wl:case Il:if(n&&"file"==e.scheme){l=Ml;continue}if(":"!=o||d){if(o==Ru||"/"==o||"?"==o||"#"==o||"\\"==o&&ul(e)){if(ul(e)&&""==h)return"Invalid host";if(n&&""==h&&(ll(e)||null!==e.port))return;if(s=Zu(e,h))return s;if(h="",l=Rl,n)return;continue}"["==o?d=1:"]"==o&&(d=0),h+=o}else{if(""==h)return"Invalid host";if(s=Zu(e,h))return s;if(h="",l=bl,n==Il)return}break;case bl:if(!Hu.test(o)){if(o==Ru||"/"==o||"?"==o||"#"==o||"\\"==o&&ul(e)||n){if(""!=h){var A=parseInt(h,10);if(A>65535)return"Invalid port";e.port=ul(e)&&A===sl[e.scheme]?null:A,h=""}if(n)return;l=Rl;continue}return"Invalid port"}h+=o;break;case Dl:if(e.scheme="file","/"==o||"\\"==o)l=kl;else{if(!r||"file"!=r.scheme){l=Pl;continue}if(o==Ru)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",l=Ll;else{if("#"!=o){fl(i.slice(c).join(""))||(e.host=r.host,e.path=r.path.slice(),dl(e)),l=Pl;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",l=Nl}}break;case kl:if("/"==o||"\\"==o){l=Ml;break}r&&"file"==r.scheme&&!fl(i.slice(c).join(""))&&(hl(r.path[0],1)?e.path.push(r.path[0]):e.host=r.host),l=Pl;continue;case Ml:if(o==Ru||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&hl(h))l=Pl;else if(""==h){if(e.host="",n)return;l=Rl}else{if(s=Zu(e,h))return s;if("localhost"==e.host&&(e.host=""),n)return;h="",l=Rl}continue}h+=o;break;case Rl:if(ul(e)){if(l=Pl,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Ru&&(l=Pl,"/"!=o))continue}else e.fragment="",l=Nl;else e.query="",l=Ll;break;case Pl:if(o==Ru||"/"==o||"\\"==o&&ul(e)||!n&&("?"==o||"#"==o)){if(".."===(u=(u=h).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(dl(e),"/"==o||"\\"==o&&ul(e)||e.path.push("")):pl(h)?"/"==o||"\\"==o&&ul(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&hl(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(o==Ru||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",l=Ll):"#"==o&&(e.fragment="",l=Nl)}else h+=al(o,il);break;case Ol:"?"==o?(e.query="",l=Ll):"#"==o?(e.fragment="",l=Nl):o!=Ru&&(e.path[0]+=al(o,nl));break;case Ll:n||"#"!=o?o!=Ru&&("'"==o&&ul(e)?e.query+="%27":e.query+="#"==o?"%23":al(o,nl)):(e.fragment="",l=Nl);break;case Nl:o!=Ru&&(e.fragment+=al(o,rl))}c++}},xl=function(e){var t,n,r=Oi(this,xl,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=xu(r,{type:"URL"});if(void 0!==i)if(i instanceof xl)t=Uu(i);else if(n=Bl(t={},String(i)))throw TypeError(n);if(n=Bl(a,o,null,t))throw TypeError(n);var s=a.searchParams=new Nu,u=Bu(s);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(s)||null},c||(r.href=Gl.call(r),r.origin=Fl.call(r),r.protocol=Ql.call(r),r.username=jl.call(r),r.password=Hl.call(r),r.host=Kl.call(r),r.hostname=Yl.call(r),r.port=ql.call(r),r.pathname=Jl.call(r),r.search=Vl.call(r),r.searchParams=Wl.call(r),r.hash=zl.call(r))},Ul=xl.prototype,Gl=function(){var e=Uu(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",ll(e)&&(l+=n+(r?":"+r:"")+"@"),l+=tl(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Fl=function(){var e=Uu(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(hg){return"null"}return"file"!=t&&ul(e)?t+"://"+tl(e.host)+(null!==n?":"+n:""):"null"},Ql=function(){return Uu(this).scheme+":"},jl=function(){return Uu(this).username},Hl=function(){return Uu(this).password},Kl=function(){var e=Uu(this),t=e.host,n=e.port;return null===t?"":null===n?tl(t):tl(t)+":"+n},Yl=function(){var e=Uu(this).host;return null===e?"":tl(e)},ql=function(){var e=Uu(this).port;return null===e?"":String(e)},Jl=function(){var e=Uu(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Vl=function(){var e=Uu(this).query;return e?"?"+e:""},Wl=function(){return Uu(this).searchParams},zl=function(){var e=Uu(this).fragment;return e?"#"+e:""},Xl=function(e,t){return{get:e,set:t,configurable:1,enumerable:1}};if(c&&ht(Ul,{href:Xl(Gl,function(e){var t=Uu(this),n=String(e),r=Bl(t,n);if(r)throw TypeError(r);Bu(t.searchParams).updateSearchParams(t.query)}),origin:Xl(Fl),protocol:Xl(Ql,function(e){var t=Uu(this);Bl(t,String(e)+":",gl)}),username:Xl(jl,function(e){var t=Uu(this),n=rt(String(e));if(!cl(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=al(n[r],ol)}}),password:Xl(Hl,function(e){var t=Uu(this),n=rt(String(e));if(!cl(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=al(n[r],ol)}}),host:Xl(Kl,function(e){var t=Uu(this);t.cannotBeABaseURL||Bl(t,String(e),wl)}),hostname:Xl(Yl,function(e){var t=Uu(this);t.cannotBeABaseURL||Bl(t,String(e),Il)}),port:Xl(ql,function(e){var t=Uu(this);cl(t)||(""==(e=String(e))?t.port=null:Bl(t,e,bl))}),pathname:Xl(Jl,function(e){var t=Uu(this);t.cannotBeABaseURL||(t.path=[],Bl(t,e+"",Rl))}),search:Xl(Vl,function(e){var t=Uu(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Bl(t,e,Ll)),Bu(t.searchParams).updateSearchParams(t.query)}),searchParams:Xl(Wl),hash:Xl(zl,function(e){var t=Uu(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Bl(t,e,Nl)):t.fragment=null})}),$(Ul,"toJSON",function(){return Gl.call(this)},{enumerable:1}),$(Ul,"toString",function(){return Gl.call(this)},{enumerable:1}),Lu){var Zl=Lu.createObjectURL,$l=Lu.revokeObjectURL;Zl&&$(xl,"createObjectURL",function(e){return Zl.apply(Lu,arguments)}),$l&&$(xl,"revokeObjectURL",function(e){return $l.apply(Lu,arguments)})}Pt(xl,"URL"),ke({global:1,forced:!eu,sham:!c},{URL:xl});var ec={NO_SDKAPPID:2e3,NO_ACCOUNT_TYPE:2001,NO_IDENTIFIER:2002,NO_USERSIG:2003,NO_SDK_INSTANCE:2004,REQ_GET_ACCESS_LAYER_FAILED:2020,REQ_LOGIN_FAILED:2021,NO_TINYID:2022,NO_A2KEY:2023,NOT_LOGGED_IN:2024,COS_UNDETECTED:2040,MESSAGE_SEND_FAIL:2100,MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD:2101,MESSAGE_ELEMENT_METHOD_UNDEFINED:2102,MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:2103,MESSAGE_PARAMETER_MISSING_TO_ACCOUNT:2104,MESSAGE_SEND_NEED_MESSAGE_INSTANCE:2105,MESSAGE_SEND_INVALID_CONVERSATION_TYPE:2106,MESSAGE_RESEND_FILE_UNSUPPORTED:2107,MESSAGE_FILE_IS_EMPTY:2108,MESSAGE_ONPROGRESS_FUNCTION_ERROR:2109,MESSAGE_IMAGE_UPLOAD_FAIL:2250,MESSAGE_IMAGE_SELECT_FILE_FIRST:2251,MESSAGE_IMAGE_TYPES_LIMIT:2252,MESSAGE_IMAGE_SIZE_LIMIT:2253,MESSAGE_AUDIO_UPLOAD_FAIL:2300,MESSAGE_AUDIO_SIZE_LIMIT:2301,MESSAGE_VIDEO_UPLOAD_FAIL:2350,MESSAGE_VIDEO_SIZE_LIMIT:2351,MESSAGE_VIDEO_TYPES_LIMIT:2352,MESSAGE_FILE_UPLOAD_FAIL:2400,MESSAGE_FILE_SELECT_FILE_FIRST:2401,MESSAGE_FILE_SIZE_LIMIT:2402,MESSAGE_FILE_URL_IS_EMPTY:2403,CONVERSATION_NOT_FOUND:2500,USER_OR_GROUP_NOT_FOUND:2501,CONVERSATION_UN_RECORDED_TYPE:2502,ILLEGAL_GROUP_TYPE:2600,CANNOT_JOIN_PRIVATE:2601,CANNOT_CHANGE_OWNER_IN_AVCHATROOM:2620,CANNOT_CHANGE_OWNER_TO_SELF:2621,CANNOT_DISMISS_PRIVATE:2622,JOIN_GROUP_FAIL:2660,CANNOT_ADD_MEMBER_IN_AVCHATROOM:2661,CANNOT_KICK_MEMBER_IN_AVCHATROOM:2680,NOT_OWNER:2681,CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM:2682,INVALID_MEMBER_ROLE:2683,CANNOT_SET_SELF_MEMBER_ROLE:2684,DEL_FRIEND_INVALID_PARAM:2700,UPDATE_PROFILE_INVALID_PARAM:2721,UPDATE_PROFILE_NO_KEY:2722,ADD_BLACKLIST_INVALID_PARAM:2740,DEL_BLACKLIST_INVALID_PARAM:2741,CANNOT_ADD_SELF_TO_BLACKLIST:2742,NETWORK_ERROR:2800,NETWORK_TIMEOUT:2801,NETWORK_BASE_OPTIONS_NO_URL:2802,NETWORK_UNDEFINED_SERVER_NAME:2803,NETWORK_PACKAGE_UNDEFINED:2804,NO_NETWORK:2805,SOCKET_NOT_SUPPORTED:2850,CONVERTOR_IRREGULAR_PARAMS:2900,NOTICE_RUNLOOP_UNEXPECTED_CONDITION:2901,NOTICE_RUNLOOP_OFFSET_LOST:2902,GET_LONGPOLL_ID_FAILED:2903,UNCAUGHT_ERROR:2903,SDK_IS_NOT_READY:2999,SSO_LOG_MODEL_INIT_ERROR:3e3,LONG_POLL_KICK_OUT:91101},tc={NO_SDKAPPID:"无 SDKAppID",NO_ACCOUNT_TYPE:"无 accountType",NO_IDENTIFIER:"无 userID",NO_USERSIG:"无 usersig",NO_SDK_INSTANCE:"无 SDK 实例",REQ_GET_ACCESS_LAYER_FAILED:"获取沙箱请求失败",REQ_LOGIN_FAILED:"登录请求失败",NO_TINYID:"无tinyid",NO_A2KEY:"无a2key",NOT_LOGGED_IN:"未登录",COS_UNDETECTED:"未检测到 COS 上传插件",MESSAGE_SEND_FAIL:"消息发送失败",MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD:"未知的漫游消息结束字段",MESSAGE_ELEMENT_METHOD_UNDEFINED:"消息元素未创建，因为方法未定义",MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS:"MessageController.constructor() 需要参数 options",MESSAGE_PARAMETER_MISSING_TO_ACCOUNT:"需要 toAccount 参数",MESSAGE_SEND_NEED_MESSAGE_INSTANCE:"需要 Message 的实例",MESSAGE_SEND_INVALID_CONVERSATION_TYPE:'Message.conversationType 只能为 "C2C"或"GROUP" ',MESSAGE_RESEND_FILE_UNSUPPORTED:"文件类消息不能使用 SDK.resendMessage() 函数重发",MESSAGE_FILE_IS_EMPTY:"无法发送空文件",MESSAGE_ONPROGRESS_FUNCTION_ERROR:"回调函数运行时遇到错误，请检查接入侧代码",MESSAGE_IMAGE_UPLOAD_FAIL:"图片上传失败",MESSAGE_IMAGE_SELECT_FILE_FIRST:"请先选择一个图片",MESSAGE_IMAGE_TYPES_LIMIT:"只允许上传 jpg png jpeg gif 格式的图片",MESSAGE_IMAGE_SIZE_LIMIT:"图片大小超过20M，无法发送",MESSAGE_AUDIO_UPLOAD_FAIL:"语音上传失败",MESSAGE_AUDIO_SIZE_LIMIT:"语音大小大于20M，无法发送",MESSAGE_VIDEO_UPLOAD_FAIL:"视频上传失败",MESSAGE_VIDEO_SIZE_LIMIT:"视频大小超过20M，无法发送",MESSAGE_VIDEO_TYPES_LIMIT:"只允许上传 mp4 格式的视频",MESSAGE_FILE_UPLOAD_FAIL:"文件上传失败",MESSAGE_FILE_SELECT_FILE_FIRST:"请先选择一个文件",MESSAGE_FILE_SIZE_LIMIT:"文件大小超过20M，无法发送 ",MESSAGE_FILE_URL_IS_EMPTY:"缺少必要的参数文件 URL",CONVERSATION_NOT_FOUND:"没有找到相应的会话，请检查传入参数",USER_OR_GROUP_NOT_FOUND:"没有找到相应的用户或群组，请检查传入参数",CONVERSATION_UN_RECORDED_TYPE:"未记录的会话类型",ILLEGAL_GROUP_TYPE:"非法的群类型，请检查传入参数",CANNOT_JOIN_PRIVATE:"不能加入 Private 类型的群组",CANNOT_CHANGE_OWNER_IN_AVCHATROOM:"AVChatRoom 类型的群组不能转让群主",CANNOT_CHANGE_OWNER_TO_SELF:"不能把群主转让给自己",CANNOT_DISMISS_PRIVATE:"不能解散 Private 类型的群组",JOIN_GROUP_FAIL:"加群失败，请检查传入参数或重试",CANNOT_ADD_MEMBER_IN_AVCHATROOM:"AVChatRoom 类型的群不支持邀请群成员",CANNOT_KICK_MEMBER_IN_AVCHATROOM:"不能在 AVChatRoom 类型的群组踢人",NOT_OWNER:"你不是群主，只有群主才有权限操作",CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM:"不能在 Private / AVChatRoom 类型的群中设置群成员身份",INVALID_MEMBER_ROLE:"不合法的群成员身份，请检查传入参数",CANNOT_SET_SELF_MEMBER_ROLE:"不能设置自己的群成员身份，请检查传入参数",DEL_FRIEND_INVALID_PARAM:"传入 deleteFriend 接口的参数无效",UPDATE_PROFILE_INVALID_PARAM:"传入 updateMyProfile 接口的参数无效",UPDATE_PROFILE_NO_KEY:"updateMyProfile 无标配资料字段或自定义资料字段",ADD_BLACKLIST_INVALID_PARAM:"传入 addToBlacklist 接口的参数无效",DEL_BLACKLIST_INVALID_PARAM:"传入 removeFromBlacklist 接口的参数无效",CANNOT_ADD_SELF_TO_BLACKLIST:"不能拉黑自己",NETWORK_ERROR:"网络错误",NETWORK_TIMEOUT:"请求超时",NETWORK_BASE_OPTIONS_NO_URL:"网络层初始化错误，缺少 URL 参数",NETWORK_UNDEFINED_SERVER_NAME:"打包错误，未定义的 serverName",NETWORK_PACKAGE_UNDEFINED:"未定义的 packageConfig",NO_NETWORK:"未连接到网络",SOCKET_NOT_SUPPORTED:"当前浏览器不支持 WebSocket",CONVERTOR_IRREGULAR_PARAMS:"不规范的参数名称",NOTICE_RUNLOOP_UNEXPECTED_CONDITION:"意料外的通知条件",NOTICE_RUNLOOP_OFFSET_LOST:"_syncOffset 丢失",GET_LONGPOLL_ID_FAILED:"获取 longpolling id 失败",UNCAUGHT_ERROR:"未经明确定义的错误",SDK_IS_NOT_READY:"接口调用时机不合理，等待 SDK 处于 ready 状态后再调用（监听 TIM.EVENT.SDK_READY 事件）",LONG_POLL_KICK_OUT:"检测到多个 web 实例登录，消息通道下线",SSO_LOG_MODEL_INIT_ERROR:"SSOLogData 数据模型初始化错误"},nc={70001:"UserSig 已过期，请重新生成。建议 UserSig 有效期设置不小于24小时。",70002:"UserSig 长度为0，请检查传入的 UserSig 是否正确。",70003:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70005:"UserSig 非法，请使用官网提供的 API 重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70009:"UserSig 验证失败，可能因为生成 UserSig 时混用了其他 SDKAppID 的私钥或密钥导致，请使用对应 SDKAppID 下的私钥或密钥重新生成 UserSig(https://cloud.tencent.com/document/product/269/32688)。",70013:"请求中的 UserID 与生成 UserSig 时使用的 UserID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70014:"请求中的 SDKAppID 与生成 UserSig 时使用的 SDKAppID 不匹配，您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70016:"公钥不存在，UserSig 验证失败，请在即时通信 IM 控制台获取密钥(https://cloud.tencent.com/document/product/269/32578#.E8.8E.B7.E5.8F.96.E5.AF.86.E9.92.A5)。",70020:"SDKAppID 未找到，请在即时通信 IM 控制台确认应用信息。",70050:"UserSig 验证次数过于频繁。请检查 UserSig 是否正确，并于1分钟后重新验证。您可以在即时通信 IM 控制台的【开发辅助工具(https://console.cloud.tencent.com/im-detail/tool-usersig)】页面校验 UserSig。",70051:"帐号被拉入黑名单。",70052:"UserSig 已经失效，请重新生成，再次尝试。",70107:"因安全原因被限制登录，请不要频繁登录。",70169:"请求的用户帐号不存在。",70114:"服务端内部超时，请稍后重试。",70202:"服务端内部超时，请稍后重试。",70206:"请求中批量数量不合法。",70402:"参数非法，请检查必填字段是否填充，或者字段的填充是否满足协议要求。",70403:"请求失败，需要 App 管理员权限。",70398:"帐号数超限。如需创建多于100个帐号，请将应用升级为专业版，具体操作指引请参见购买指引(https://cloud.tencent.com/document/product/269/32458)。",70500:"服务端内部错误，请稍后重试。",71e3:"删除帐号失败。仅支持删除体验版帐号，您当前应用为专业版，暂不支持帐号删除。",20001:"请求包非法。",20002:"UserSig 或 A2 失效。",20003:"消息发送方或接收方 UserID 无效或不存在，请检查 UserID 是否已导入即时通信 IM。",20004:"网络异常，请重试。",20005:"服务端内部错误，请重试。",20006:"触发发送单聊消息之前回调，App 后台返回禁止下发该消息。",20007:"发送单聊消息，被对方拉黑，禁止发送。消息发送状态默认展示为失败，您可以登录控制台修改该场景下的消息发送状态展示结果，具体操作请参见消息保留设置(https://cloud.tencent.com/document/product/269/38656)。",20009:"消息发送双方互相不是好友，禁止发送（配置单聊消息校验好友关系才会出现）。",20010:"发送单聊消息，自己不是对方的好友（单向关系），禁止发送。",20011:"发送单聊消息，对方不是自己的好友（单向关系），禁止发送。",20012:"发送方被禁言，该条消息被禁止发送。",20016:"消息撤回超过了时间限制（默认2分钟）。",20018:"删除漫游内部错误。",90001:"JSON 格式解析失败，请检查请求包是否符合 JSON 规范。",90002:"JSON 格式请求包中 MsgBody 不符合消息格式描述，或者 MsgBody 不是 Array 类型，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90003:"JSON 格式请求包体中缺少 To_Account 字段或者 To_Account 帐号不存在。",90005:"JSON 格式请求包体中缺少 MsgRandom 字段或者 MsgRandom 字段不是 Integer 类型。",90006:"JSON 格式请求包体中缺少 MsgTimeStamp 字段或者 MsgTimeStamp 字段不是 Integer 类型。",90007:"JSON 格式请求包体中 MsgBody 类型不是 Array 类型，请将其修改为 Array 类型。",90008:"JSON 格式请求包体中缺少 From_Account 字段或者 From_Account 帐号不存在。",90009:"请求需要 App 管理员权限。",90010:"JSON 格式请求包不符合消息格式描述，请参考 TIMMsgElement 对象的定义(https://cloud.tencent.com/document/product/269/2720#.E6.B6.88.E6.81.AF.E5.85.83.E7.B4.A0-timmsgelement)。",90011:"批量发消息目标帐号超过500，请减少 To_Account 中目标帐号数量。",90012:"To_Account 没有注册或不存在，请确认 To_Account 是否导入即时通信 IM 或者是否拼写错误。",90026:"消息离线存储时间错误（最多不能超过7天）。",90031:"JSON 格式请求包体中 SyncOtherMachine 字段不是 Integer 类型。",90044:"JSON 格式请求包体中 MsgLifeTime 字段不是 Integer 类型。",90048:"请求的用户帐号不存在。",90054:"撤回请求中的 MsgKey 不合法。",90994:"服务内部错误，请重试。",90995:"服务内部错误，请重试。",91e3:"服务内部错误，请重试。",90992:"服务内部错误，请重试；如果所有请求都返回该错误码，且 App 配置了第三方回调，请检查 App 服务端是否正常向即时通信 IM 后台服务端返回回调结果。",93e3:"JSON 数据包超长，消息包体请不要超过8k。",91101:"Web 端长轮询被踢（Web 端同时在线实例个数超出限制）。",10002:"服务端内部错误，请重试。",10003:"请求中的接口名称错误，请核对接口名称并重试。",10004:"参数非法，请根据错误描述检查请求是否正确。",10005:"请求包体中携带的帐号数量过多。",10006:"操作频率限制，请尝试降低调用的频率。",10007:"操作权限不足，例如 Public 群组中普通成员尝试执行踢人操作，但只有 App 管理员才有权限。",10008:"请求非法，可能是请求中携带的签名信息验证不正确，请再次尝试。",10009:"该群不允许群主主动退出。",10010:"群组不存在，或者曾经存在过，但是目前已经被解散。",10011:"解析 JSON 包体失败，请检查包体的格式是否符合 JSON 格式。",10012:"发起操作的 UserID 非法，请检查发起操作的用户 UserID 是否填写正确。",10013:"被邀请加入的用户已经是群成员。",10014:"群已满员，无法将请求中的用户加入群组，如果是批量加人，可以尝试减少加入用户的数量。",10015:"群组 ID 非法，请检查群组 ID 是否填写正确。",10016:"App 后台通过第三方回调拒绝本次操作。",10017:"因被禁言而不能发送消息，请检查发送者是否被设置禁言。",10018:"应答包长度超过最大包长（1MB），请求的内容过多，请尝试减少单次请求的数据量。",10019:"请求的用户帐号不存在。",10021:"群组 ID 已被使用，请选择其他的群组 ID。",10023:"发消息的频率超限，请延长两次发消息时间的间隔。",10024:"此邀请或者申请请求已经被处理。",10025:"群组 ID 已被使用，并且操作者为群主，可以直接使用。",10026:"该 SDKAppID 请求的命令字已被禁用。",10030:"请求撤回的消息不存在。",10031:"消息撤回超过了时间限制（默认2分钟）。",10032:"请求撤回的消息不支持撤回操作。",10033:"群组类型不支持消息撤回操作。",10034:"该消息类型不支持删除操作。",10035:"音视频聊天室和在线成员广播大群不支持删除消息。",10036:"音视频聊天室创建数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买预付费套餐“IM音视频聊天室”。",10037:"单个用户可创建和加入的群组数量超过了限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“单人可创建与加入群组数”。",10038:"群成员数量超过限制，请参考价格说明(https://cloud.tencent.com/document/product/269/11673)购买或升级预付费套餐“扩展群人数上限”。",10041:"该应用（SDKAppID）已配置不支持群消息撤回。"},rc=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this))).code=e.code,n.message=nc[e.code]||e.message,n.data=e.data||{},n}return dn(t,vn(Error)),t}(),ic="1.7.3",oc="537048168",ac="10",sc="protobuf",uc="json",lc={HOST:{TYPE:3,ACCESS_LAYER_TYPES:{SANDBOX:1,TEST:2,PRODUCTION:3},CURRENT:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},PRODUCTION:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},SANDBOX:{COMMON:"https://events.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},TEST:{COMMON:"https://test.tim.qq.com",PIC:"https://pic.tim.qq.com",COS:"https://yun.tim.qq.com"},setCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;switch(e){case this.ACCESS_LAYER_TYPES.SANDBOX:this.CURRENT=this.SANDBOX,this.TYPE=this.ACCESS_LAYER_TYPES.SANDBOX;break;case this.ACCESS_LAYER_TYPES.TEST:this.CURRENT=this.TEST,this.TYPE=this.ACCESS_LAYER_TYPES.TEST;break;default:this.CURRENT=this.PRODUCTION,this.TYPE=this.ACCESS_LAYER_TYPES.PRODUCTION}}},NAME:{OPEN_IM:"openim",GROUP:"group_open_http_svc",FRIEND:"sns",PROFILE:"profile",RECENT_CONTACT:"recentcontact",PIC:"openpic",BIG_GROUP_NO_AUTH:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING_NO_AUTH:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat",WEB_IM:"webim",IM_COS_SIGN:"im_cos_sign_svr"},CMD:{ACCESS_LAYER:"accesslayer",LOGIN:"login",LOGOUT_LONG_POLL:"longpollinglogout",LOGOUT_ALL:"logout",PORTRAIT_GET:"portrait_get_all",PORTRAIT_SET:"portrait_set",GET_LONG_POLL_ID:"getlongpollingid",LONG_POLL:"longpolling",AVCHATROOM_LONG_POLL:"get_msg",FRIEND_ADD:"friend_add",FRIEND_GET_ALL:"friend_get_all",FRIEND_DELETE:"friend_delete",RESPONSE_PENDENCY:"friend_response",GET_PENDENCY:"pendency_get",DELETE_PENDENCY:"pendency_delete",GET_GROUP_PENDENCY:"get_pendency",GET_BLACKLIST:"black_list_get",ADD_BLACKLIST:"black_list_add",DELETE_BLACKLIST:"black_list_delete",CREATE_GROUP:"create_group",GET_JOINED_GROUPS:"get_joined_group_list",SEND_MESSAGE:"sendmsg",SEND_GROUP_MESSAGE:"send_group_msg",GET_GROUP_INFO:"get_group_info",GET_GROUP_MEMBER_INFO:"get_specified_group_member_info",GET_GROUP_MEMBER_LIST:"get_group_member_info",QUIT_GROUP:"quit_group",CHANGE_GROUP_OWNER:"change_group_owner",DESTROY_GROUP:"destroy_group",ADD_GROUP_MEMBER:"add_group_member",DELETE_GROUP_MEMBER:"delete_group_member",SEARCH_GROUP_BY_ID:"get_group_public_info",APPLY_JOIN_GROUP:"apply_join_group",HANDLE_APPLY_JOIN_GROUP:"handle_apply_join_group",MODIFY_GROUP_INFO:"modify_group_base_info",MODIFY_GROUP_MEMBER_INFO:"modify_group_member_info",DELETE_GROUP_SYSTEM_MESSAGE:"deletemsg",GET_CONVERSATION_LIST:"get",PAGING_GET_CONVERSATION_LIST:"page_get",DELETE_CONVERSATION:"delete",GET_MESSAGES:"getmsg",GET_C2C_ROAM_MESSAGES:"getroammsg",GET_GROUP_ROAM_MESSAGES:"group_msg_get",SET_C2C_MESSAGE_READ:"msgreaded",SET_GROUP_MESSAGE_READ:"msg_read_report",FILE_READ_AND_WRITE_AUTHKEY:"authkey",FILE_UPLOAD:"pic_up",COS_SIGN:"cos",TIM_WEB_REPORT:"tim_web_report",BIG_DATA_HALLWAY_AUTH_KEY:"authkey"},CHANNEL:{SOCKET:1,XHR:2,AUTO:0},NAME_VERSION:{openim:"v4",group_open_http_svc:"v4",sns:"v4",profile:"v4",recentcontact:"v4",openpic:"v4",group_open_http_noauth_svc:"v1",group_open_long_polling_http_noauth_svc:"v1",imopenstat:"v4",im_cos_sign_svr:"v4",webim:"v4"}};lc.HOST.setCurrent(lc.HOST.ACCESS_LAYER_TYPES.PRODUCTION);var cc={request:{toAccount:"To_Account",fromAccount:"From_Account",to:"To_Account",from:"From_Account",groupID:"GroupId",avatar:"FaceUrl"},response:{GroupId:"groupID",Member_Account:"userID",MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",MsgSeq:"sequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",MsgBody:"elements",MsgType:"type",MsgShow:"messageShow",NextMsgSeq:"nextMessageSeq",FaceUrl:"avatar",ProfileDataMod:"profileModify",Profile_Account:"userID",ValueBytes:"value",ValueNum:"value",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgFrom_AccountExtraInfo:"messageFromAccountExtraInformation",Operator_Account:"operatorID",OpType:"operationType",ReportType:"operationType",UserId:"userID",User_Account:"userID",List_Account:"userIDList",MsgOperatorMemberExtraInfo:"operatorInfo",MsgMemberExtraInfo:"memberInfoList",ImageUrl:"avatar",NickName:"nick",MsgGroupNewInfo:"newGroupProfile",Owner_Account:"ownerID",GroupName:"name",GroupFaceUrl:"avatar",GroupIntroduction:"introduction",GroupNotification:"notification",GroupApplyJoinOption:"joinOption",MsgKey:"messageKey",GroupInfo:"groupProfile",Desc:"description",Ext:"extension"},ignoreKeyWord:["C2C","ID","USP"]},hc={CONTEXT_UPDATED:"_contextWasUpdated",CONTEXT_RESET:"_contextWasReset",CONTEXT_A2KEY_AND_TINYID_UPDATED:"_a2KeyAndTinyIDUpdated",RUNNING_STATE_CHANGE:"_runningStateChange",SYNC_MESSAGE_C2C_START:"_noticeSynchronizationStart",SYNC_MESSAGE_C2C_PROCESSING:"_noticeIsSynchronizing",SYNC_MESSAGE_C2C_FINISHED:"_noticeIsSynchronized",SYNC_MESSAGE_GROUP_SYSTEM_NOTICE_FINISHED:"_groupSystemNoticeSyncFinished",MESSAGE_SENDING:"_sendingMessage",MESSAGE_C2C_SEND_SUCCESS:"_sendC2CMessageSuccess",MESSAGE_C2C_SEND_FAIL:"_sendC2CMessageFail",MESSAGE_SYNC_PROCESSING:"_syncMessageProcessing",MESSAGE_SYNC_FINISHED:"_syncMessageFinished",MESSAGE_C2C_INSTANT_RECEIVED:"_receiveInstantMessage",MESSAGE_C2C_RECEIVE_ROAMING_SUCCESS:"_receiveC2CRoamingMessageSuccess",MESSAGE_C2C_RECEIVE_ROAMING_FAIL:"_receiveC2CRoamingMessageFail",MESSAGE_GROUP_SEND_SUCCESS:"_sendGroupMessageSuccess",MESSAGE_GROUP_SEND_FAIL:"_sendGroupMessageFail",MESSAGE_GROUP_RECEIVE_ROAMING_SUCCESS:"_receiveGroupRoamingMessageSuccess",MESSAGE_GROUP_RECEIVE_ROAMING_FAIL:"_receiveGroupRoamingMessageFail",MESSAGE_GROUP_INSTANT_RECEIVED:"_receiveGroupInstantMessage",MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED:"_receveGroupSystemNotice",NOTICE_LONGPOLL_GETID_SUCCESS:"_getLongPollIDSuccess",NOTICE_LONGPOLL_GETID_FAIL:"_getLongPollIDFail",NOTICE_LONGPOLL_START:"_longPollStart",NOTICE_LONGPOLL_IN_POLLING:"_longPollInPolling",NOTICE_LONGPOLL_REQUEST_ARRIVED:"_longPollInArrived",NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED:"_longPollInNotArrived",NOTICE_LONGPOLL_JITTER:"_longPollJitter",NOTICE_LONGPOLL_SOON_RECONNECT:"_longPollSoonReconnect",NOTICE_LONGPOLL_LONG_RECONNECT:"_longPollLongReconnect",NOTICE_LONGPOLL_DISCONNECT:"_longpollChannelDisconnect",NOTICE_LONGPOLL_STOPPED:"_longPollStopped",NOTICE_LONGPOLL_KICKED_OUT:"_longPollKickedOut",NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT:"_longPollMitipuleDeviceKickedOut",NOTICE_LONGPOLL_NEW_C2C_NOTICE:"_longPollGetNewC2CNotice",NOTICE_LONGPOLL_NEW_C2C_MESSAGES:"_longPollGetNewC2CMessages",NOTICE_LONGPOLL_NEW_GROUP_MESSAGES:"_longPollGetNewGroupMessages",NOTICE_LONGPOLL_NEW_GROUP_TIPS:"_longPollGetNewGroupTips",NOTICE_LONGPOLL_NEW_GROUP_NOTICE:"_longPollGetNewGroupNotice",NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES:"_longPollGetNewFriendMessages",NOTICE_LONGPOLL_SEQUENCE_UPDATE:"_longPollNoticeSequenceUpdate",NOTICE_LONGPOLL_PROFILE_MODIFIED:"_longPollProfileModified",NOTICE_LONGPOLL_RECEIVE_SYSTEM_ORDERS:"_longPollNoticeReceiveSystemOrders",NOTICE_LONGPOLL_RESTART:"_longpollRestart",APPLY_ADD_FRIEND_SUCCESS:"_addFriendApplySendSucess",APPLY_ADD_FRIEND_FAIL:"_addFriendApplySendFail",APPLY_GET_PENDENCY_SUCCESS:"_applyGetPendenciesSucess",APPLY_GET_PENDENCY_FAIL:"_applyGetPendenciesFail",APPLY_DELETE_SUCCESS:"_applyDeletedSucess",APPLY_DELETE_FAIL:"_applyDeletedFail",GROUP_CREATE_SUCCESS:"_createGroupSuccess",GROUP_CREATE_FAIL:"_createGroupFail",GROUP_LIST_UPDATED:"_onGroupListUpdated",SIGN_LOGIN_CHANGE:"_loginStatusChange",SIGN_LOGIN:"_login",SIGN_LOGIN_SUCCESS:"_loginSuccess",SIGN_LOGIN_FAIL:"_loginFail",SIGN_LOGININFO_UPDATED:"_signLoginInfoUpdated",SIGN_LOGOUT_EXECUTING:"_signLogoutExcuting",SIGN_LOGOUT_SUCCESS:"_logoutSuccess",SIGN_GET_ACCESS_LAYER_CHANGE:"_getAccessLayerStatusChange",SIGN_GET_ACCESS_LAYER_SUCCESS:"_getAccessLayerSuccess",SIGN_GET_ACCESS_LAYER_FAIL:"_getAccessLayerFail",ERROR_DETECTED:"_errorHasBeenDetected",CONVERSATION_LIST_UPDATED:"_onConversationListUpdated",CONVERSATION_LIST_PROFILE_UPDATED:"_onConversationListProfileUpdated",CONVERSATION_DELETED:"_conversationDeleted",PROFILE_UPDATED:"onProfileUpdated",FRIEND_GET_SUCCESS:"_getFriendsSuccess",FRIEND_GET_FAIL:"_getFriendsFail",FRIEND_DELETE_SUCCESS:"_deleteFriendSuccess",FRIEND_DELETE_FAIL:"_deleteFriendFail",BLACKLIST_ADD_SUCCESS:"_addBlacklistSuccess",BLACKLIST_ADD_FAIL:"_addBlacklistFail",BLACKLIST_GET_SUCCESS:"_getBlacklistSuccess",BLACKLIST_GET_FAIL:"_getBlacklistFail",AVCHATROOM_OPTIONS_UPDATED:"_AVChatRoomOptionsUpdated",AVCHATROOM_JOIN_SUCCESS:"joinAVChatRoomSuccess",SDK_MEMORY_STATUS_UPDATE:"_sdkMemoryStatusUpdate",SDK_READY:"_sdkStateReady"},fc=je.filter;ke({target:"Array",proto:1,forced:!$t("filter")},{filter:function(e){return fc(this,e,arguments.length>1?arguments[1]:void 0)}}),ke({target:"Object",stat:1,forced:Object.assign!==nu},{assign:nu});var dc=ri.trim;function pc(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var n;return t=Object.assign({pascalCase:0},t),0===(e=Array.isArray(e)?e.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=gc(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}).replace(/\d+(\w|$)/g,function(e){return e.toUpperCase()}),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n)}ke({target:"String",proto:1,forced:function(e){return l(function(){return!!Zr[e]()||"​᠎"!="​᠎"[e]()||Zr[e].name!==e})}("trim")},{trim:function(){return dc(this)}});var gc=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,i)+"-"+e.slice(i),t=0,r=n,n=1,i++):n&&r&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=0,t=1):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,r=n,n=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e};function mc(e,t,n){var r=[],i=0,o=function e(t,n){if(++i>10)return i--,t;if(Ts(t)){var o=t.map(function(t){return Cs(t)?e(t,n):t});return i--,o}if(Cs(t)){var a=(s=t,u=function(e,t){if(!ks(t))return 0;if((a=t)!==pc(a)){for(var i=1,o=0;o<cc.ignoreKeyWord.length;o++)if(t.includes(cc.ignoreKeyWord[o])){i=0;break}i&&r.push(t)}var a;return Ss(n[t])?function(e){return e[0].toUpperCase()+pc(e).slice(1)}(t):n[t]},l=Object.create(null),Object.keys(s).forEach(function(e){var t=u(s[e],e);t&&(l[t]=s[e])}),l);return a=Ys(a,function(t,r){return Ts(t)||Cs(t)?e(t,n):t}),i--,a}var s,u,l}(e,t=fn({},cc.request,{},t));return r.length>0&&n.innerEmitter.emit(hc.ERROR_DETECTED,{code:ec.CONVERTOR_IRREGULAR_PARAMS,message:ec.CONVERTOR_IRREGULAR_PARAMS}),o}function vc(e,t){if(t=fn({},cc.response,{},t),Ts(e))return e.map(function(e){return Cs(e)?vc(e,t):e});if(Cs(e)){var n=(r=e,i=function(e,n){return Ss(t[n])?pc(n):t[n]},o={},Object.keys(r).forEach(function(e){o[i(r[e],e)]=r[e]}),o);return Ys(n,function(e){return Ts(e)||Cs(e)?vc(e,t):e})}var r,i,o}var Ac=function(){function e(t,n){var r=this;if(sn(this,e),void 0===n)throw new rc({code:ec.NO_SDK_INSTANCE,message:tc.NO_SDK_INSTANCE});this.tim=n,this.method=t.method||"POST",this._initializeServerMap(),this._initializeURL(t),this._initializeRequestData(t),this.callback=function(e){return vc(e=t.decode(e),r._getResponseMap(t))}}return ln(e,[{key:"_initializeServerMap",value:function(){this._serverMap=Object.create(null);var e="";for(var t in lc.NAME)if(Object.prototype.hasOwnProperty.call(lc.NAME,t))switch(e=lc.NAME[t]){case lc.NAME.PIC:this._serverMap[e]=lc.HOST.CURRENT.PIC;break;case lc.NAME.IM_COS_SIGN:this._serverMap[e]=lc.HOST.CURRENT.COS;break;default:this._serverMap[e]=lc.HOST.CURRENT.COMMON}}},{key:"_getHost",value:function(e){if(void 0!==this._serverMap[e])return this._serverMap[e];throw new rc({code:ec.NETWORK_UNDEFINED_SERVER_NAME,message:tc.NETWORK_UNDEFINED_SERVER_NAME})}},{key:"_initializeURL",value:function(e){var t=e.serverName,n=e.cmd,r=this._getHost(t),i="".concat(r,"/").concat(lc.NAME_VERSION[t],"/").concat(t,"/").concat(n);i+="?".concat(this._getQueryString(e.queryString)),this.url=i}},{key:"getUrl",value:function(){return this.url.replace(/&reqtime=(\d+)/,"&reqtime=".concat(Math.ceil(+new Date/1e3)))}},{key:"_initializeRequestData",value:function(e){var t,n=e.requestData;t=this._requestDataCleaner(n),this.requestData=e.encode(t)}},{key:"_requestDataCleaner",value:function(e){var t=Array.isArray(e)?[]:Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&ks(n)&&null!==e[n]&&("object"!==an(e[n])?t[n]=e[n]:t[n]=this._requestDataCleaner.bind(this)(e[n]));return t}},{key:"_getQueryString",value:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&("function"!=typeof e[n]?t.push("".concat(n,"=").concat(e[n])):t.push("".concat(n,"=").concat(e[n]())));return t.join("&")}},{key:"_getResponseMap",value:function(e){if(e.keyMaps&&e.keyMaps.response&&Object.keys(e.keyMaps.response).length>0)return e.keyMaps.response}}]),e}(),yc=[].slice,Ec=/MSIE .\./.test(io),Cc=function(e){return function(t,n){var r=arguments.length>2,i=r?yc.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};function _c(e){this.mixin(e)}ke({global:1,bind:1,forced:Ec},{setTimeout:Cc(u.setTimeout),setInterval:Cc(u.setInterval)}),_c.mixin=function(e){var t=e.prototype||e;t._isReady=0,t.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e)return this._isReady?void(t?e.call(this):setTimeout(e,1)):(this._readyQueue=this._readyQueue||[],void this._readyQueue.push(e))},t.triggerReady=function(){var e=this;this._isReady=1,setTimeout(function(){var t=e._readyQueue;e._readyQueue=[],t&&t.length>0&&t.forEach(function(e){e.call(this)},e)},1)},t.resetReady=function(){this._isReady=0,this._readyQueue=[]},t.isReady=function(){return this._isReady}};var Tc={SUCCESS:"JoinedSuccess",WAIT_APPROVAL:"WaitAdminApproval"},Sc={COMMON:{SUCCESS:"OK",FAIL:"FAIL"},REQUEST:{SUCCESS:0},ACCESS_LAYER:{PRODUCTION:0,TEST:1},LOGIN:{IS_LOGIN:1,IS_NOT_LOGIN:0},SYNC_MESSAGE:{SYNCHRONIZATION_START:0,SYNCHRONIZING:1,SYNCHRONIZED:2},MESSAGE_STATUS:{UNSEND:"unSend",SUCCESS:"success",FAIL:"fail"},GET_HISTORY_MESSAGE_STATUS:{C2C_IS_FINISHED:1,C2C_IS_NOT_FINISHED:0,GROUP_IS_FINISHED:1,GROUP_IS_NOT_FINISHED:0},ACCOUNT_STATUS:{SIGN_IN:1,SIGN_OUT:0},CHANNEL_STATUS:{ONLINE:1,OFFLINE:0},JOIN_GROUP_STATUS:Tc,UPLOAD:{FINISHED:1,UPLOADING:0},PAGING_CONVERSATION:{NOT_START:"notStart",PENDING:"pengding",RESOLVED:"resolved",REJECTED:"rejected"}},wc=function(){function e(t){if(sn(this,e),0==!!t)throw new rc({code:ec.NO_SDK_INSTANCE,message:tc.NO_SDK_INSTANCE});_c.mixin(this),this.tim=t,this.innerEmitter=t.innerEmitter,this.connectionController=t.connectionController,this.packageConfig=t.packageConfig,this.packageConfig.update(t)}return ln(e,[{key:"isLoggedIn",value:function(){return this.tim.context.login===Sc.LOGIN.IS_LOGIN}},{key:"createPackage",value:function(e){var t=this.packageConfig.get(e);return t?new Ac(t,this.tim):0}},{key:"reset",value:function(){gs.warn(["method: IMController.reset() method must be implemented"].join())}},{key:"probeNetwork",value:function(){return this.tim.netMonitor.probe()}},{key:"getNetworkType",value:function(){return this.tim.netMonitor.getNetworkType()}},{key:"destroy",value:function(){gs.warn("destory")}},{key:"getPlatform",value:function(){var e="web";return qa?e="wechat":Ua&&(e="wxmp"),e}}]),e}();ke({target:"Object",stat:1,forced:!c,sham:!c},{defineProperty:O.f});var Ic=function(){function e(t,n){sn(this,e),this.data=t,this.tim=n,this.defaultData={},Object.assign(this.defaultData,t),this.initGetterAndSetter()}return ln(e,[{key:"initGetterAndSetter",value:function(){var e=this,t=this.tim,n=function(n,r){Object.defineProperty(e,n,{enumerable:1,configurable:1,get:function(){return e.data[n]},set:function(r){e.data[n]=r,e.onChange.bind(e)(t.context,n,r)}})};for(var r in e.data)Object.prototype.hasOwnProperty.call(e.data,r)&&n(r,e.data[r])}},{key:"onChange",value:function(e,t,n){this.tim.innerEmitter.emit(hc.CONTEXT_UPDATED,{data:{context:e,key:t,value:n}})}},{key:"reset",value:function(){for(var e in this.data)Object.prototype.hasOwnProperty.call(this.data,e)&&(this.data[e]=this.defaultData.hasOwnProperty(e)?this.defaultData[e]:null);this.tim.innerEmitter.emit(hc.CONTEXT_RESET,{data:this.tim.context})}}]),e}(),bc=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initContext(),n._initListener(),n}return dn(t,wc),ln(t,[{key:"reset",value:function(){this.tim.context.reset()}},{key:"_initListener",value:function(){this.tim.innerEmitter.on(hc.SIGN_LOGIN_SUCCESS,this._updateA2KeyAndTinyID,this)}},{key:"_updateA2KeyAndTinyID",value:function(e){var t=e.data,n=t.a2Key,r=t.tinyID;this.set("a2Key",n),this.set("tinyID",r),this.tim.innerEmitter.emit(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,{data:{context:this.tim.context}}),this.triggerReady()}},{key:"get",value:function(e){return this.tim.context[e]}},{key:"set",value:function(e,t){this.tim.context[e]=t}},{key:"_initContext",value:function(){var e=this.tim.loginInfo;this.tim.context=new Ic({login:Sc.LOGIN.IS_NOT_LOGIN,SDKAppID:e.SDKAppID,appIDAt3rd:null,accountType:e.accountType,identifier:e.identifier,tinyID:null,identifierNick:e.identifierNick,userSig:e.userSig,a2Key:null,contentType:"json",apn:1},this.tim),this.tim.innerEmitter.on(hc.CONTEXT_UPDATED,this._onContextMemberChange.bind(this))}},{key:"_onContextMemberChange",value:function(e){var t=e.data,n=t.key,r=t.value;switch(n){case"tinyID":r.length<=0?this.tim.context.login=Sc.LOGIN.IS_NOT_LOGIN:this.tim.context.login=null!==this.tim.context.a2Key?Sc.LOGIN.IS_LOGIN:Sc.LOGIN.IS_NOT_LOGIN;break;case"a2Key":r.length<=0?this.tim.context.login=Sc.LOGIN.IS_NOT_LOGIN:this.tim.context.login=null!==this.tim.context.tinyID?Sc.LOGIN.IS_LOGIN:Sc.LOGIN.IS_NOT_LOGIN}}}]),t}(),Dc={JSON:{TYPE:{C2C:{NOTICE:1,COMMON:9,EVENT:10},GROUP:{COMMON:3,TIP:4,SYSTEM:5,TIP2:6},FRIEND:{NOTICE:7},PROFILE:{NOTICE:8}},SUBTYPE:{C2C:{COMMON:0,READED:92,KICKEDOUT:96},GROUP:{COMMON:0,LOVEMESSAGE:1,TIP:2,REDPACKET:3}},OPTIONS:{GROUP:{JOIN:1,QUIT:2,KICK:3,SET_ADMIN:4,CANCEL_ADMIN:5,MODIFY_GROUP_INFO:6,MODIFY_MEMBER_INFO:7}}},PROTOBUF:{},IMAGE_TYPES:{ORIGIN:1,LARGE:2,SMALL:3},IMAGE_FORMAT:{JPG:1,JPEG:1,GIF:2,PNG:3,BMP:4,UNKNOWN:255}},kc=1,Mc=2,Rc=3,Pc=4,Oc=5,Lc=7,Nc=8,Bc=9,xc=10,Uc=15,Gc=255,Fc=2,Qc=0,jc=1,Hc={NICK:"Tag_Profile_IM_Nick",GENDER:"Tag_Profile_IM_Gender",BIRTHDAY:"Tag_Profile_IM_BirthDay",LOCATION:"Tag_Profile_IM_Location",SELFSIGNATURE:"Tag_Profile_IM_SelfSignature",ALLOWTYPE:"Tag_Profile_IM_AllowType",LANGUAGE:"Tag_Profile_IM_Language",AVATAR:"Tag_Profile_IM_Image",MESSAGESETTINGS:"Tag_Profile_IM_MsgSettings",ADMINFORBIDTYPE:"Tag_Profile_IM_AdminForbidType",LEVEL:"Tag_Profile_IM_Level",ROLE:"Tag_Profile_IM_Role"},Kc={UNKNOWN:"Gender_Type_Unknown",FEMALE:"Gender_Type_Female",MALE:"Gender_Type_Male"},Yc={NONE:"AdminForbid_Type_None",SEND_OUT:"AdminForbid_Type_SendOut"},qc={NEED_CONFIRM:"AllowType_Type_NeedConfirm",ALLOW_ANY:"AllowType_Type_AllowAny",DENY_ANY:"AllowType_Type_DenyAny"},Jc=function e(t){sn(this,e),this.code=0,this.data=t||{}},Vc=null,Wc=function(e){Vc=e},zc=function(e){return e instanceof Jc?(gs.warn("IMPromise.resolve 此函数会自动用options创建IMResponse实例，调用侧不需创建，建议修改！"),Promise.resolve(e)):Promise.resolve(new Jc(e))},Xc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e instanceof rc)return t&&null!==Vc&&Vc.emit(zt.ERROR,e),Promise.reject(e);if(e instanceof Error){gs.warn("IMPromise.reject options not instanceof IMError! details:",e);var n=new rc({code:ec.UNCAUGHT_ERROR,message:e.message});return t&&null!==Vc&&Vc.emit(zt.ERROR,n),Promise.reject(n)}if(Ss(e)||Ss(e.code)||Ss(e.message))gs.error("IMPromise.reject 必须指定code(错误码)和message(错误信息)!!!");else{if(ys(e.code)&&Es(e.message)){var r=new rc(e);return t&&null!==Vc&&Vc.emit(zt.ERROR,r),Promise.reject(r)}gs.error("IMPromise.reject code(错误码)必须为数字，message(错误信息)必须为字符串!!!")}},Zc={SDK_READY:"sdkReady",LOGIN:"login",LONG_POLLING:"longpolling",LONG_POLLING_AV:"longpollingAV",SEND_MESSAGE:"sendMessage",INIT_CONVERSATION_LIST:"initConversationList",INIT_GROUP_LIST:"initGroupList",UPLOAD:"upload"},$c=function(){function e(){sn(this,e),this.SDKAppID="",this.version="",this.tinyID="",this.userID="",this.platform="",this.method="",this.time="",this.startts=0,this.endts=0,this.timespan=0,this.codeint="0",this.message="",this.text="",this.msgType="",this.networkType="",this.platform="",this._sentFlag=0}return ln(e,[{key:"setCommonInfo",value:function(e,t,n,r,i){this.SDKAppID="".concat(e),this.version="".concat(t),this.tinyID=n,this.userID=r,this.platform=i,this.time=Ls(),this.startts&&this.endts&&!this.timespan&&(this.timespan=Math.abs(this.endts-this.startts))}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setStart",value:function(){this.startts=Date.now()}},{key:"setEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._sentFlag||(this.endts=Date.now(),t?(this._sentFlag=1,this._eventStatController.pushIn(this)):setTimeout(function(){e._sentFlag=1,e._eventStatController.pushIn(e)},0))}},{key:"setError",value:function(e,t,n){return e instanceof Error?this._sentFlag?this:(this.setNetworkType(n),t?(e.code&&this.setCode(e.code),e.message&&this.setMessage(e.message)):(this.setCode(ec.NO_NETWORK),this.setMessage(tc.NO_NETWORK)),this):(gs.warn("SSOLogData.setError value not instanceof Error, please check!"),this)}},{key:"setCode",value:function(e){return Ss(e)||this._sentFlag?this:(ys(e)?this.codeint=e.toString():gs.warn("SSOLogData.setCode value not a number, please check!"),this)}},{key:"setMessage",value:function(e){return Ss(e)||this._sentFlag?this:Es(e)?(this.message=e,this):this}},{key:"setText",value:function(e){return ys(e)?this.text=e.toString():Es(e)&&(this.text=e),this}},{key:"setMessageType",value:function(e){return this.msgType=e,this}},{key:"setNetworkType",value:function(e){return this.networkType=e,this}}],[{key:"bindController",value:function(t){e.prototype._eventStatController=t}}]),e}(),eh={SDK_CONSTRUCT:"sdkConstruct",SDK_READY:"sdkReady",ACCESS_LAYER:"accessLayer",LOGIN:"login",CREATE_TEXT_MESSAGE:"createTextMessage",CREATE_IMAGE_MESSAGE:"createImageMessage",CREATE_AUDIO_MESSAGE:"createAudioMessage",CREATE_VIDEO_MESSAGE:"createVideoMessage",CREATE_FILE_MESSAGE:"createFileMessage",CREATE_CUSTOM_MESSAGE:"createCustomMessage",UPLOAD:"upload",SEND_MESSAGE:"sendMessage",GET_MESSAGE_LIST:"getMessageList",GET_CONVERSATION_LIST:"getConversationList",GET_CONVERSATION_LIST_IN_STORAGE:"getConversationListInStorage",SYNC_CONVERSATION_LIST:"syncConversationList",CREATE_GROUP:"createGroup",GET_GROUP_LIST:"getGroupList",GET_GROUP_LIST_IN_STORAGE:"getGroupListInStorage",SYNC_MESSAGE:"syncMessage",GET_LONGPOLL_ID:"getLongPollID",LONG_POLLING_ERROR:"longPollingError",LONG_POLLING_AV_ERROR:"longPollingAVError",GET_USER_PROFILE:"getUserProfile",GET_BLACKLIST:"getBlacklist",MP_HIDE_TO_SHOW:"mpHideToShow"},th=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initializeListener(),n}return dn(t,wc),ln(t,[{key:"login",value:function(e){if(this._isLogin()){var t="您已经登录账号".concat(e.identifier,"！如需切换账号登录，请先调用 logout 接口登出，再调用 login 接口登录。");return gs.warn(t),zc(new Jc({actionStatus:"OK",errorCode:0,errorInfo:t}))}gs.log("SignController.login userID=",e.identifier),gs.time(Zc.LOGIN);var n=this._checkLoginInfo(e);return Vs(n)?(this.tim.context.identifier=e.identifier,this.tim.context.userSig=e.userSig,this.tim.context.SDKAppID=e.SDKAppID,this.tim.context.accountType=e.accountType,this.tim.context.identifier&&this.tim.context.userSig?(this.tim.innerEmitter.emit(hc.SIGN_LOGIN),this._accessLayer()):void 0):Xc(n)}},{key:"_isLogin",value:function(){return!!this.tim.context.a2Key}},{key:"_isLoginCurrentUser",value:function(e){return this.tim.context.identifier===e}},{key:"_initializeListener",value:function(){this.innerEmitter.on(hc.NOTICE_LONGPOLL_KICKED_OUT,this._onKickedOut,this),this.innerEmitter.on(hc.NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT,this._onMultipleDeviceKickedOut,this)}},{key:"_accessLayer",value:function(){var e=this,t=new $c;t.setMethod(eh.ACCESS_LAYER).setStart(),gs.log("SignController._accessLayer.");var n=this.createPackage({name:"accessLayer",action:"query"});return this.tim.connectionController.request(n).then(function(n){return t.setCode(0).setNetworkType(e.getNetworkType()).setText(n.data.webImAccessLayer).setEnd(),gs.log("SignController._accessLayer ok. webImAccessLayer=",n.data.webImAccessLayer),1===n.data.webImAccessLayer&&lc.HOST.setCurrent(n.data.webImAccessLayer),e._login()}).catch(function(n){return e.probeNetwork().then(function(r,i){t.setError(n,r,i).setEnd(1),e.tim.eventStatController.reportAtOnce()}),gs.error("SignController._accessLayer error:",n),Xc(n)})}},{key:"_login",value:function(){var e=this,t=new $c;t.setMethod(eh.LOGIN).setStart();var n=this.createPackage({name:"login",action:"query"});return this.connectionController.request(n).then(function(n){var r=null;if(!n.data.tinyID)throw r=new rc({code:ec.NO_TINYID,message:tc.NO_TINYID}),t.setError(r,1,e.getNetworkType()).setEnd(),r;if(!n.data.a2Key)throw r=new rc({code:ec.NO_A2KEY,message:tc.NO_A2KEY}),t.setError(r,1,e.getNetworkType()).setEnd(),r;return t.setCode(0).setNetworkType(e.getNetworkType()).setText("".concat(e.tim.loginInfo.identifier)).setEnd(),gs.log("SignController.login ok. userID=".concat(e.tim.loginInfo.identifier," loginCost=").concat(gs.timeEnd(Zc.LOGIN),"ms")),e.tim.innerEmitter.emit(hc.SIGN_LOGIN_SUCCESS,{data:{a2Key:n.data.a2Key,tinyID:n.data.tinyID}}),zc(n.data)}).catch(function(n){return e.probeNetwork().then(function(e,r){t.setError(n,e,r).setEnd(1)}),gs.error("SignController.login error:",n),Xc(n)})}},{key:"logout",value:function(){return gs.info("SignController.logout"),this.tim.innerEmitter.emit(hc.SIGN_LOGOUT_EXECUTING),this._logout(jc).then(this._emitLogoutSuccess.bind(this)).catch(this._emitLogoutSuccess.bind(this))}},{key:"_logout",value:function(e){var t=this.tim.notificationController,n=e===Qc?"logout":"longPollLogout",r=e===Qc?{name:n,action:"query"}:{name:n,action:"query",param:{longPollID:t.getLongPollID()}},i=this.createPackage(r);return this.connectionController.request(i).catch(function(e){return gs.error("SignController._logout error:",e),Xc(e)})}},{key:"_checkLoginInfo",value:function(e){var t=0,n="";return null===e.SDKAppID?(t=ec.NO_SDKAPPID,n=tc.NO_SDKAPPID):null===e.accountType?(t=ec.NO_ACCOUNT_TYPE,n=tc.NO_ACCOUNT_TYPE):null===e.identifier?(t=ec.NO_IDENTIFIER,n=tc.NO_IDENTIFIER):null===e.userSig&&(t=ec.NO_USERSIG,n=tc.NO_USERSIG),Vs(t)||Vs(n)?{}:{code:t,message:n}}},{key:"_emitLogoutSuccess",value:function(){return this.tim.innerEmitter.emit(hc.SIGN_LOGOUT_SUCCESS),zc({})}},{key:"_onKickedOut",value:function(){var e=this;this.tim.logout().then(function(){gs.warn("SignController._onKickedOut kicked out.       userID=".concat(e.tim.loginInfo.identifier)),e.tim.outerEmitter.emit(zt.KICKED_OUT,{type:Xt.KICKED_OUT_MULT_ACCOUNT})})}},{key:"_onMultipleDeviceKickedOut",value:function(){var e=this;this.tim.logout().then(function(){gs.warn("SignController._onKickedOut kicked out.       userID=".concat(e.tim.loginInfo.identifier)),e.tim.outerEmitter.emit(zt.KICKED_OUT,{type:Xt.KICKED_OUT_MULT_DEVICE})})}},{key:"reset",value:function(){}}]),t}(),nh=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},rh=Object.prototype.toString;function ih(e){return"[object Array]"===rh.call(e)}function oh(e){return null!==e&&"object"==typeof e}function ah(e){return"[object Function]"===rh.call(e)}function sh(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ih(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var uh={isArray:ih,isArrayBuffer:function(e){return"[object ArrayBuffer]"===rh.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:oh,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===rh.call(e)},isFile:function(e){return"[object File]"===rh.call(e)},isBlob:function(e){return"[object Blob]"===rh.call(e)},isFunction:ah,isStream:function(e){return oh(e)&&ah(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return"undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product?"undefined"!=typeof window&&"undefined"!=typeof document:0},forEach:sh,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)sh(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)sh(arguments[r],n);return t},extend:function(e,t,n){return sh(t,function(t,r){e[r]=n&&"function"==typeof t?nh(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function lh(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ch=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(uh.isURLSearchParams(t))r=t.toString();else{var i=[];uh.forEach(t,function(e,t){null!=e&&(uh.isArray(e)?t+="[]":e=[e],uh.forEach(e,function(e){uh.isDate(e)?e=e.toISOString():uh.isObject(e)&&(e=JSON.stringify(e)),i.push(lh(t)+"="+lh(e))}))}),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function hh(){this.handlers=[]}hh.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},hh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},hh.prototype.forEach=function(e){uh.forEach(this.handlers,function(t){null!==t&&e(t)})};var fh=hh,dh=function(e,t,n){return uh.forEach(n,function(n){e=n(e,t)}),e},ph=function(e){return!(!e||!e.__CANCEL__)};function gh(){throw new Error("setTimeout has not been defined")}function mh(){throw new Error("clearTimeout has not been defined")}var vh=gh,Ah=mh;function yh(e){if(vh===setTimeout)return setTimeout(e,0);if((vh===gh||!vh)&&setTimeout)return vh=setTimeout,setTimeout(e,0);try{return vh(e,0)}catch(n){try{return vh.call(null,e,0)}catch(n){return vh.call(this,e,0)}}}"function"==typeof as.setTimeout&&(vh=setTimeout),"function"==typeof as.clearTimeout&&(Ah=clearTimeout);var Eh,Ch=[],_h=0,Th=-1;function Sh(){_h&&Eh&&(_h=0,Eh.length?Ch=Eh.concat(Ch):Th=-1,Ch.length&&wh())}function wh(){if(!_h){var e=yh(Sh);_h=1;for(var t=Ch.length;t;){for(Eh=Ch,Ch=[];++Th<t;)Eh&&Eh[Th].run();Th=-1,t=Ch.length}Eh=null,_h=0,function(e){if(Ah===clearTimeout)return clearTimeout(e);if((Ah===mh||!Ah)&&clearTimeout)return Ah=clearTimeout,clearTimeout(e);try{Ah(e)}catch(t){try{return Ah.call(null,e)}catch(t){return Ah.call(this,e)}}}(e)}}function Ih(e,t){this.fun=e,this.array=t}function bh(){}Ih.prototype.run=function(){this.fun.apply(null,this.array)};var Dh=bh,kh=bh,Mh=bh,Rh=bh,Ph=bh,Oh=bh,Lh=bh,Nh=as.performance||{},Bh=Nh.now||Nh.mozNow||Nh.msNow||Nh.oNow||Nh.webkitNow||function(){return(new Date).getTime()},xh=new Date,Uh={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ch.push(new Ih(e,t)),1!==Ch.length||_h||yh(wh)},title:"browser",browser:1,env:{},argv:[],version:"",versions:{},on:Dh,addListener:kh,once:Mh,off:Rh,removeListener:Ph,removeAllListeners:Oh,emit:Lh,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Bh.call(Nh),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-xh)/1e3}},Gh=function(e,t){uh.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})},Fh=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=1,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,i)},Qh=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],jh=uh.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=uh.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return 1},Hh=uh.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),uh.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),uh.isString(r)&&a.push("path="+r),uh.isString(i)&&a.push("domain="+i),1==o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Kh=function(e){return new Promise(function(t,n){var r=e.data,i=e.headers;uh.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";i.Authorization="Basic "+btoa(a+":"+s)}if(o.open(e.method.toUpperCase(),ch(e.url,e.params,e.paramsSerializer),1),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(e){var t,n,r,i={};return e?(uh.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=uh.trim(e.substr(0,r)).toLowerCase(),n=uh.trim(e.substr(r+1)),t){if(i[t]&&Qh.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}(o.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(Fh("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,i),o=null}},o.onabort=function(){o&&(n(Fh("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(Fh("Network Error",e,null,o)),o=null},o.ontimeout=function(){n(Fh("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",o)),o=null},uh.isStandardBrowserEnv()){var u=Hh,l=(e.withCredentials||jh(e.url))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;l&&(i[e.xsrfHeaderName]=l)}if("setRequestHeader"in o&&uh.forEach(i,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)}),e.withCredentials&&(o.withCredentials=1),e.responseType)try{o.responseType=e.responseType}catch(h){if("json"!==e.responseType)throw h}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){o&&(o.abort(),n(e),o=null)}),void 0===r&&(r=null),o.send(r)})},Yh={"Content-Type":"application/x-www-form-urlencoded"};function qh(e,t){!uh.isUndefined(e)&&uh.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Jh,Vh={adapter:(void 0!==Uh&&"[object process]"===Object.prototype.toString.call(Uh)?Jh=Kh:"undefined"!=typeof XMLHttpRequest&&(Jh=Kh),Jh),transformRequest:[function(e,t){return Gh(t,"Accept"),Gh(t,"Content-Type"),uh.isFormData(e)||uh.isArrayBuffer(e)||uh.isBuffer(e)||uh.isStream(e)||uh.isFile(e)||uh.isBlob(e)?e:uh.isArrayBufferView(e)?e.buffer:uh.isURLSearchParams(e)?(qh(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):uh.isObject(e)?(qh(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(n){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};uh.forEach(["delete","get","head"],function(e){Vh.headers[e]={}}),uh.forEach(["post","put","patch"],function(e){Vh.headers[e]=uh.merge(Yh)});var Wh=Vh;function zh(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Xh=function(e){var t,n,r;return zh(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=dh(e.data,e.headers,e.transformRequest),e.headers=uh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),uh.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Wh.adapter)(e).then(function(t){return zh(e),t.data=dh(t.data,t.headers,e.transformResponse),t},function(t){return ph(t)||(zh(e),t&&t.response&&(t.response.data=dh(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})},Zh=function(e,t){t=t||{};var n={};return uh.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(n[e]=t[e])}),uh.forEach(["headers","auth","proxy"],function(r){uh.isObject(t[r])?n[r]=uh.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:uh.isObject(e[r])?n[r]=uh.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])}),uh.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}),n};function $h(e){this.defaults=e,this.interceptors={request:new fh,response:new fh}}$h.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Zh(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[Xh,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},$h.prototype.getUri=function(e){return e=Zh(this.defaults,e),ch(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},uh.forEach(["delete","get","head","options"],function(e){$h.prototype[e]=function(t,n){return this.request(uh.merge(n||{},{method:e,url:t}))}}),uh.forEach(["post","put","patch"],function(e){$h.prototype[e]=function(t,n,r){return this.request(uh.merge(r||{},{method:e,url:t,data:n}))}});var ef=$h;function tf(e){this.message=e}tf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},tf.prototype.__CANCEL__=1;var nf=tf;function rf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new nf(e),t(n.reason))})}rf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},rf.source=function(){var e;return{token:new rf(function(t){e=t}),cancel:e}};var of=rf;function af(e){var t=new ef(e),n=nh(ef.prototype.request,t);return uh.extend(n,ef.prototype,t),uh.extend(n,t),n}var sf=af(Wh);sf.Axios=ef,sf.create=function(e){return af(Zh(sf.defaults,e))},sf.Cancel=nf,sf.CancelToken=of,sf.isCancel=ph,sf.all=function(e){return Promise.all(e)},sf.spread=function(e){return function(t){return e.apply(null,t)}};var uf=sf,lf=sf;uf.default=lf;var cf=uf,hf=cf.create({timeout:6e3,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}});hf.interceptors.response.use(function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return ys(n)&&(r=n),r!==Sc.REQUEST.SUCCESS&&(e.data.ErrorCode=Number(r)),e},function(e){return"Network Error"===e.message&&(1==hf.defaults.withCredentials&&gs.warn("Network Error, try to close `IMAxios.defaults.withCredentials` to false. (IMAxios.js)"),hf.defaults.withCredentials=0),Promise.reject(e)});var ff=function(){function e(){sn(this,e)}return ln(e,[{key:"request",value:function(e){}},{key:"_checkOptions",value:function(e){if(0==!!e.url)throw new rc({code:ec.NETWORK_BASE_OPTIONS_NO_URL,message:tc.NETWORK_BASE_OPTIONS_NO_URL})}},{key:"_initOptions",value:function(e){e.method=["POST","GET","PUT","DELETE","OPTION"].indexOf(e.method)>=0?e.method:"POST",e.dataType=e.dataType||"json",e.responseType=e.responseType||"json"}}]),e}(),df=function(e){function t(){var e;return sn(this,t),(e=yn(this,pn(t).call(this))).retry=2,e}return dn(t,ff),ln(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),this._requestWithRetry({url:e.url,data:e.data,method:e.method})}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hf(e).catch(function(r){return t.retry&&n<t.retry?t._requestWithRetry(e,++n):Xc(new rc({code:r.code||"",message:r.message||""}))})}}]),t}(),pf=[],gf=[],mf="undefined"!=typeof Uint8Array?Uint8Array:Array,vf=0;function Af(){vf=1;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)pf[t]=e[t],gf[e.charCodeAt(t)]=t;gf["-".charCodeAt(0)]=62,gf["_".charCodeAt(0)]=63}function yf(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(pf[(i=r)>>18&63]+pf[i>>12&63]+pf[i>>6&63]+pf[63&i]);return o.join("")}function Ef(e){var t;vf||Af();for(var n=e.length,r=n%3,i="",o=[],a=0,s=n-r;a<s;a+=16383)o.push(yf(e,a,a+16383>s?s:a+16383));return 1===r?(t=e[n-1],i+=pf[t>>2],i+=pf[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=pf[t>>10],i+=pf[t>>4&63],i+=pf[t<<2&63],i+="="),o.push(i),o.join("")}function Cf(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)}function _f(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=p,a/=256,l-=8);e[n+d-p]|=128*g}var Tf={}.toString,Sf=Array.isArray||function(e){return"[object Array]"==Tf.call(e)};function wf(){return bf.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function If(e,t){if(wf()<t)throw new RangeError("Invalid typed array length");return bf.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=bf.prototype:(null===e&&(e=new bf(t)),e.length=t),e}function bf(e,t,n){if(!(bf.TYPED_ARRAY_SUPPORT||this instanceof bf))return new bf(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return Mf(this,e)}return Df(this,e,t,n)}function Df(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),bf.TYPED_ARRAY_SUPPORT?(e=t).__proto__=bf.prototype:e=Rf(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!bf.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Lf(t,n),i=(e=If(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(Of(t)){var n=0|Pf(t.length);return 0===(e=If(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?If(e,0):Rf(e,t);if("Buffer"===t.type&&Sf(t.data))return Rf(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function kf(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function Mf(e,t){if(kf(t),e=If(e,t<0?0:0|Pf(t)),!bf.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function Rf(e,t){var n=t.length<0?0:0|Pf(t.length);e=If(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Pf(e){if(e>=wf())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wf().toString(16)+" bytes");return 0|e}function Of(e){return!(null==e||!e._isBuffer)}function Lf(e,t){if(Of(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=0;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return sd(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ud(e).length;default:if(r)return sd(e).length;t=(""+t).toLowerCase(),r=1}}function Nf(e,t,n){var r=0;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return zf(this,t,n);case"utf8":case"utf-8":return qf(this,t,n);case"ascii":return Vf(this,t,n);case"latin1":case"binary":return Wf(this,t,n);case"base64":return Yf(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xf(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=1}}function Bf(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function xf(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=bf.from(t,r)),Of(t))return 0===t.length?-1:Uf(e,t,n,r,i);if("number"==typeof t)return t&=255,bf.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Uf(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Uf(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=1,f=0;f<u;f++)if(l(e,o+f)!==l(t,f)){h=0;break}if(h)return o}return-1}function Gf(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Ff(e,t,n,r){return ld(sd(t,e.length-n),e,n,r)}function Qf(e,t,n,r){return ld(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function jf(e,t,n,r){return Qf(e,t,n,r)}function Hf(e,t,n,r){return ld(ud(t),e,n,r)}function Kf(e,t,n,r){return ld(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function Yf(e,t,n){return 0===t&&n===e.length?Ef(e):Ef(e.slice(t,n))}function qf(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=Jf)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Jf));return n}(r)}bf.TYPED_ARRAY_SUPPORT=void 0!==as.TYPED_ARRAY_SUPPORT?as.TYPED_ARRAY_SUPPORT:1,bf.poolSize=8192,bf._augment=function(e){return e.__proto__=bf.prototype,e},bf.from=function(e,t,n){return Df(null,e,t,n)},bf.TYPED_ARRAY_SUPPORT&&(bf.prototype.__proto__=Uint8Array.prototype,bf.__proto__=Uint8Array),bf.alloc=function(e,t,n){return function(e,t,n,r){return kf(t),t<=0?If(e,t):void 0!==n?"string"==typeof r?If(e,t).fill(n,r):If(e,t).fill(n):If(e,t)}(null,e,t,n)},bf.allocUnsafe=function(e){return Mf(null,e)},bf.allocUnsafeSlow=function(e){return Mf(null,e)},bf.isBuffer=function(e){return null!=e&&(!!e._isBuffer||cd(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&cd(e.slice(0,0))}(e))},bf.compare=function(e,t){if(!Of(e)||!Of(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},bf.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 1;default:return 0}},bf.concat=function(e,t){if(!Sf(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return bf.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=bf.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!Of(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},bf.byteLength=Lf,bf.prototype._isBuffer=1,bf.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Bf(this,t,t+1);return this},bf.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Bf(this,t,t+3),Bf(this,t+1,t+2);return this},bf.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Bf(this,t,t+7),Bf(this,t+1,t+6),Bf(this,t+2,t+5),Bf(this,t+3,t+4);return this},bf.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?qf(this,0,e):Nf.apply(this,arguments)},bf.prototype.equals=function(e){if(!Of(e))throw new TypeError("Argument must be a Buffer");return this===e?1:0===bf.compare(this,e)},bf.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},bf.prototype.compare=function(e,t,n,r,i){if(!Of(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},bf.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},bf.prototype.indexOf=function(e,t,n){return xf(this,e,t,n,1)},bf.prototype.lastIndexOf=function(e,t,n){return xf(this,e,t,n,0)},bf.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=0;;)switch(r){case"hex":return Gf(this,e,t,n);case"utf8":case"utf-8":return Ff(this,e,t,n);case"ascii":return Qf(this,e,t,n);case"latin1":case"binary":return jf(this,e,t,n);case"base64":return Hf(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kf(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=1}},bf.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Jf=4096;function Vf(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Wf(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function zf(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=ad(e[o]);return i}function Xf(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Zf(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $f(e,t,n,r,i,o){if(!Of(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function ed(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function td(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function nd(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function rd(e,t,n,r,i){return i||nd(e,0,n,4),_f(e,t,n,r,23,4),n+4}function id(e,t,n,r,i){return i||nd(e,0,n,8),_f(e,t,n,r,52,8),n+8}bf.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),bf.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=bf.prototype;else{var i=t-e;n=new bf(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},bf.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Zf(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},bf.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Zf(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},bf.prototype.readUInt8=function(e,t){return t||Zf(e,1,this.length),this[e]},bf.prototype.readUInt16LE=function(e,t){return t||Zf(e,2,this.length),this[e]|this[e+1]<<8},bf.prototype.readUInt16BE=function(e,t){return t||Zf(e,2,this.length),this[e]<<8|this[e+1]},bf.prototype.readUInt32LE=function(e,t){return t||Zf(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},bf.prototype.readUInt32BE=function(e,t){return t||Zf(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},bf.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Zf(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},bf.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Zf(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},bf.prototype.readInt8=function(e,t){return t||Zf(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},bf.prototype.readInt16LE=function(e,t){t||Zf(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},bf.prototype.readInt16BE=function(e,t){t||Zf(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},bf.prototype.readInt32LE=function(e,t){return t||Zf(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},bf.prototype.readInt32BE=function(e,t){return t||Zf(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},bf.prototype.readFloatLE=function(e,t){return t||Zf(e,4,this.length),Cf(this,e,1,23,4)},bf.prototype.readFloatBE=function(e,t){return t||Zf(e,4,this.length),Cf(this,e,0,23,4)},bf.prototype.readDoubleLE=function(e,t){return t||Zf(e,8,this.length),Cf(this,e,1,52,8)},bf.prototype.readDoubleBE=function(e,t){return t||Zf(e,8,this.length),Cf(this,e,0,52,8)},bf.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||$f(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},bf.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||$f(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},bf.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,1,255,0),bf.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},bf.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,65535,0),bf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ed(this,e,t,1),t+2},bf.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,65535,0),bf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ed(this,e,t,0),t+2},bf.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,4294967295,0),bf.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):td(this,e,t,1),t+4},bf.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,4294967295,0),bf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):td(this,e,t,0),t+4},bf.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$f(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},bf.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$f(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},bf.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,1,127,-128),bf.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},bf.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,32767,-32768),bf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):ed(this,e,t,1),t+2},bf.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,2,32767,-32768),bf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):ed(this,e,t,0),t+2},bf.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,2147483647,-2147483648),bf.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):td(this,e,t,1),t+4},bf.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||$f(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),bf.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):td(this,e,t,0),t+4},bf.prototype.writeFloatLE=function(e,t,n){return rd(this,e,t,1,n)},bf.prototype.writeFloatBE=function(e,t,n){return rd(this,e,t,0,n)},bf.prototype.writeDoubleLE=function(e,t,n){return id(this,e,t,1,n)},bf.prototype.writeDoubleBE=function(e,t,n){return id(this,e,t,0,n)},bf.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!bf.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},bf.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!bf.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Of(e)?e:sd(new bf(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var od=/[^+\/0-9A-Za-z-_]/g;function ad(e){return e<16?"0"+e.toString(16):e.toString(16)}function sd(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function ud(e){return function(e){var t,n,r,i,o,a;vf||Af();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new mf(3*s/4-o),r=o>0?s-4:s;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)i=gf[e.charCodeAt(t)]<<18|gf[e.charCodeAt(t+1)]<<12|gf[e.charCodeAt(t+2)]<<6|gf[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=gf[e.charCodeAt(t)]<<2|gf[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=gf[e.charCodeAt(t)]<<10|gf[e.charCodeAt(t+1)]<<4|gf[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(od,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ld(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function cd(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var hd=function(e){function t(){var e;return sn(this,t),(e=yn(this,pn(t).call(this))).retry=2,e._request=e.promisify(wx.request),e}return dn(t,ff),ln(t,[{key:"request",value:function(e){return this._checkOptions(e),this._initOptions(e),e=fn({},e,{responseType:"text"}),this._requestWithRetry(e)}},{key:"_requestWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._request(e).then(this._handleResolve).catch(function(r){if(Es(r.errMsg)){if(r.errMsg.includes("abort"))return zc({});if(r.errMsg.includes("timeout"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):Xc(new rc({code:ec.NETWORK_TIMEOUT,message:r.errMsg}));if(r.errMsg.includes("fail"))return t.retry>0&&n<t.retry?t._requestWithRetry(e,++n):Xc(new rc({code:ec.NETWORK_ERROR,message:r.errMsg}))}return Xc(new rc(fn({code:ec.UNCAUGHT_ERROR,message:r.message},r)))})}},{key:"_handleResolve",value:function(e){var t=e.data,n=t.error_code,r=t.ErrorCode;return"number"==typeof n&&(r=n),r!==Sc.REQUEST.SUCCESS&&(e.data.ErrorCode=Number("".concat(r))),e}},{key:"promisify",value:function(e){return function(t){return new Promise(function(n,r){var i=e(Object.assign({},t,{success:n,fail:r}));t.updateAbort&&t.updateAbort(function(){i&&Is(i.abort)&&i.abort()})})}}}]),t}(),fd=function(){function e(){sn(this,e),this.request=0,this.success=0,this.fail=0,this.reportRate=10,this.requestTimeCost=[]}return ln(e,[{key:"report",value:function(){if(1!==this.request){if(this.request%this.reportRate!=0)return null;var e=this.avgRequestTime(),t="runLoop reports: success=".concat(this.success,",fail=").concat(this.fail,",total=").concat(this.request,",avg=").concat(e,",cur=").concat(this.requestTimeCost[this.requestTimeCost.length-1],",max=").concat(Math.max.apply(null,this.requestTimeCost),",min=").concat(Math.min.apply(null,this.requestTimeCost));gs.log(t)}}},{key:"setRequestTime",value:function(e,t){var n=Math.abs(t-e);100===this.requestTimeCost.length&&this.requestTimeCost.shift(),this.requestTimeCost.push(n)}},{key:"avgRequestTime",value:function(){for(var e,t=this.requestTimeCost.length,n=0,r=0;r<t;r++)n+=this.requestTimeCost[r];return e=n/t,Math.round(100*e)/100}}]),e}(),dd=cf.CancelToken,pd=function(){function e(t){sn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new fd}return ln(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"getIndex",value:function(){return this._index}},{key:"isRunning",value:function(){return!this._stoped}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=0,this._stoped=0,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.requestor=hf,this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=0,this._send()):gs.log('XHRRunLoop.start(), XHRRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){gs.log("XHRRunLoop._reset(), reset long poll _intervalTime",this._intervalTime),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Sc.REQUEST.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(1!=this._requestStatus){this._requestStatus=1,this.status.request++,"function"==typeof this.options.before&&this.options.before(this.options.pack.requestData);var t=Date.now(),n=0;this.requestor.request({url:this.options.pack.getUrl(),data:this.options.pack.requestData,method:this.options.pack.method,cancelToken:new dd(function(t){e.abort=t})}).then(function(r){if(e._intervalTimeAdjustmentBaseOnResponseData.bind(e)(r.data),e._retryCount>0&&(e._retryCount=0),e.status.success++,n=Date.now(),e.status.setRequestTime(t,n),r.data.timecost=n-t,"function"==typeof e.options.success)try{e.options.success({pack:e.options.pack,error:0,data:e.options.pack.callback(r.data)})}catch(o){gs.warn("XHRRunLoop._send(), error:",o)}e._requestStatus=0,0==e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e.status.report()}).catch(function(r){if(e.status.fail++,e._retryCount++,e._intervalTimeAdjustment.bind(e)(),0==e._stoped&&(e._seedID=setTimeout(e._send.bind(e),e._intervalTime)),e._requestStatus=0,"function"==typeof e.options.fail&&void 0!==r.request)try{e.options.fail({pack:e.options.pack,error:r,data:0})}catch(o){gs.warn("XHRRunLoop._send(), fail callback error:"),gs.error(o)}n=Date.now(),e.status.setRequestTime(t,n),e.status.report()})}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=1}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),gd=function(){function e(t){sn(this,e),this._initializeOptions(t),this._initializeMembers(),this.status=new fd}return ln(e,[{key:"destructor",value:function(){clearTimeout(this._seedID);var e=this._index();for(var t in this)Object.prototype.hasOwnProperty.call(this,t)&&(this[t]=null);return e}},{key:"setIndex",value:function(e){this._index=e}},{key:"isRunning",value:function(){return!this._stoped}},{key:"getIndex",value:function(){return this._index}},{key:"_initializeOptions",value:function(e){this.options=e}},{key:"_initializeMembers",value:function(){this._index=-1,this._seedID=0,this._requestStatus=0,this._stoped=0,this._intervalTime=0,this._intervalIncreaseStep=1e3,this._intervalDecreaseStep=1e3,this._intervalTimeMax=5e3,this._protectTimeout=3e3,this._getNoticeSeq=this.options.getNoticeSeq,this._retryCount=0,this._responseTime=Date.now(),this._responseTimeThreshold=2e3,this.requestor=new hd,this.abort=null}},{key:"start",value:function(){0===this._seedID?(this._stoped=0,this._send()):gs.log('WXRunLoop.start(): WXRunLoop is running now, if you want to restart runLoop , please run "stop()" first.')}},{key:"_reset",value:function(){gs.log("WXRunLoop.reset(), long poll _intervalMaxRate",this._intervalMaxRate),this.stop(),this.start()}},{key:"_intervalTimeIncrease",value:function(){this._intervalTime!==this._responseTimeThreshold&&(this._intervalTime<this._responseTimeThreshold&&(this._intervalTime+=this._intervalIncreaseStep),this._intervalTime>this._responseTimeThreshold&&(this._intervalTime=this._responseTimeThreshold))}},{key:"_intervalTimeDecrease",value:function(){0!==this._intervalTime&&(this._intervalTime>0&&(this._intervalTime-=this._intervalDecreaseStep),this._intervalTime<0&&(this._intervalTime=0))}},{key:"_intervalTimeAdjustment",value:function(){var e=Date.now();100*Math.floor((e-this._responseTime)/100)<=this._responseTimeThreshold?this._intervalTimeIncrease():this._intervalTimeDecrease(),this._responseTime=e}},{key:"_intervalTimeAdjustmentBaseOnResponseData",value:function(e){e.ErrorCode===Sc.REQUEST.SUCCESS?this._intervalTimeDecrease():this._intervalTimeIncrease()}},{key:"_send",value:function(){var e=this;if(1!=this._requestStatus){var t=this;this._requestStatus=1,this.status.request++,"function"==typeof this.options.before&&this.options.before(t.options.pack.requestData);var n=Date.now(),r=0;this.requestor.request({url:t.options.pack.getUrl(),data:t.options.pack.requestData,method:t.options.pack.method,updateAbort:function(t){e.abort=t}}).then(function(i){if(t._intervalTimeAdjustmentBaseOnResponseData.bind(e)(i.data),t._retryCount>0&&(t._retryCount=0),e.status.success++,r=Date.now(),e.status.setRequestTime(n,r),i.data.timecost=r-n,"function"==typeof t.options.success)try{e.options.success({pack:e.options.pack,error:0,data:e.options.pack.callback(i.data)})}catch(a){gs.warn("WXRunLoop._send(), error:",a)}t._requestStatus=0,0==t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),e.status.report()}).catch(function(i){if(e.status.fail++,t._retryCount++,t._intervalTimeAdjustment.bind(e)(),0==t._stoped&&(t._seedID=setTimeout(t._send.bind(t),t._intervalTime)),t._requestStatus=0,"function"==typeof t.options.fail)try{e.options.fail({pack:e.options.pack,error:i,data:0})}catch(a){gs.warn("WXRunLoop._send(), fail callback error:"),gs.error(a)}r=Date.now(),e.status.setRequestTime(n,r),e.status.report()})}}},{key:"stop",value:function(){this._clearAllTimeOut(),this._stoped=1}},{key:"_clearAllTimeOut",value:function(){clearTimeout(this._seedID),this._seedID=0}}]),e}(),md=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).context=e.context,n.httpConnection=n._getHttpconnection(),n.keepAliveConnections=[],n}return dn(t,wc),ln(t,[{key:"initializeListener",value:function(){this.tim.innerEmitter.on(hc.SIGN_LOGOUT_EXECUTING,this._stopAllRunLoop,this)}},{key:"request",value:function(e){var t={url:e.url,data:e.requestData,method:e.method,callback:e.callback};return this.httpConnection.request(t).then(function(t){return t.data=e.callback(t.data),t.data.errorCode!==Sc.REQUEST.SUCCESS?Xc(new rc({code:t.data.errorCode,message:t.data.errorInfo})):t})}},{key:"createRunLoop",value:function(e){var t=this.createKeepAliveConnection(e);return t.setIndex(this.keepAliveConnections.push(t)-1),t}},{key:"stopRunLoop",value:function(e){e.stop()}},{key:"_stopAllRunLoop",value:function(){for(var e=this.keepAliveConnections.length,t=0;t<e;t++)this.keepAliveConnections[t].stop()}},{key:"destroyRunLoop",value:function(e){e.stop();var t=e.destructor();this.keepAliveConnections.slice(t,1)}},{key:"startRunLoopExclusive",value:function(e){for(var t=e.getIndex(),n=0;n<this.keepAliveConnections.length;n++)n!==t&&this.keepAliveConnections[n].stop();e.start()}},{key:"_getHttpconnection",value:function(){return Ua?new hd:new df}},{key:"createKeepAliveConnection",value:function(e){return Ua?new gd(e):this.tim.options.runLoopNetType===Fc?new pd(e):(this.tim.options.runLoopNetType,"function"==typeof window.WebSocket&&window.WebSocket.prototype.send,new pd(e))}},{key:"clearAll",value:function(){this.conn.cancelAll()}},{key:"reset",value:function(){this.keepAliveConnections=[]}}]),t}();void 0===console.table&&(console.table=console.log);var vd=function(e,t){e.code?gs.warn("Oops! code: ".concat(e.code),"message: ".concat(e.message),"stack: ".concat(e.stack)):gs.warn("Oops! message: ".concat(e.message),"stack: ".concat(e.stack))},Ad={f9999998:function(e){vd(e)},f9999999:function(e){vd(e)},f:function(e){vd(e),"未定义的错误:".concat(e.code," , ").concat(e.message)},f20000:function(e){vd(e)},f20001:function(e){vd(e)},f20002:function(e){vd(e)},f30000:function(e){vd(e)},f40004:function(e){vd(e)},f40005:function(e){vd(e)},f40006:function(e){vd(e)},f40007:function(e){vd(e)},f40008:function(e){vd(e)},f50070003:function(e){e.code.replace("500",""),vd(e)},f50030001:function(e){vd(e)},f50070221:function(e){vd(e)}};Ad.echo=vd;var yd=function(){function e(t){sn(this,e),this.methods=Ad,this.tim=t,this._initielizeListener()}return ln(e,[{key:"_initielizeListener",value:function(){this.tim.innerEmitter.on(hc.ERROR_DETECTED,this._onErrorDetected,this)}},{key:"ask",value:function(e){var t=["f",e.code].join(""),n=Ad.echo;this.methods.hasOwnProperty(t)?this.methods[t](e):n(e)}},{key:"_onErrorDetected",value:function(e){this.ask(e),this.tim.outerEmitter.emit(zt.ERROR,e)}}]),e}(),Ed=["jpg","jpeg","gif","png"],Cd=["mp4"],_d=function(){function e(t){var n=this;sn(this,e),Vs(t)||(this.userID=t.userID||"",this.nick=t.nick||"",this.gender=t.gender||"",this.birthday=t.birthday||0,this.location=t.location||"",this.selfSignature=t.selfSignature||"",this.allowType=t.allowType||Xt.ALLOW_TYPE_ALLOW_ANY,this.language=t.language||0,this.avatar=t.avatar||"",this.messageSettings=t.messageSettings||0,this.adminForbidType=t.adminForbidType||Xt.FORBID_TYPE_NONE,this.level=t.level||0,this.role=t.role||0,this.lastUpdatedTime=0,this.profileCustomField=[],Vs(t.profileCustomField)||t.profileCustomField.forEach(function(e){n.profileCustomField.push({key:e.key,value:e.value})}))}return ln(e,[{key:"validate",value:function(e){var t=1,n="";if(Vs(e))return{valid:0,tips:"empty options"};if(e.profileCustomField)for(var r=e.profileCustomField.length,i=null,o=0;o<r;o++){if(i=e.profileCustomField[o],!Es(i.key)||-1===i.key.indexOf("Tag_Profile_Custom"))return{valid:0,tips:"自定义资料字段的前缀必须是 Tag_Profile_Custom"};if(!Es(i.value))return{valid:0,tips:"自定义资料字段的 value 必须是字符串"}}for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if("profileCustomField"===a)continue;if(Vs(e[a])&&!Es(e[a])&&!ys(e[a])){n="key:"+a+", invalid value:"+e[a],t=0;continue}switch(a){case"nick":Es(e[a])||(n="nick should be a string",t=0),Ns(e[a])>500&&(n="nick name limited: must less than or equal to ".concat(500," bytes, current size: ").concat(Ns(e[a])," bytes"),t=0);break;case"gender":Gs(Kc,e.gender)||(n="key:gender, invalid value:"+e.gender,t=0);break;case"birthday":ys(e.birthday)||(n="birthday should be a number",t=0);break;case"location":Es(e.location)||(n="location should be a string",t=0);break;case"selfSignature":Es(e.selfSignature)||(n="selfSignature should be a string",t=0);break;case"allowType":Gs(qc,e.allowType)||(n="key:allowType, invalid value:"+e.allowType,t=0);break;case"language":ys(e.language)||(n="language should be a number",t=0);break;case"avatar":Es(e.avatar)||(n="avatar should be a string",t=0);break;case"messageSettings":0!==e.messageSettings&&1!==e.messageSettings&&(n="messageSettings should be 0 or 1",t=0);break;case"adminForbidType":Gs(Yc,e.adminForbidType)||(n="key:adminForbidType, invalid value:"+e.adminForbidType,t=0);break;case"level":ys(e.level)||(n="level should be a number",t=0);break;case"role":ys(e.role)||(n="role should be a number",t=0);break;default:n="unknown key:"+a+"  "+e[a],t=0}}return{valid:t,tips:n}}}]),e}(),Td=function(){function e(t){sn(this,e),this.uc=t,this.TAG="profile",this.Actions={Q:"query",U:"update"},this.accountProfileMap=new Map,this.expirationTime=864e5}return ln(e,[{key:"setExpirationTime",value:function(e){this.expirationTime=e}},{key:"getUserProfile",value:function(e){var t=this,n=this.uc.tim.connectionController,r=e.userIDList;e.fromAccount=this.uc.getMyAccount(),r.length>100&&(gs.warn("ProfileHandler.getUserProfile 获取用户资料人数不能超过100人"),r.length=100);for(var i,o=[],a=[],s=0,u=r.length;s<u;s++)i=r[s],this.uc.isMyFriend(i)&&this._containsAccount(i)?a.push(this._getProfileFromMap(i)):o.push(i);if(0===o.length)return zc(a);e.toAccount=o;var l=e.bFromGetMyProfile||0,c=[];e.toAccount.forEach(function(e){c.push({toAccount:e,standardSequence:0,customSequence:0})}),e.userItem=c;var h=new $c;h.setMethod(eh.GET_USER_PROFILE).setStart();var f=this.uc.makeCapsule(this.TAG,this.Actions.Q,e);return n.request(f).then(function(e){h.setCode(0).setNetworkType(t.uc.getNetworkType()).setText(e.data.userProfileItem.length).setEnd(),gs.info("ProfileHandler.getUserProfile ok");var n=t._handleResponse(e).concat(a);return l?(t.uc.onGotMyProfile(),new Jc(n[0])):new Jc(n)}).catch(function(e){return t.uc.probeNetwork().then(function(t,n){h.setError(e,t,n).setEnd()}),gs.error("ProfileHandler.getUserProfile error:",e),Xc(e)})}},{key:"getMyProfile",value:function(){var e=this.uc.getMyAccount();if(gs.log("ProfileHandler.getMyProfile myAccount="+e),this._fillMap(),this._containsAccount(e)){var t=this._getProfileFromMap(e);return gs.debug("ProfileHandler.getMyProfile from cache, myProfile:"+JSON.stringify(t)),this.uc.onGotMyProfile(),zc(t)}return this.getUserProfile({fromAccount:e,userIDList:[e],bFromGetMyProfile:1})}},{key:"_handleResponse",value:function(e){for(var t,n,r=Rs.now(),i=e.data.userProfileItem,o=[],a=0,s=i.length;a<s;a++)"@TLS#NOT_FOUND"!==i[a].to&&""!==i[a].to&&(t=i[a].to,n=this._updateMap(t,this._getLatestProfileFromResponse(t,i[a].profileItem)),o.push(n));return gs.log("ProfileHandler._handleResponse cost "+(Rs.now()-r)+" ms"),o}},{key:"_getLatestProfileFromResponse",value:function(e,t){var n={};if(n.userID=e,n.profileCustomField=[],!Vs(t))for(var r=0,i=t.length;r<i;r++)if(t[r].tag.indexOf("Tag_Profile_Custom")>-1)n.profileCustomField.push({key:t[r].tag,value:t[r].value});else switch(t[r].tag){case Hc.NICK:n.nick=t[r].value;break;case Hc.GENDER:n.gender=t[r].value;break;case Hc.BIRTHDAY:n.birthday=t[r].value;break;case Hc.LOCATION:n.location=t[r].value;break;case Hc.SELFSIGNATURE:n.selfSignature=t[r].value;break;case Hc.ALLOWTYPE:n.allowType=t[r].value;break;case Hc.LANGUAGE:n.language=t[r].value;break;case Hc.AVATAR:n.avatar=t[r].value;break;case Hc.MESSAGESETTINGS:n.messageSettings=t[r].value;break;case Hc.ADMINFORBIDTYPE:n.adminForbidType=t[r].value;break;case Hc.LEVEL:n.level=t[r].value;break;case Hc.ROLE:n.role=t[r].value;break;default:gs.warn("ProfileHandler._handleResponse unkown tag->",t[r].tag,t[r].value)}return n}},{key:"updateMyProfile",value:function(e){var t=this,n=this.uc.tim,r=n.connectionController,i=n.outerEmitter,o=(new _d).validate(e);if(!o.valid)return gs.error("ProfileHandler.updateMyProfile info:".concat(o.tips,"，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#updateMyProfile")),Xc({code:ec.UPDATE_PROFILE_INVALID_PARAM,message:tc.UPDATE_PROFILE_INVALID_PARAM});var a=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&("profileCustomField"===s?e.profileCustomField.forEach(function(e){a.push({tag:e.key,value:e.value})}):a.push({tag:Hc[s.toUpperCase()],value:e[s]}));if(0===a.length)return gs.error("ProfileHandler.updateMyProfile info:".concat(tc.UPDATE_PROFILE_NO_KEY,"，请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#updateMyProfile")),Xc({code:ec.UPDATE_PROFILE_NO_KEY,message:tc.UPDATE_PROFILE_NO_KEY});var u=this.uc.makeCapsule(this.TAG,this.Actions.U,{fromAccount:this.uc.getMyAccount(),profileItem:a});return r.request(u).then(function(n){gs.info("ProfileHandler.updateMyProfile ok");var r=t._updateMap(t.uc.getMyAccount(),e);return i.emit(zt.PROFILE_UPDATED,[r]),zc(r)}).catch(function(e){return gs.error("ProfileHandler.updateMyProfile error:",e),Xc(e)})}},{key:"onProfileModified",value:function(e){var t=e.data;if(!Vs(t)){var n,r,i=t.length;gs.info("ProfileHandler.onProfileModified length="+i);for(var o=[],a=0;a<i;a++)n=t[a].userID,r=this._updateMap(n,this._getLatestProfileFromResponse(n,t[a].profileList)),o.push(r);var s=this.uc.tim,u=s.innerEmitter,l=s.outerEmitter;u.emit(hc.PROFILE_UPDATED,{data:o}),l.emit(zt.PROFILE_UPDATED,o)}}},{key:"_fillMap",value:function(){if(0===this.accountProfileMap.size){for(var e=this._getCachedProfiles(),t=Date.now(),n=0,r=e.length;n<r;n++)t-e[n].lastUpdatedTime<this.expirationTime&&this.accountProfileMap.set(e[n].userID,e[n]);gs.log("ProfileHandler._fillMap from chache, map.size="+this.accountProfileMap.size)}}},{key:"_updateMap",value:function(e,t){var n,r=Date.now();return this._containsAccount(e)?(n=this._getProfileFromMap(e),Ps(n,t),n.lastUpdatedTime=r):(n=new _d(t),(this.uc.isMyFriend(e)||e===this.uc.getMyAccount())&&(n.lastUpdatedTime=r,this.accountProfileMap.set(e,n))),this._flushMap(e===this.uc.getMyAccount()),n}},{key:"_flushMap",value:function(e){var t=Cn(this.accountProfileMap.values()),n=this.uc.tim.storage;gs.debug("ProfileHandler._flushMap length=".concat(t.length," flushAtOnce=").concat(e)),n.setItem(this.TAG,t,e)}},{key:"_containsAccount",value:function(e){return this.accountProfileMap.has(e)}},{key:"_getProfileFromMap",value:function(e){return this.accountProfileMap.get(e)}},{key:"_getCachedProfiles",value:function(){var e=this.uc.tim.storage.getItem(this.TAG);return Vs(e)?[]:e}},{key:"onConversationsProfileUpdated",value:function(e){for(var t,n,r,i=[],o=0,a=e.length;o<a;o++)n=(t=e[o]).userID,this.uc.isMyFriend(n)&&(this._containsAccount(n)?(r=this._getProfileFromMap(n),Ps(r,t)>0&&i.push(n)):i.push(t.userID));0!==i.length&&(gs.info("ProfileHandler.onConversationsProfileUpdated toAccount:",i),this.getUserProfile({userIDList:i}))}},{key:"reset",value:function(){this._flushMap(1),this.accountProfileMap.clear()}}]),e}();ke({target:"String",proto:1},{repeat:Gr});var Sd=function(){function e(t){sn(this,e),this.options=t?t.options:{enablePointer:1},this.pointsList={},this.reportText={},this.maxNameLen=0,this.gapChar="-",this.log=console.log,this.currentTask=""}return ln(e,[{key:"newTask",value:function(e){0!=this.options.enablePointer&&(e||(e=["task",this._timeFormat()].join("-")),this.pointsList[e]=[],this.currentTask=e)}},{key:"deleteTask",value:function(e){0!=this.options.enablePointer&&(e||(e=this.currentTask),this.pointsList[e].length=0,delete this.pointsList[e])}},{key:"dot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(0!=this.options.enablePointer){t=t||this.currentTask;var n=+new Date;this.maxNameLen=this.maxNameLen<e.length?e.length:this.maxNameLen,this.flen=this.maxNameLen+10,this.pointsList[t].push({pointerName:e,time:n})}}},{key:"_analisys",value:function(e){if(0!=this.options.enablePointer){e=e||this.currentTask;for(var t=this.pointsList[e],n=t.length,r=[],i=[],o=0;o<n;o++)0!==o&&(i=this._analisysTowPoints(t[o-1],t[o]),r.push(i.join("")));return i=this._analisysTowPoints(t[0],t[n-1],1),r.push(i.join("")),r.join("")}}},{key:"_analisysTowPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0!=this.options.enablePointer){var r=this.flen,i=t.time-e.time,o=i.toString(),a=e.pointerName+this.gapChar.repeat(r-e.pointerName.length),s=t.pointerName+this.gapChar.repeat(r-t.pointerName.length),u=this.gapChar.repeat(4-o.length)+o,l=n?["%c",a,s,u,"ms\n%c"]:[a,s,u,"ms\n"];return l}}},{key:"report",value:function(e){if(0!=this.options.enablePointer){e=e||this.currentTask;this._analisys(e);this.pointsList=[];var t=this._timeFormat(),n="Pointer[".concat(e,"(").concat(t,")]"),r=4*this.maxNameLen;n.length}}},{key:"_timeFormat",value:function(){var e=new Date,t=this.zeroFix(e.getMonth()+1,2),n=this.zeroFix(e.getDate(),2);return"".concat(t,"-").concat(n," ").concat(e.getHours(),":").concat(e.getSeconds(),":").concat(e.getMinutes(),"~").concat(e.getMilliseconds())}},{key:"zeroFix",value:function(e,t){return("000000000"+e).slice(-t)}},{key:"reportAll",value:function(){if(0!=this.options.enablePointer)for(var e in this.pointsList)Object.prototype.hasOwnProperty.call(this.pointsList,e)&&this.eport(e)}}]),e}(),wd=function e(t,n){sn(this,e),this.userID=t;var r={};if(r.userID=t,!Vs(n))for(var i=0,o=n.length;i<o;i++)switch(n[i].tag){case Hc.NICK:r.nick=n[i].value;break;case Hc.GENDER:r.gender=n[i].value;break;case Hc.BIRTHDAY:r.birthday=n[i].value;break;case Hc.LOCATION:r.location=n[i].value;break;case Hc.SELFSIGNATURE:r.selfSignature=n[i].value;break;case Hc.ALLOWTYPE:r.allowType=n[i].value;break;case Hc.LANGUAGE:r.language=n[i].value;break;case Hc.AVATAR:r.avatar=n[i].value;break;case Hc.MESSAGESETTINGS:r.messageSettings=n[i].value;break;case Hc.ADMINFORBIDTYPE:r.adminForbidType=n[i].value;break;case Hc.LEVEL:r.level=n[i].value;break;case Hc.ROLE:r.role=n[i].value;break;default:gs.warn("snsProfileItem unkown tag->",n[i].tag)}this.profile=new _d(r)},Id=function(){function e(t){sn(this,e),this.uc=t,this.TAG="friend",this.Actions={G:"get",D:"delete"},this.friends=new Map,this.pointer=new Sd}return ln(e,[{key:"isMyFriend",value:function(e){var t=this.friends.has(e);return t||gs.debug("FriendHandler.isMyFriend "+e+" is not my friend"),t}},{key:"_transformFriendList",value:function(e){if(!Vs(e)&&!Vs(e.infoItem)){gs.info("FriendHandler._transformFriendList friendNum="+e.friendNum);for(var t,n,r=e.infoItem,i=0,o=r.length;i<o;i++)n=r[i].infoAccount,t=new wd(n,r[i].snsProfileItem),this.friends.set(n,t)}}},{key:"_friends2map",value:function(e){var t=new Map;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.set(n,e[n]);return t}},{key:"getFriendList",value:function(){var e=this,t=this.uc.tim.connectionController,n={};n.fromAccount=this.uc.getMyAccount(),gs.info("FriendHandler.getFriendList myAccount="+n.fromAccount);var r=this.uc.makeCapsule(this.TAG,this.Actions.G,n);return t.request(r).then(function(t){gs.info("FriendHandler.getFriendList ok"),e._transformFriendList(t.data);var n=Cn(e.friends.values());return zc(n)}).catch(function(e){return gs.error("FriendHandler.getFriendList error:",JSON.stringify(e)),Xc(e)})}},{key:"deleteFriend",value:function(e){if(!Array.isArray(e.toAccount))return gs.error("FriendHandler.deleteFriend options.toAccount 必需是数组"),Xc({code:ec.DEL_FRIEND_INVALID_PARAM,message:tc.DEL_FRIEND_INVALID_PARAM});e.toAccount.length>1e3&&(gs.warn("FriendHandler.deleteFriend 删除好友人数不能超过1000人"),e.toAccount.length=1e3);var t=this.uc.tim.connectionController,n=this.uc.makeCapsule(this.TAG,this.Actions.D,e);return t.request(n).then(function(e){return gs.info("FriendHandler.deleteFriend ok"),zc()}).catch(function(e){return gs.error("FriendHandler.deleteFriend error:",e),Xc(e)})}}]),e}(),bd=function e(t){sn(this,e),Vs||(this.userID=t.userID||"",this.timeStamp=t.timeStamp||0)},Dd=function(){function e(t){sn(this,e),this.uc=t,this.TAG="blacklist",this.Actions={G:"get",C:"create",D:"delete"},this.blacklistMap=new Map,this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}return ln(e,[{key:"getBlacklist",value:function(){var e=this,t=this.uc.tim.connectionController,n={};n.fromAccount=this.uc.getMyAccount(),n.maxLimited=this.maxLimited,n.startIndex=0,n.lastSequence=this.curruentSequence;var r=new $c;r.setMethod(eh.GET_BLACKLIST).setStart();var i=this.uc.makeCapsule(this.TAG,this.Actions.G,n);return t.request(i).then(function(t){var n=Vs(t.data.blackListItem)?0:t.data.blackListItem.length;return r.setCode(0).setNetworkType(e.uc.getNetworkType()).setText(n).setEnd(),gs.info("BlacklistHandler.getBlacklist ok"),e.curruentSequence=t.data.curruentSequence,e._handleResponse(t.data.blackListItem,1),e._onBlacklistUpdated()}).catch(function(t){return e.uc.probeNetwork().then(function(e,n){r.setError(t,e,n).setEnd()}),gs.error("BlacklistHandler.getBlacklist error:",t),Xc(t)})}},{key:"addBlacklist",value:function(e){var t=this;if(!Ts(e.userIDList))return gs.error("BlacklistHandler.addBlacklist options.userIDList 必需是数组"),Xc({code:ec.ADD_BLACKLIST_INVALID_PARAM,message:tc.ADD_BLACKLIST_INVALID_PARAM});var n=this.uc.tim.loginInfo.identifier;if(1===e.userIDList.length&&e.userIDList[0]===n)return gs.error("BlacklistHandler.addBlacklist 不能把自己拉黑"),Xc({code:ec.CANNOT_ADD_SELF_TO_BLACKLIST,message:tc.CANNOT_ADD_SELF_TO_BLACKLIST});e.userIDList.includes(n)&&(e.userIDList=e.userIDList.filter(function(e){return e!==n}),gs.warn("BlacklistHandler.addBlacklist 不能把自己拉黑，已过滤"));var r=this.uc.tim.connectionController;e.fromAccount=this.uc.getMyAccount(),e.toAccount=e.userIDList;var i=this.uc.makeCapsule(this.TAG,this.Actions.C,e);return r.request(i).then(function(e){return gs.info("BlacklistHandler.addBlacklist ok"),t._handleResponse(e.data.resultItem,1),t._onBlacklistUpdated()}).catch(function(e){return gs.error("BlacklistHandler.addBlacklist error:",e),Xc(e)})}},{key:"_handleResponse",value:function(e,t){if(!Vs(e))for(var n,r,i,o=0,a=e.length;o<a;o++)r=e[o].to,i=e[o].resultCode,(Ss(i)||0===i)&&(t?((n=this.blacklistMap.has(r)?this.blacklistMap.get(r):new bd).userID=r,!Vs(e[o].addBlackTimeStamp)&&(n.timeStamp=e[o].addBlackTimeStamp),this.blacklistMap.set(r,n)):this.blacklistMap.has(r)&&(n=this.blacklistMap.get(r),this.blacklistMap.delete(r)));gs.log("BlacklistHandler._handleResponse total="+this.blacklistMap.size+" bAdd="+t)}},{key:"deleteBlacklist",value:function(e){var t=this;if(!Ts(e.userIDList))return gs.error("BlacklistHandler.deleteBlacklist options.userIDList 必需是数组"),Xc({code:ec.DEL_BLACKLIST_INVALID_PARAM,message:tc.DEL_BLACKLIST_INVALID_PARAM});var n=this.uc.tim.connectionController;e.fromAccount=this.uc.getMyAccount(),e.toAccount=e.userIDList;var r=this.uc.makeCapsule(this.TAG,this.Actions.D,e);return n.request(r).then(function(e){return gs.info("BlacklistHandler.deleteBlacklist ok"),t._handleResponse(e.data.resultItem,0),t._onBlacklistUpdated()}).catch(function(e){return gs.error("BlacklistHandler.deleteBlacklist error:",e),Xc(e)})}},{key:"_onBlacklistUpdated",value:function(){var e=this.uc.tim.outerEmitter,t=Cn(this.blacklistMap.keys());return e.emit(zt.BLACKLIST_UPDATED,t),zc(t)}},{key:"handleBlackListDelAccount",value:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r],this.blacklistMap.has(t)&&(this.blacklistMap.delete(t),n.push(t));n.length>0&&(gs.log("BlacklistHandler.handleBlackListDelAccount delCount="+n.length+" : "+n.join(",")),this.tim.outerEmitter.emit(zt.BLACKLIST_UPDATED,Cn(this.blacklistMap.keys())))}},{key:"handleBlackListAddAccount",value:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r],this.blacklistMap.has(t)||(this.blacklistMap.set(t,new bd({userID:t})),n.push(t));n.length>0&&(gs.log("BlacklistHandler.handleBlackListAddAccount addCount="+n.length+" : "+n.join(",")),this.tim.outerEmitter.emit(zt.BLACKLIST_UPDATED,Cn(this.blacklistMap.keys())))}},{key:"reset",value:function(){this.blacklistMap.clear(),this.startIndex=0,this.maxLimited=100,this.curruentSequence=0}}]),e}(),kd=function(){function e(t){sn(this,e),this.uc=t,this.TAG="applyC2C",this.Actions={C:"create",G:"get",D:"delete",U:"update"}}return ln(e,[{key:"applyAddFriend",value:function(e){var t=this,n=this.uc.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.C,e),i=n.request(r);return i.then(function(e){t.uc.isActionSuccessful("applyAddFriend",t.Actions.C,e)}).catch(function(e){}),i}},{key:"getPendency",value:function(e){var t=this,n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.G,e),i=n.request(r);return i.then(function(e){t.uc.isActionSuccessful("getPendency",t.Actions.G,e)}).catch(function(e){}),i}},{key:"deletePendency",value:function(e){var t=this,n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.D,e),i=n.request(r);return i.then(function(e){t.uc.isActionSuccessful("deletePendency",t.Actions.D,e)}).catch(function(e){}),i}},{key:"replyPendency",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.tim.connectionController,r=this.uc.makeCapsule(this.TAG,this.Actions.U,t),i=n.request(r);return i.then(function(t){e.uc.isActionSuccessful("replyPendency",e.Actions.U,t)}).catch(function(e){}),i}}]),e}(),Md=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).profileHandler=new Td(An(n)),n.friendHandler=new Id(An(n)),n.blacklistHandler=new Dd(An(n)),n.applyC2CHandler=new kd(An(n)),n._initializeListener(),n}return dn(t,wc),ln(t,[{key:"_initializeListener",value:function(e){var t=this.tim.innerEmitter;t.on(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this.onContextUpdated,this),t.on(hc.NOTICE_LONGPOLL_PROFILE_MODIFIED,this.onProfileModified,this),t.on(hc.NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES,this.onNewFriendMessages,this),t.on(hc.CONVERSATION_LIST_PROFILE_UPDATED,this.onConversationsProfileUpdated,this)}},{key:"onContextUpdated",value:function(e){var t=e.data.context;0!=!!t.a2Key&&0!=!!t.tinyID&&(this.profileHandler.getMyProfile(),this.friendHandler.getFriendList(),this.blacklistHandler.getBlacklist())}},{key:"onGotMyProfile",value:function(){this.triggerReady()}},{key:"onProfileModified",value:function(e){this.profileHandler.onProfileModified(e)}},{key:"onNewFriendMessages",value:function(e){gs.debug("onNewFriendMessages",JSON.stringify(e.data)),Vs(e.data.blackListDelAccount)||this.blacklistHandler.handleBlackListDelAccount(e.data.blackListDelAccount),Vs(e.data.blackListAddAccount)||this.blacklistHandler.handleBlackListAddAccount(e.data.blackListAddAccount)}},{key:"onConversationsProfileUpdated",value:function(e){this.profileHandler.onConversationsProfileUpdated(e.data)}},{key:"getMyAccount",value:function(){return this.tim.context.identifier}},{key:"isMyFriend",value:function(e){return this.friendHandler.isMyFriend(e)}},{key:"makeCapsule",value:function(e,t,n){return this.createPackage({name:e,action:t,param:n})}},{key:"getMyProfile",value:function(){return this.profileHandler.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.profileHandler.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.profileHandler.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.friendHandler.getFriendList()}},{key:"deleteFriend",value:function(e){return this.friendHandler.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.blacklistHandler.getBlacklist()}},{key:"addBlacklist",value:function(e){return this.blacklistHandler.addBlacklist(e)}},{key:"deleteBlacklist",value:function(e){return this.blacklistHandler.deleteBlacklist(e)}},{key:"applyAddFriend",value:function(e){return this.applyC2CHandler.applyAddFriend(e)}},{key:"getPendency",value:function(e){return this.applyC2CHandler.getPendency(e)}},{key:"deletePendency",value:function(e){return this.applyC2CHandler.deletePendency(e)}},{key:"replyPendency",value:function(e){return this.applyC2CHandler.replyPendency(e)}},{key:"reset",value:function(){gs.warn("UserController.reset"),this.resetReady(),this.profileHandler.reset(),this.blacklistHandler.reset(),this.checkTimes=0}}]),t}(),Rd=[].sort,Pd=[1,2,3],Od=l(function(){Pd.sort(void 0)}),Ld=l(function(){Pd.sort(null)}),Nd=He("sort");ke({target:"Array",proto:1,forced:Od||!Ld||Nd},{sort:function(e){return void 0===e?Rd.call(Pe(this)):Rd.call(Pe(this),Me(e))}});var Bd=function(){function e(t){sn(this,e),this.type=Xt.MSG_TEXT,this.content={text:t.text||""}}return ln(e,[{key:"setText",value:function(e){this.content.text=e}},{key:"sendable",value:function(){return 0===this.content.text.length?0:1}}]),e}(),xd=function(){function e(t){sn(this,e),this._imageMemoryURL="",this._file=t.file,Ua?this.createImageDataASURLInWXMiniApp(t.file):this.createImageDataASURLInWeb(t.file),this._initImageInfoModel(),this.type=Xt.MSG_IMAGE,this._percent=0,this.content={imageFormat:Dc.IMAGE_FORMAT[t.imageFormat]||Dc.IMAGE_FORMAT.UNKNOWN,uuid:t.uuid,imageInfoArray:[]},this.initImageInfoArray(t.imageInfoArray),this._defaultImage="http://imgcache.qq.com/open/qcloud/video/act/webim-images/default.jpg",this._autoFixUrl()}return ln(e,[{key:"_initImageInfoModel",value:function(){var e=this;this._ImageInfoModel=function(t){this.instanceID=Bs(9999999),this.sizeType=t.type||0,this.size=t.size||0,this.width=t.width||0,this.height=t.height||0,this.imageUrl=t.url||"",this.url=t.url||e._imageMemoryURL||e._defaultImage},this._ImageInfoModel.prototype={setSizeType:function(e){this.sizeType=e},setImageUrl:function(e){e&&(this.imageUrl=e)},getImageUrl:function(){return this.imageUrl}}}},{key:"initImageInfoArray",value:function(e){for(var t=2,n=null,r=null;t>=0;)r=void 0===e||void 0===e[t]?{type:0,size:0,width:0,height:0,url:""}:e[t],(n=new this._ImageInfoModel(r)).setSizeType(t+1),this.addImageInfo(n),t--}},{key:"updateImageInfoArray",value:function(e){for(var t,n=this.content.imageInfoArray.length,r=0;r<n;r++)t=this.content.imageInfoArray[r],e.size&&(t.size=e.size),e.url&&t.setImageUrl(e.url),e.width&&(t.width=e.width),e.height&&(t.height=e.height)}},{key:"_autoFixUrl",value:function(){for(var e=this.content.imageInfoArray.length,t="",n="",r=["http","https"],i=null,o=0;o<e;o++)this.content.imageInfoArray[o].url&&""!==(i=this.content.imageInfoArray[o]).imageUrl&&(n=i.imageUrl.slice(0,i.imageUrl.indexOf("://")+1),t=i.imageUrl.slice(i.imageUrl.indexOf("://")+1),r.indexOf(n)<0&&(n="https:"),this.content.imageInfoArray[o].setImageUrl([n,t].join("")))}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateImageFormat",value:function(e){this.content.imageFormat=e}},{key:"createImageDataASURLInWeb",value:function(e){void 0!==e&&e.files.length>0&&(this._imageMemoryURL=window.URL.createObjectURL(e.files[0]))}},{key:"createImageDataASURLInWXMiniApp",value:function(e){e&&e.url&&(this._imageMemoryURL=e.url)}},{key:"replaceImageInfo",value:function(e,t){this.content.imageInfoArray[t]instanceof this._ImageInfoModel||(this.content.imageInfoArray[t]=e)}},{key:"addImageInfo",value:function(e){this.content.imageInfoArray.length>=3||this.content.imageInfoArray.push(e)}},{key:"sendable",value:function(){return 0===this.content.imageInfoArray.length?0:""===this.content.imageInfoArray[0].imageUrl?0:0===this.content.imageInfoArray[0].size?0:1}}]),e}(),Ud=function(){function e(t){sn(this,e),this.type=Xt.MSG_FACE,this.content=t||null}return ln(e,[{key:"sendable",value:function(){return null===this.content?0:1}}]),e}(),Gd=function(){function e(t){sn(this,e),this.type=Xt.MSG_AUDIO,this._percent=0,this.content={downloadFlag:2,second:t.second,size:t.size,url:t.url,remoteAudioUrl:"",uuid:t.uuid}}return ln(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateAudioUrl",value:function(e){this.content.remoteAudioUrl=e}},{key:"sendable",value:function(){return""===this.content.remoteAudioUrl?0:1}}]),e}(),Fd={from:1,groupID:1,groupName:1,to:1},Qd=function(){function e(t){sn(this,e),this.type=Xt.MSG_GRP_TIP,this.content={},this._initContent(t)}return ln(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach(function(n){switch(n){case"remarkInfo":break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;case"operatorInfo":case"memberInfoList":break;default:t.content[n]=e[n]}}),this.content.userIDList||(this.content.userIDList=[this.content.operatorID])}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];Fd[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),jd={from:1,groupID:1,name:1,to:1},Hd=function(){function e(t){sn(this,e),this.type=Xt.MSG_GRP_SYS_NOTICE,this.content={},this._initContent(t)}return ln(e,[{key:"_initContent",value:function(e){var t=this;Object.keys(e).forEach(function(n){switch(n){case"memberInfoList":break;case"remarkInfo":t.content.handleMessage=e[n];break;case"groupProfile":t.content.groupProfile={},t._initGroupProfile(e[n]);break;default:t.content[n]=e[n]}})}},{key:"_initGroupProfile",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];jd[r]&&(this.content.groupProfile[r]=e[r])}}}]),e}(),Kd=Math.min,Yd=[].lastIndexOf,qd=!!Yd&&1/[1].lastIndexOf(1,-0)<0,Jd=He("lastIndexOf"),Vd=qd||Jd?function(e){if(qd)return Yd.apply(this,arguments)||0;var t=E(this),n=se(t.length),r=n-1;for(arguments.length>1&&(r=Kd(r,oe(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:Yd;ke({target:"Array",proto:1,forced:Vd!==[].lastIndexOf},{lastIndexOf:Vd});var Wd=function(){function e(t){sn(this,e);var n=this._check(t);if(n instanceof rc)throw n;this.type=Xt.MSG_FILE,this._percent=0;var r=this._getFileInfo(t);this.content={downloadFlag:2,fileUrl:t.url||"",uuid:t.uuid,fileName:r.name||"",fileSize:r.size||0}}return ln(e,[{key:"_getFileInfo",value:function(e){if(e.fileName&&e.fileSize)return{size:e.fileSize,name:e.fileName};if(Ua)return{};var t=e.file.files[0];return{size:t.size,name:t.name,type:t.type.slice(t.type.lastIndexOf("/")+1).toLowerCase()}}},{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateFileUrl",value:function(e){this.content.fileUrl=e}},{key:"_check",value:function(e){if(e.size>20971520)return new rc({code:ec.MESSAGE_FILE_SIZE_LIMIT,message:"".concat(tc.MESSAGE_FILE_SIZE_LIMIT,": ").concat(20971520," bytes")})}},{key:"sendable",value:function(){return""===this.content.fileUrl?0:""===this.content.fileName?0:0===this.content.fileSize?0:1}}]),e}(),zd=function(){function e(t){sn(this,e),this.type=Xt.MSG_CUSTOM,this.content={data:t.data||"",description:t.description||"",extension:t.extension||""}}return ln(e,[{key:"setData",value:function(e){return this.content.data=e,this}},{key:"setDescription",value:function(e){return this.content.description=e,this}},{key:"setExtension",value:function(e){return this.content.extension=e,this}},{key:"sendable",value:function(){return 0===this.content.data.length&&0===this.content.description.length&&0===this.content.extension.length?0:1}}]),e}(),Xd=function(){function e(t){sn(this,e),this.type=Xt.MSG_VIDEO,this._percent=0,this.content={remoteVideoUrl:t.remoteVideoUrl,videoFormat:t.videoFormat,videoSecond:parseInt(t.videoSecond,10),videoSize:t.videoSize,videoUrl:t.videoUrl,videoDownloadFlag:2,videoUUID:t.videoUUID,thumbUUID:t.thumbUUID,thumbFormat:t.thumbFormat,thumbWidth:t.thumbWidth,thumbHeight:t.thumbHeight,thumbSize:t.thumbSize,thumbDownloadFlag:2,thumbUrl:t.thumbUrl}}return ln(e,[{key:"updatePercent",value:function(e){this._percent=e,this._percent>1&&(this._percent=1)}},{key:"updateVideoUrl",value:function(e){e&&(this.content.remoteVideoUrl=e)}},{key:"sendable",value:function(){return""===this.content.remoteVideoUrl?0:1}}]),e}(),Zd=function e(t){sn(this,e),this.type=Xt.MSG_GEO,this.content=t},$d=function(){function e(t){sn(this,e),this.ID="",this.conversationID=t.conversationID||null,this.conversationType=t.conversationType||Xt.CONV_C2C,this.conversationSubType=t.conversationSubType,this.time=t.time||Math.ceil(Date.now()/1e3),this.sequence=t.sequence||0,this.clientSequence=t.clientSequence||t.sequence||0,this.random=t.random||Bs(),this.messagePriority=t.messagePriority||0,this._elements=[],this.isPlaceMessage=0,this.geo={},this.from=t.from||null,this.to=t.to||null,this.flow="",this.isSystemMessage=t.isSystemMessage||0,this.protocol=t.protocol||"JSON",this.isResend=0,this.isRead=0,this.status=t.status||Sc.MESSAGE_STATUS.SUCCESS,this.reInitialize(t.currentUser),this.extractGroupInfo(t.groupProfile||null)}return ln(e,[{key:"getElements",value:function(){return this._elements}},{key:"extractGroupInfo",value:function(e){if(null!==e){var t=e.messageFromAccountExtraInformation;this.nick="","string"==typeof e.fromAccountNick&&(this.nick=e.fromAccountNick),this.avatar="","string"==typeof e.fromAccountHeadurl&&(this.avatar=e.fromAccountHeadurl),this.nameCard="","object"===an(t)&&t.hasOwnProperty("nameCard")&&(this.nameCard=t.nameCard)}}},{key:"_initProxy",value:function(){this.payload=this._elements[0].content,this.type=this._elements[0].type}},{key:"reInitialize",value:function(e){e&&(this.status=this.from?Sc.MESSAGE_STATUS.SUCCESS:Sc.MESSAGE_STATUS.UNSEND,!this.from&&(this.from=e),this.isRead=1),this._initFlow(e),this._initielizeSequence(e),this._concactConversationID(e),this.generateMessageID(e)}},{key:"isSendable",value:function(){return 0===this._elements.length?0:"function"!=typeof this._elements[0].sendable?(gs.warn("".concat(this._elements[0].type,' need "boolean : sendable()" method')),0):this._elements[0].sendable()}},{key:"_initTo",value:function(e){this.conversationType===Xt.CONV_GROUP&&(this.to=e.groupID)}},{key:"_initielizeSequence",value:function(e){0===this.clientSequence&&e&&(this.clientSequence=function(e){if(!e)return gs.error("autoincrementIndex(string: key) need key parameter"),0;if(void 0===Fs[e]){var t=new Date,n="3".concat(t.getHours()).slice(-2),r="0".concat(t.getMinutes()).slice(-2),i="0".concat(t.getSeconds()).slice(-2);Fs[e]=parseInt([n,r,i,"0001"].join("")),n=null,r=null,i=null,gs.warn("utils.autoincrementIndex() create new sequence : ".concat(e," = ").concat(Fs[e]))}return Fs[e]++}(e)),0===this.sequence&&this.conversationType===Xt.CONV_C2C&&(this.sequence=this.clientSequence)}},{key:"generateMessageID",value:function(e){var t=e===this.from?1:0,n=this.sequence>0?this.sequence:this.clientSequence;this.ID="".concat(this.conversationID,"-").concat(n,"-").concat(this.random,"-").concat(t)}},{key:"_initFlow",value:function(e){""!==e&&(this.flow=e===this.from?"out":"in")}},{key:"_concactConversationID",value:function(e){var t=this.to,n="",r=this.conversationType;r!==Xt.CONV_SYSTEM?(n=r===Xt.CONV_C2C?e===this.from?t:this.from:this.to,this.conversationID="".concat(r).concat(n)):this.conversationID=Xt.CONV_SYSTEM}},{key:"isElement",value:function(e){return e instanceof Bd||e instanceof xd||e instanceof Ud||e instanceof Gd||e instanceof Wd||e instanceof Xd||e instanceof Qd||e instanceof Hd||e instanceof zd||e instanceof Zd}},{key:"setElement",value:function(e){var t=this;if(this.isElement(e))return this._elements=[e],void this._initProxy();var n=function(e){switch(e.type){case Xt.MSG_TEXT:t.setTextElement(e.content);break;case Xt.MSG_IMAGE:t.setImageElement(e.content);break;case Xt.MSG_AUDIO:t.setAudioElement(e.content);break;case Xt.MSG_FILE:t.setFileElement(e.content);break;case Xt.MSG_VIDEO:t.setVideoElement(e.content);break;case Xt.MSG_CUSTOM:t.setCustomElement(e.content);break;case Xt.MSG_GEO:t.setGEOElement(e.content);break;case Xt.MSG_GRP_TIP:t.setGroupTipElement(e.content);break;case Xt.MSG_GRP_SYS_NOTICE:t.setGroupSystemNoticeElement(e.content);break;case Xt.MSG_FACE:t.setFaceElement(e.content);break;default:gs.warn(e.type,e.content,"no operation......")}};if(Array.isArray(e))for(var r=0;r<e.length;r++)n(e[r]);else n(e);this._initProxy()}},{key:"setTextElement",value:function(e){var t="string"==typeof e?e:e.text,n=new Bd({text:t});this._elements.push(n)}},{key:"setImageElement",value:function(e){var t=new xd(e);this._elements.push(t)}},{key:"setAudioElement",value:function(e){var t=new Gd(e);this._elements.push(t)}},{key:"setFileElement",value:function(e){var t=new Wd(e);this._elements.push(t)}},{key:"setVideoElement",value:function(e){var t=new Xd(e);this._elements.push(t)}},{key:"setGEOElement",value:function(e){var t=new Zd(e);this._elements.push(t)}},{key:"setCustomElement",value:function(e){var t=new zd(e);this._elements.push(t)}},{key:"setGroupTipElement",value:function(e){var t=new Qd(e);this._elements.push(t)}},{key:"setGroupSystemNoticeElement",value:function(e){var t=new Hd(e);this._elements.push(t)}},{key:"setFaceElement",value:function(e){var t=new Ud(e);this._elements.push(t)}},{key:"elements",get:function(){return gs.warn("！！！Message 实例的 elements 属性即将废弃，请尽快修改。使用 type 和 payload 属性处理单条消息，兼容组合消息使用 _elements 属性！！！"),this._elements}}]),e}(),ep=["groupID","name","avatar","type","introduction","notification","ownerID","selfInfo","createTime","infoSequence","lastInfoTime","lastMessage","nextMessageSeq","memberNum","maxMemberNum","memberList","joinOption","groupCustomField"],tp=function(){function e(t){sn(this,e),this.groupID="",this.name="",this.avatar="",this.type="",this.introduction="",this.notification="",this.ownerID="",this.createTime="",this.infoSequence="",this.lastInfoTime="",this.selfInfo={messageRemindType:"",joinTime:"",nameCard:"",role:""},this.lastMessage={lastTime:"",lastSequence:"",fromAccount:"",messageForShow:""},this.nextMessageSeq="",this.memberNum="",this.maxMemberNum="",this.joinOption="",this.groupCustomField=[],this._initGroup(t)}return ln(e,[{key:"_initGroup",value:function(e){for(var t in e)ep.indexOf(t)<0||("selfInfo"!==t?this[t]=e[t]:this.updateSelfInfo(e[t]))}},{key:"updateGroup",value:function(e){e.lastMsgTime&&(this.lastMessage.lastTime=e.lastMsgTime),Ps(this,e,["members","errorCode","lastMsgTime"])}},{key:"updateSelfInfo",value:function(e){var t=e.nameCard,n=e.joinTime,r=e.role,i=e.messageRemindType;Ps(this.selfInfo,{nameCard:t,joinTime:n,role:r,messageRemindType:i},[],["",null,void 0,0,NaN])}}]),e}(),np=function(e,t){if(Ss(t))return"";switch(e){case Xt.MSG_TEXT:return t.text;case Xt.MSG_IMAGE:return"[图片]";case Xt.MSG_GEO:return"[位置]";case Xt.MSG_AUDIO:return"[语音]";case Xt.MSG_VIDEO:return"[视频]";case Xt.MSG_FILE:return"[文件]";case Xt.MSG_CUSTOM:return"[自定义消息]";case Xt.MSG_GRP_TIP:return"[群提示消息]";case Xt.MSG_GRP_SYS_NOTICE:return"[群系统通知]";case Xt.MSG_FACE:return"[动画表情]";default:return""}},rp=function(e){return Ss(e)?{lastTime:0,lastSequence:0,fromAccount:0,messageForShow:"",payload:null,type:""}:e instanceof $d?{lastTime:e.time||0,lastSequence:e.sequence||0,fromAccount:e.from||"",messageForShow:np(e.type,e.payload),payload:e.payload||null,type:e.type||null}:fn({},e,{messageForShow:np(e.type,e.payload)})},ip=function(){function e(t){sn(this,e),this.conversationID=t.conversationID||"",this.unreadCount=t.unreadCount||0,this.type=t.type||"",this.lastMessage=rp(t.lastMessage),this._isInfoCompleted=0,this._initProfile(t)}return ln(e,[{key:"_initProfile",value:function(e){var t=this;Object.keys(e).forEach(function(n){switch(n){case"userProfile":t.userProfile=e.userProfile;break;case"groupProfile":t.groupProfile=e.groupProfile}}),Ss(this.userProfile)&&this.type===Xt.CONV_C2C?this.userProfile=new _d({userID:e.conversationID.replace("C2C","")}):Ss(this.groupProfile)&&this.type===Xt.CONV_GROUP&&(this.groupProfile=new tp({groupID:e.conversationID.replace("GROUP","")}))}},{key:"updateUnreadCount",value:function(e,t){Ss(e)||(this.subType===Xt.GRP_CHATROOM||Ks(this.subType)?this.unreadCount=0:t&&this.type===Xt.CONV_GROUP?this.unreadCount=e:this.unreadCount=this.unreadCount+e)}},{key:"toAccount",get:function(){return this.conversationID.replace("C2C","").replace("GROUP","")}},{key:"subType",get:function(){return this.groupProfile?this.groupProfile.type:""}}]),e}(),op=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).pagingStatus=Sc.PAGING_CONVERSATION.NOT_START,n.pagingTimeStamp=0,n.conversationMap=new Map,n.tempGroupList=[],n._initListeners(),n}return dn(t,wc),ln(t,[{key:"hasLocalConversationMap",value:function(){return this.conversationMap.size>0}},{key:"createLocalConversation",value:function(e){return this.conversationMap.has(e)?this.conversationMap.get(e):new ip({conversationID:e,type:e.slice(0,3)===Xt.CONV_C2C?Xt.CONV_C2C:Xt.CONV_GROUP})}},{key:"hasLocalConversation",value:function(e){return this.conversationMap.has(e)}},{key:"getConversationList",value:function(){var e=this;gs.log("ConversationController.getConversationList."),this.pagingStatus===Sc.PAGING_CONVERSATION.REJECTED&&(gs.log("ConversationController.getConversationList. continue to sync conversationList"),this._syncConversationList());var t=new $c;t.setMethod(eh.GET_CONVERSATION_LIST).setStart();var n=this.createPackage({name:"conversation",action:"query"});return this.tim.connectionController.request(n).then(function(n){var r=n.data.conversations,i=void 0===r?[]:r,o=e._getConversationOptions(i);return e._updateLocalConversationList(o,1),e._setStorageConversationList(),t.setCode(0).setText(i.length).setEnd(),gs.log("ConversationController.getConversationList ok."),zc({conversationList:e.getLocalConversationList()})}).catch(function(n){return e.probeNetwork().then(function(e,r){t.setError(n,e,r).setEnd()}),gs.error("ConversationController.getConversationList error:",n),Xc(n)})}},{key:"_syncConversationList",value:function(){var e=this,t=new $c;return t.setMethod(eh.SYNC_CONVERSATION_LIST).setStart(),this.pagingStatus===Sc.PAGING_CONVERSATION.NOT_START&&this.conversationMap.clear(),this._autoPagingSyncConversationList().then(function(n){return e.pagingStatus=Sc.PAGING_CONVERSATION.RESOLVED,e._setStorageConversationList(),t.setCode(0).setText("".concat(e.conversationMap.size)).setEnd(),n}).catch(function(n){return e.pagingStatus=Sc.PAGING_CONVERSATION.REJECTED,t.setText(e.pagingTimeStamp),e.probeNetwork().then(function(e,r){t.setError(n,e,r).setEnd()}),Xc(n)})}},{key:"_autoPagingSyncConversationList",value:function(){var e=this;this.pagingStatus=Sc.PAGING_CONVERSATION.PENDING;var t=this.createPackage({name:"conversation",action:"pagingQuery",param:{fromAccount:this.tim.context.identifier,timeStamp:this.pagingTimeStamp,orderType:1}});return this.connectionController.request(t).then(function(t){var n=t.data,r=n.completeFlag,i=n.conversations,o=void 0===i?[]:i,a=n.timeStamp;if(o.length>0){var s=e._getConversationOptions(o);e._updateLocalConversationList(s,1)}return e._isReady?e._emitConversationUpdate():e.triggerReady(),e.pagingTimeStamp=a,1!==r?e._autoPagingSyncConversationList():zc()})}},{key:"getConversationProfile",value:function(e){var t=this.conversationMap.has(e)?this.conversationMap.get(e):this.createLocalConversation(e);return t._isInfoCompleted||t.type===Xt.CONV_SYSTEM?zc({conversation:t}):(gs.log("ConversationController.getConversationProfile. conversationID:",e),this._updateUserOrGroupProfileCompletely(t).then(function(t){return gs.log("ConversationController.getConversationProfile ok. conversationID:",e),t}).catch(function(e){return gs.error("ConversationController.getConversationProfile error:",e),Xc(e)}))}},{key:"deleteConversation",value:function(e){var t=this,n={};if(!this.conversationMap.has(e)){var r=new rc({code:ec.CONVERSATION_NOT_FOUND,message:tc.CONVERSATION_NOT_FOUND});return Xc(r)}switch(this.conversationMap.get(e).type){case Xt.CONV_C2C:n.type=1,n.toAccount=e.slice(3);break;case Xt.CONV_GROUP:n.type=2,n.toGroupID=e.slice(5);break;case Xt.CONV_SYSTEM:return this.tim.groupController.deleteGroupSystemNotice({messageList:this.tim.messageController.getLocalMessageList(e)}),this.deleteLocalConversation(e),zc({conversationID:e});default:var i=new rc({code:ec.CONVERSATION_UN_RECORDED_TYPE,message:tc.CONVERSATION_UN_RECORDED_TYPE});return Xc(i)}gs.log("ConversationController.deleteConversation. conversationID:",e);var o=this.createPackage({name:"conversation",action:"delete",param:n});return this.tim.setMessageRead({conversationID:e}).then(function(){return t.connectionController.request(o)}).then(function(){return gs.log("ConversationController.deleteConversation ok. conversationID:",e),t.deleteLocalConversation(e),zc({conversationID:e})}).catch(function(e){return gs.error("ConversationController.deleteConversation error:",e),Xc(e)})}},{key:"getLocalConversationList",value:function(){return Cn(this.conversationMap.values())}},{key:"getLocalConversation",value:function(e){return this.conversationMap.get(e)}},{key:"_initLocalConversationList",value:function(){var e=new $c;e.setMethod(eh.GET_CONVERSATION_LIST_IN_STORAGE).setStart(),gs.time(Zc.INIT_CONVERSATION_LIST),gs.log("ConversationController._initLocalConversationList init");var t=this._getStorageConversationList();if(t){for(var n=t.length,r=0;r<n;r++)this.conversationMap.set(t[r].conversationID,new ip(t[r]));this._emitConversationUpdate(1,0),e.setCode(0).setNetworkType(this.getNetworkType()).setText(n).setEnd()}else e.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd();this._syncConversationList()}},{key:"_getStorageConversationList",value:function(){return this.tim.storage.getItem("conversationMap")}},{key:"_setStorageConversationList",value:function(){var e=this.getLocalConversationList().slice(0,20).map(function(e){return{conversationID:e.conversationID,type:e.type,subType:e.subType,lastMessage:e.lastMessage,groupProfile:e.groupProfile,userProfile:e.userProfile}});this.tim.storage.setItem("conversationMap",e)}},{key:"_initListeners",value:function(){var e=this;this.tim.innerEmitter.once(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initLocalConversationList,this),this.tim.innerEmitter.on(hc.MESSAGE_SENDING,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(hc.MESSAGE_SYNC_PROCESSING,this._handleSyncMessages,this),this.tim.innerEmitter.on(hc.MESSAGE_SYNC_FINISHED,this._handleSyncMessages,this),this.tim.innerEmitter.on(hc.MESSAGE_C2C_INSTANT_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(hc.MESSAGE_GROUP_INSTANT_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(hc.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,this._onSendOrReceiveMessage,this),this.tim.innerEmitter.on(hc.GROUP_LIST_UPDATED,this._updateConversationGroupProfile,this),this.tim.innerEmitter.on(hc.PROFILE_UPDATED,this._updateConversationUserProfile,this),this.ready(function(){e.tempGroupList.length>0&&(e._updateConversationGroupProfile(e.tempGroupList),e.tempGroupList.length=0)})}},{key:"_updateConversationGroupProfile",value:function(e){var t=this;Ts(e)&&0===e.length||(this.hasLocalConversationMap()?(e.forEach(function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);r.groupProfile=e,r.lastMessage.lastSequence=e.nextMessageSeq-1,r.subType||(r.subType=e.type)}}),this._emitConversationUpdate(1,0)):this.tempGroupList=e)}},{key:"_updateConversationUserProfile",value:function(e){var t=this;e.data.forEach(function(e){var n="C2C".concat(e.userID);t.conversationMap.has(n)&&(t.conversationMap.get(n).userProfile=e)}),this._emitConversationUpdate(1,0)}},{key:"_handleSyncMessages",value:function(e){this._onSendOrReceiveMessage(e,1)}},{key:"_onSendOrReceiveMessage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.data.eventDataList;this._isReady?0!==r.length&&(this._updateLocalConversationList(r,0,n),this._setStorageConversationList(),this._emitConversationUpdate()):this.ready(function(){t._onSendOrReceiveMessage(e,n)})}},{key:"_updateLocalConversationList",value:function(e,t,n){var r;r=this._updateTempConversations(e,t,n),this.conversationMap=new Map(this._sortConversations([].concat(Cn(r.conversations),Cn(this.conversationMap)))),t||this._updateUserOrGroupProfile(r.newerConversations)}},{key:"_updateTempConversations",value:function(e,t,n){for(var r=[],i=[],o=0,a=e.length;o<a;o++){var s=new ip(e[o]),u=this.conversationMap.get(s.conversationID);if(this.conversationMap.has(s.conversationID)){var l=["unreadCount","allowType","adminForbidType","payload"];n&&l.push("lastMessage"),Ps(u,s,l,[null,void 0,"",0,NaN]),u.updateUnreadCount(s.unreadCount,t),n||(u.lastMessage.payload=e[o].lastMessage.payload),this.conversationMap.delete(u.conversationID),r.push([u.conversationID,u])}else{if(s.type===Xt.CONV_GROUP){var c=s.groupProfile.groupID,h=this.tim.groupController.getLocalGroupProfile(c);h&&(s.groupProfile=h,s.updateUnreadCount(0))}i.push(s),r.push([s.conversationID,s])}}return{conversations:r,newerConversations:i}}},{key:"_sortConversations",value:function(e){return e.sort(function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime})}},{key:"_updateUserOrGroupProfile",value:function(e){var t=this;if(0!==e.length){var n=[],r=[];e.forEach(function(e){if(e.type===Xt.CONV_C2C)n.push(e.toAccount);else if(e.type===Xt.CONV_GROUP){var i=e.toAccount;t.tim.groupController.hasLocalGroup(i)?e.groupProfile=t.tim.groupController.getLocalGroupProfile(i):r.push(i)}}),n.length>0&&this.tim.getUserProfile({userIDList:n}).then(function(e){var n=e.data;Ts(n)?n.forEach(function(e){t.conversationMap.get("C2C".concat(e.userID)).userProfile=e}):t.conversationMap.get("C2C".concat(n.userID)).userProfile=n}),r.length>0&&this.tim.groupController.getGroupProfileAdvance({groupIDList:r,responseFilter:{groupBaseInfoFilter:["Type","Name","FaceUrl"]}}).then(function(e){e.data.successGroupList.forEach(function(e){var n="GROUP".concat(e.groupID);if(t.conversationMap.has(n)){var r=t.conversationMap.get(n);Ps(r.groupProfile,e,[],[null,void 0,"",0,NaN]),!r.subType&&e.type&&(r.subType=e.type)}})})}}},{key:"_updateUserOrGroupProfileCompletely",value:function(e){var t=this;return e.type===Xt.CONV_C2C?this.tim.getUserProfile({userIDList:[e.toAccount]}).then(function(n){var r=n.data;return 0===r.length?Xc(new rc({code:ec.USER_OR_GROUP_NOT_FOUND,message:tc.USER_OR_GROUP_NOT_FOUND})):(e.userProfile=r[0],e._isInfoCompleted=1,t._unshiftConversation(e),zc({conversation:e}))}):this.tim.getGroupProfile({groupID:e.toAccount}).then(function(n){return e.groupProfile=n.data.group,e._isInfoCompleted=1,t._unshiftConversation(e),zc({conversation:e})})}},{key:"_unshiftConversation",value:function(e){e instanceof ip&&!this.conversationMap.has(e.conversationID)&&(this.conversationMap=new Map([[e.conversationID,e]].concat(Cn(this.conversationMap))),this._setStorageConversationList(),this._emitConversationUpdate(1,0))}},{key:"deleteLocalConversation",value:function(e){return this.conversationMap.delete(e),this._setStorageConversationList(),this.tim.innerEmitter.emit(hc.CONVERSATION_DELETED,e),this._emitConversationUpdate(1,0),this.conversationMap.has(e)}},{key:"_getConversationOptions",value:function(e){var t=[],n=e.filter(function(e){var t=e.lastMsg;return _s(t)}).map(function(e){if(1===e.type){var n={userID:e.userID,nick:e.c2CNick,avatar:e.c2CImage};return t.push(n),{conversationID:"C2C".concat(e.userID),type:"C2C",lastMessage:{lastTime:e.time,lastSequence:e.sequence,fromAccount:e.lastC2CMsgFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},userProfile:new _d(n)}}return{conversationID:"GROUP".concat(e.groupID),type:"GROUP",lastMessage:{lastTime:e.time,lastSequence:e.messageReadSeq+e.unreadCount,fromAccount:e.msgGroupFromAccount,messageForShow:e.messageShow,type:e.lastMsg.elements[0]?e.lastMsg.elements[0].type:null,payload:e.lastMsg.elements[0]?e.lastMsg.elements[0].content:null},groupProfile:new tp({groupID:e.groupID,name:e.groupNick,avatar:e.groupImage}),unreadCount:e.unreadCount}});return t.length>0&&this.tim.innerEmitter.emit(hc.CONVERSATION_LIST_PROFILE_UPDATED,{data:t}),n}},{key:"_emitConversationUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Cn(this.conversationMap.values());t&&this.tim.innerEmitter.emit(hc.CONVERSATION_LIST_UPDATED,n),e&&this.tim.outerEmitter.emit(zt.CONVERSATION_LIST_UPDATED,n)}},{key:"_conversationMapTreeShaking",value:function(e){var t=this,n=new Map(Cn(this.conversationMap));e.forEach(function(e){return n.delete(e.conversationID)}),n.has(Xt.CONV_SYSTEM)&&n.delete(Xt.CONV_SYSTEM);var r=this.tim.groupController.getJoinedAVChatRoom();r&&n.delete("".concat(Xt.CONV_GROUP).concat(r.groupID)),Cn(n.keys()).forEach(function(e){return t.conversationMap.delete(e)})}},{key:"reset",value:function(){this.pagingStatus=Sc.PAGING_CONVERSATION.NOT_START,this.pagingTimeStamp=0,this.conversationMap.clear(),this.resetReady(),this.tim.innerEmitter.once(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initLocalConversationList,this)}}]),t}(),ap=je.find,sp=1;"find"in[]&&Array(1).find(function(){sp=0}),ke({target:"Array",proto:1,forced:sp},{find:function(e){return ap(this,e,arguments.length>1?arguments[1]:void 0)}}),Sr("find");var up=1..toFixed,lp=Math.floor,cp=function(e,t,n){return 0===t?n:t%2==1?cp(e,t-1,n*e):cp(e*e,t/2,n)},hp=up&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l(function(){up.call({})});ke({target:"Number",proto:1,forced:hp},{toFixed:function(e){var t,n,r,i,o=function(e){if("number"!=typeof e&&"Number"!=m(e))throw TypeError("Incorrect invocation");return+e}(this),a=oe(e),s=[0,0,0,0,0,0],u="",l="0",c=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=lp(r/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=lp(n/e),n=n%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+Gr.call("0",7-n.length)+n}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(u="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*cp(2,69,1))-69)<0?o*cp(2,-t,1):o/cp(2,t,1),n*=4503599627370496,(t=52-t)>0){for(c(0,n),r=a;r>=7;)c(1e7,0),r-=7;for(c(cp(10,r,1),0),r=t-1;r>=23;)h(1<<23),r-=23;h(1<<r),c(1,1),h(2),l=f()}else c(0,n),c(1<<-t,0),l=f()+Gr.call("0",a);return a>0?u+((i=l.length)<=a?"0."+Gr.call("0",a-i)+l:l.slice(0,i-a)+"."+l.slice(i-a)):u+l}});var fp=function(){function e(t){if(sn(this,e),void 0===t)throw new rc({code:ec.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,message:tc.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS});if(void 0===t.tim)throw new rc({code:ec.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,message:"".concat(tc.MESSAGE_LIST_CONSTRUCTOR_NEED_OPTIONS,".tim")});this.list=new Map,this.tim=t.tim,this._initializeOptions(t)}return ln(e,[{key:"getLocalOldestMessageByConversationID",value:function(e){if(!e)return null;if(!this.list.has(e))return null;var t=this.list.get(e).values();return t?t.next().value:null}},{key:"_initializeOptions",value:function(e){this.options={};var t={memory:{maxDatasPerKey:100,maxBytesPerData:256,maxKeys:0},cache:{maxDatasPerKey:10,maxBytesPerData:256,maxKeys:0}};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(void 0===e[n]){this.options[n]=t[n];continue}var r=t[n];for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(void 0===e[n][i]){this.options[n][i]=r[i];continue}this.options[n][i]=e[n][i]}}}},{key:"_parseMessageFormLikeKeyValue",value:function(e){return[e.conversationID,e]}},{key:"pushIn",value:function(e){var t=this._parseMessageFormLikeKeyValue(e),n=1;return void 0===this.list.get(t[0])&&this.list.set(t[0],new Map),this.list.has(e.conversationID)&&this.list.get(e.conversationID).has(t[1].ID)&&(n=0),this.list.get(t[0]).set(t[1].ID,t[1]),n}},{key:"shiftIn",value:function(e){Array.isArray(e)?0!==e.length&&this._shiftInMultipleMessages(e):this._shiftSingleMessage(e)}},{key:"_shiftSingleMessage",value:function(e){var t=this._parseMessageFormLikeKeyValue(e);if(void 0===this.list.get(t[0]))return this.list.set(t[0],new Map),void this.list.get(t[0]).set(t[1].ID,t[1]);var n=Array.from(this.list.get(t[0]));n.unshift([t[1].ID,t[1]]),this.list.set(t[0],new Map(n))}},{key:"_shiftInMultipleMessages",value:function(e){for(var t=e.length,n=[],r=e[0].conversationID,i=this.list.has(r)?Array.from(this.list.get(r)):[],o=0;o<t;o++)n.push([e[o].ID,e[o]]);this.list.set(r,new Map(n.concat(i)))}},{key:"remove",value:function(e){var t=e.conversationID,n=e.ID;this.list.has(t)&&this.list.get(t).delete(n)}},{key:"removeByConversationID",value:function(e){this.list.has(e)&&this.list.delete(e)}},{key:"hasLocalMessageList",value:function(e){return this.list.has(e)}},{key:"getLocalMessageList",value:function(e){return this.hasLocalMessageList(e)?Cn(this.list.get(e).values()):[]}},{key:"hasLocalMessage",value:function(e,t){return this.hasLocalMessageList(e)?this.list.get(e).has(t):0}},{key:"getLocalMessage",value:function(e,t){return this.hasLocalMessage(e,t)?this.list.get(e).get(t):null}},{key:"reset",value:function(){this.list.clear()}}]),e}(),dp=function(){function e(t){sn(this,e),this.tim=t}return ln(e,[{key:"setMessageRead",value:function(e){var t=e.conversationID,n=e.messageID,r=this.tim.conversationController.getLocalConversation(t);if(!r||0===r.unreadCount)return zc();var i=n?this.tim.messageController.getLocalMessage(t,n):null;switch(r.type){case Xt.CONV_C2C:return this._setC2CMessageRead({conversationID:t,lastMessageTime:i?i.time:r.lastMessage.lastTime});case Xt.CONV_GROUP:return this._setGroupMessageRead({conversationID:t,lastMessageSeq:i?i.sequence:r.lastMessage.lastSequence});case Xt.CONV_SYSTEM:return r.unreadCount=0,zc();default:return zc()}}},{key:"_setC2CMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageTime,i=this.tim.messageController.createPackage({name:"conversation",action:"setC2CMessageRead",param:{C2CMsgReaded:{cookie:"",C2CMsgReadedItem:[{toAccount:n.replace("C2C",""),lastMessageTime:r}]}}});return this._updateIsReadAfterReadReport({conversationID:n,lastMessageTime:r}),this._updateUnreadCount(n),this.tim.connectionController.request(i).then(function(){return new Jc}).catch(function(e){return t.tim.innerEmitter.emit(hc.ERROR_DETECTED,e),Promise.reject(new Jc(e))})}},{key:"_setGroupMessageRead",value:function(e){var t=this,n=e.conversationID,r=e.lastMessageSeq,i=this.tim.messageController.createPackage({name:"conversation",action:"setGroupMessageRead",param:{groupID:n.replace("GROUP",""),messageReadSeq:r}});return this._updateIsReadAfterReadReport({conversationID:n,lastMessageSeq:r}),this._updateUnreadCount(n),this.tim.connectionController.request(i).then(function(){return new Jc}).catch(function(e){return t.tim.innerEmitter.emit(hc.ERROR_DETECTED,e),Promise.reject(new Jc(e))})}},{key:"_updateUnreadCount",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,i=n.getLocalConversation(e),o=r.getLocalMessageList(e);i&&(i.unreadCount=o.filter(function(e){return!e.isRead}).length)}},{key:"_updateIsReadAfterReadReport",value:function(e){var t=e.conversationID,n=e.lastMessageSeq,r=e.lastMessageTime,i=this.tim.messageController.getLocalMessageList(t);if(0!==i.length)for(var o=i.length-1;o>=0;o--){var a=i[o];if(!(r&&a.time>r||n&&a.sequence>n)){if("in"===a.flow&&a.isRead)break;a.isRead=1}}}},{key:"updateIsRead",value:function(e){var t=this.tim,n=t.conversationController,r=t.messageController,i=n.getLocalConversation(e),o=r.getLocalMessageList(e);if(i&&0!==o.length&&[Xt.CONV_C2C,Xt.CONV_GROUP].includes(i.type))for(var a=0;a<o.length-i.unreadCount&&!o[a].isRead;a++)o[a].isRead=1}}]),e}(),pp=je.findIndex,gp=1;"findIndex"in[]&&Array(1).findIndex(function(){gp=0}),ke({target:"Array",proto:1,forced:gp},{findIndex:function(e){return pp(this,e,arguments.length>1?arguments[1]:void 0)}}),Sr("findIndex");var mp=function(){function e(t){var n=t.tim,r=t.messageController;sn(this,e),this.tim=n,this.messageController=r,this.completedMap=new Map,this._initListener()}return ln(e,[{key:"getMessageList",value:function(e){var t=this,n=e.conversationID,r=e.nextReqMessageID,i=e.count;if(this.tim.groupController.checkJoinedAVChatRoomByID(n.replace("GROUP","")))return zc({messageList:[],nextReqMessageID:"",isCompleted:1});(Ss(i)||i>15)&&(i=15);var o=this._computeLeftCount({conversationID:n,nextReqMessageID:r});return this._needGetHistory({conversationID:n,leftCount:o,count:i})?this.messageController.getHistoryMessages({conversationID:n,count:20}).then(function(){return o=t._computeLeftCount({conversationID:n,nextReqMessageID:r}),new Jc(t._computeResult({conversationID:n,nextReqMessageID:r,count:i,leftCount:o}))}):zc(this._computeResult({conversationID:n,nextReqMessageID:r,count:i,leftCount:o}))}},{key:"setCompleted",value:function(e){this.completedMap.set(e,1)}},{key:"deleteCompletedItem",value:function(e){this.completedMap.delete(e)}},{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(hc.SDK_READY,function(){e.completedMap.set(Xt.CONV_SYSTEM,1)}),this.tim.innerEmitter.on(hc.AVCHATROOM_JOIN_SUCCESS,function(t){var n=t.data;e.completedMap.set("".concat(Xt.CONV_GROUP).concat(n),1)})}},{key:"_getMessageListSize",value:function(e){return this.messageController.getLocalMessageList(e).length}},{key:"_needGetHistory",value:function(e){var t=e.conversationID,n=e.leftCount,r=e.count,i=this.tim.conversationController.getLocalConversation(t),o=i?i.type===Xt.CONV_SYSTEM:0,a=i?i.subType===Xt.GRP_AVCHATROOM:0;return o||a?0:n<r&&!this.completedMap.has(t)}},{key:"_computeResult",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,i=e.leftCount,o=this._computeMessageList({conversationID:t,nextReqMessageID:n,count:r}),a=this._computeIsCompleted({conversationID:t,leftCount:i,count:r});return{messageList:o,nextReqMessageID:this._computeNextReqMessageID({messageList:o,isCompleted:a,conversationID:t}),isCompleted:a}}},{key:"_computeNextReqMessageID",value:function(e){var t=e.messageList,n=e.isCompleted,r=e.conversationID;if(!n)return 0===t.length?"":t[0].ID;var i=this.messageController.getLocalMessageList(r);return 0===i.length?"":i[0].ID}},{key:"_computeMessageList",value:function(e){var t=e.conversationID,n=e.nextReqMessageID,r=e.count,i=this.messageController.getLocalMessageList(t),o=this._computeIndexEnd({nextReqMessageID:n,messageList:i}),a=this._computeIndexStart({indexEnd:o,count:r});return i.slice(a,o)}},{key:"_computeIndexEnd",value:function(e){var t=e.messageList,n=void 0===t?[]:t,r=e.nextReqMessageID;return r?n.findIndex(function(e){return e.ID===r}):n.length}},{key:"_computeIndexStart",value:function(e){var t=e.indexEnd,n=e.count;return t>n?t-n:0}},{key:"_computeLeftCount",value:function(e){var t=e.conversationID,n=e.nextReqMessageID;return n?this.messageController.getLocalMessageList(t).findIndex(function(e){return e.ID===n}):this._getMessageListSize(t)}},{key:"_computeIsCompleted",value:function(e){var t=e.conversationID;return e.leftCount<=e.count&&this.completedMap.has(t)?1:0}},{key:"reset",value:function(){this.completedMap.clear()}}]),e}(),vp=function e(t){sn(this,e),this.value=t,this.next=null},Ap=function(){function e(t){sn(this,e),this.MAX_LENGTH=t,this.pTail=null,this.pNodeToDel=null,this.map=new Map,gs.log("SinglyLinkedList init MAX_LENGTH=".concat(this.MAX_LENGTH))}return ln(e,[{key:"pushIn",value:function(e){var t=new vp(e);if(this.map.size<this.MAX_LENGTH)null===this.pTail?(this.pTail=t,this.pNodeToDel=t):(this.pTail.next=t,this.pTail=t),this.map.set(e,1);else{var n=this.pNodeToDel;this.pNodeToDel=this.pNodeToDel.next,this.map.delete(n.value),n.next=null,n=null,this.pTail.next=t,this.pTail=t,this.map.set(e,1)}}},{key:"has",value:function(e){return this.map.has(e)}},{key:"reset",value:function(){for(var e;null!==this.pNodeToDel;)e=this.pNodeToDel,this.pNodeToDel=this.pNodeToDel.next,e.next=null,e=null;this.pTail=null,this.map.clear()}}]),e}(),yp=function(){function e(t){sn(this,e),this.tim=t}return ln(e,[{key:"upload",value:function(e){switch(e.type){case Xt.MSG_IMAGE:return this._uploadImage(e);case Xt.MSG_FILE:return this._uploadFile(e);case Xt.MSG_AUDIO:return this._uploadAudio(e);case Xt.MSG_VIDEO:return this._uploadVideo(e);default:return Promise.resolve()}}},{key:"_uploadImage",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,i=e.getElements()[0],o=r.getMessageOptionByID(e.messageID);return n.uploadImage({file:o.payload.file,to:o.to,onProgress:function(e){if(i.updatePercent(e),Is(o.onProgress))try{o.onProgress(e)}catch(t){return Xc(new rc({code:ec.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tc.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then(function(e){var t,n=e.location,r=e.fileType,o=e.fileSize,a=js(n);return i.updateImageFormat(r),i.updateImageInfoArray({size:o,url:a}),t=i._imageMemoryURL,Ua?new Promise(function(e,n){wx.getImageInfo({src:t,success:function(t){e({width:t.width,height:t.height})},fail:function(){e({width:0,height:0})}})}):Ha&&9===Ka?Promise.resolve({width:0,height:0}):new Promise(function(e,n){var r=new Image;r.onload=function(){e({width:this.width,height:this.height}),r=null},r.onerror=function(){e({width:0,height:0}),r=null},r.src=t})}).then(function(t){var n=t.width,r=t.height;return i.updateImageInfoArray({width:n,height:r}),e})}},{key:"_uploadFile",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,i=e.getElements()[0],o=r.getMessageOptionByID(e.messageID);return n.uploadFile({file:o.payload.file,to:o.to,onProgress:function(e){if(i.updatePercent(e),Is(o.onProgress))try{o.onProgress(e)}catch(t){return Xc(new rc({code:ec.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tc.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then(function(t){var n=t.location,r=js(n);return i.updateFileUrl(r),e})}},{key:"_uploadAudio",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,i=e.getElements()[0],o=r.getMessageOptionByID(e.messageID);return n.uploadAudio({file:o.payload.file,to:o.to,onProgress:function(e){if(i.updatePercent(e),Is(o.onProgress))try{o.onProgress(e)}catch(t){return Xc(new rc({code:ec.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tc.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then(function(t){var n=t.location,r=js(n);return i.updateAudioUrl(r),e})}},{key:"_uploadVideo",value:function(e){var t=this.tim,n=t.uploadController,r=t.messageController,i=e.getElements()[0],o=r.getMessageOptionByID(e.messageID);return n.uploadVideo({file:o.payload.file,to:o.to,onProgress:function(e){if(i.updatePercent(e),Is(o.onProgress))try{o.onProgress(e)}catch(t){return Xc(new rc({code:ec.MESSAGE_ONPROGRESS_FUNCTION_ERROR,message:"".concat(tc.MESSAGE_ONPROGRESS_FUNCTION_ERROR)}))}}}).then(function(e){if(Ua){var t=js(e.location);i.updateVideoUrl(t)}}).catch(function(){return Xc(new rc({code:ec.MESSAGE_VIDEO_UPLOAD_FAIL,message:"".concat(tc.MESSAGE_VIDEO_UPLOAD_FAIL)}))})}}]),e}(),Ep=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initializeMembers(),n._initializeListener(),n._initialzeHandlers(),n.messageOptionMap=new Map,n}return dn(t,wc),ln(t,[{key:"_initializeMembers",value:function(){this.messagesList=new fp({tim:this.tim}),this.currentMessageKey={},this.singlyLinkedList=new Ap(100)}},{key:"_initialzeHandlers",value:function(){this.readReportHandler=new dp(this.tim),this.getMessageHandler=new mp({messageController:this,tim:this.tim}),this.uploadFileHandler=new yp(this.tim)}},{key:"reset",value:function(){this.messagesList.reset(),this.currentMessageKey={},this.getMessageHandler.reset(),this.singlyLinkedList.reset(),this.messageOptionMap.clear()}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(hc.NOTICE_LONGPOLL_NEW_C2C_NOTICE,this._onReceiveC2CMessage,this),e.on(hc.SYNC_MESSAGE_C2C_PROCESSING,this._onSyncMessagesProcessing,this),e.on(hc.SYNC_MESSAGE_C2C_FINISHED,this._onSyncMessagesFinished,this),e.on(hc.NOTICE_LONGPOLL_NEW_GROUP_MESSAGES,this._onReceiveGroupMessage,this),e.on(hc.NOTICE_LONGPOLL_NEW_GROUP_TIPS,this._onReceiveGroupTips,this),e.on(hc.NOTICE_LONGPOLL_NEW_GROUP_NOTICE,this._onReceiveSystemNotice,this),e.on(hc.CONVERSATION_DELETED,this._clearConversationMessages,this)}},{key:"sendMessageInstance",value:function(e){var t,n=this,r=this.tim,i=r.innerEmitter,o=r.sumStatController,a=null;switch(i.emit(hc.MESSAGE_SENDING,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}}),e.conversationType){case Xt.CONV_C2C:a=this._handleOnSendC2CMessageSuccess.bind(this);break;case Xt.CONV_GROUP:a=this._handleOnSendGroupMessageSuccess.bind(this);break;default:return Xc(new rc({code:ec.MESSAGE_SEND_INVALID_CONVERSATION_TYPE,message:tc.MESSAGE_SEND_INVALID_CONVERSATION_TYPE}))}return this.singlyLinkedList.pushIn(e.random),this.uploadFileHandler.upload(e).then(function(){var r=null;return e.isSendable()?(o.addTotalCount(Zc.SEND_MESSAGE),t=Date.now(),e.conversationType===Xt.CONV_C2C?r=n._createC2CMessagePack(e):e.conversationType===Xt.CONV_GROUP&&(r=n._createGroupMessagePack(e)),n.tim.connectionController.request(r)):Xc({code:ec.MESSAGE_FILE_URL_IS_EMPTY,message:tc.MESSAGE_FILE_URL_IS_EMPTY})}).then(function(r){return o.addSuccessCount(Zc.SEND_MESSAGE),o.addCost(Zc.SEND_MESSAGE,Math.abs(Date.now()-t)),e.conversationType===Xt.CONV_GROUP&&(e.sequence=r.data.sequence,e.time=r.data.time,e.generateMessageID(n.tim.context.identifier)),n.messagesList.pushIn(e),a(e,r.data),n.messageOptionMap.delete(e.messageID),new Jc({message:e})}).catch(function(t){e.status=Sc.MESSAGE_STATUS.FAIL;var r=new $c;return r.setMethod(eh.SEND_MESSAGE).setMessageType(e.type).setText("".concat(n._generateTjgID(e),"-").concat(e.type,"-").concat(e.from,"-").concat(e.to)).setStart(),n.probeNetwork().then(function(e,n){r.setError(t,e,n).setEnd()}),gs.error("MessageController.sendMessageInstance error:",t),Xc(new rc({code:t&&t.code?t.code:ec.MESSAGE_SEND_FAIL,message:t&&t.message?t.message:tc.MESSAGE_SEND_FAIL,data:{message:e}}))})}},{key:"resendMessage",value:function(e){return e.isResend=1,e.status=Sc.MESSAGE_STATUS.UNSEND,this.sendMessageInstance(e)}},{key:"_isFileLikeMessage",value:function(e){return[Xt.MSG_IMAGE,Xt.MSG_FILE,Xt.MSG_AUDIO,Xt.MSG_VIDEO].indexOf(e.type)>=0?1:0}},{key:"_resendBinaryTypeMessage",value:function(){}},{key:"_createC2CMessagePack",value:function(e){return this.createPackage({name:"c2cMessage",action:"create",tjgID:this._generateTjgID(e),param:{toAccount:e.to,msgBody:e.getElements(),msgSeq:e.sequence,msgRandom:e.random}})}},{key:"_handleOnSendC2CMessageSuccess",value:function(e,t){var n=this.tim.innerEmitter;e.status=Sc.MESSAGE_STATUS.SUCCESS,e.time=t.time,n.emit(hc.MESSAGE_C2C_SEND_SUCCESS,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}})}},{key:"_createGroupMessagePack",value:function(e){return this.createPackage({name:"groupMessage",action:"create",tjgID:this._generateTjgID(e),param:{groupID:e.to,msgBody:e.getElements(),random:e.random,clientSequence:e.clientSequence}})}},{key:"_handleOnSendGroupMessageSuccess",value:function(e,t){var n=this.tim.innerEmitter;e.sequence=t.sequence,e.time=t.time,e.status=Sc.MESSAGE_STATUS.SUCCESS,n.emit(hc.MESSAGE_GROUP_SEND_SUCCESS,{data:{eventDataList:[{conversationID:e.conversationID,unreadCount:0,type:e.conversationType,subType:e.conversationSubType,lastMessage:e}]}})}},{key:"_onReceiveC2CMessage",value:function(e){var t=this.tim,n=t.innerEmitter,r=t.outerEmitter;gs.log("MessageController._onReceiveC2CMessage(), get new messages");var i=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Xt.CONV_C2C,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),o=i.eventDataList,a=i.result;o.length>0&&n.emit(hc.MESSAGE_C2C_INSTANT_RECEIVED,{data:{eventDataList:o,result:a},resource:this}),a.length>0&&r.emit(zt.MESSAGE_RECEIVED,a)}},{key:"_onReceiveGroupMessage",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,i=this.newGroupMessageStoredAndSummary(e.data),o=i.eventDataList,a=i.result;o.length>0&&(gs.log("MessageController._onReceiveGroupMessage()"),r.emit(hc.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:o,result:a,isGroupTip:0}})),a.length>0&&n.emit(zt.MESSAGE_RECEIVED,a)}},{key:"_onReceiveGroupTips",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,i=e.data,o=this.newGroupTipsStoredAndSummary(i),a=o.eventDataList,s=o.result;gs.log("MessageController._onReceiveGroupTips()"),a.length>0&&r.emit(hc.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:a,result:s,isGroupTip:1}}),s.length>0&&n.emit(zt.MESSAGE_RECEIVED,s)}},{key:"_onReceiveSystemNotice",value:function(e){var t=this.tim,n=t.outerEmitter,r=t.innerEmitter,i=e.data,o=i.groupSystemNotices,a=i.type,s=this.newSystemNoticeStoredAndSummary({notifiesList:o,type:a}),u=s.eventDataList,l=s.result;u.length>0&&r.emit(hc.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,{data:{eventDataList:u,result:l,type:a}}),l.length>0&&"poll"===a&&n.emit(zt.MESSAGE_RECEIVED,l)}},{key:"_clearConversationMessages",value:function(e){this.messagesList.removeByConversationID(e),this.getMessageHandler.deleteCompletedItem(e)}},{key:"_pushIntoNoticeResult",value:function(e,t){var n=this.messagesList.pushIn(t),r=this.singlyLinkedList.has(t.random);return n&&0==r?(e.push(t),1):0}},{key:"_newC2CMessageStoredAndSummary",value:function(e){for(var t=e.notifiesList,n=e.type,r=e.C2CRemainingUnreadList,i=e.isFromSync,o=null,a=[],s=[],u={},l=this.tim.bigDataHallwayController,c=0,h=t.length;c<h;c++){var f=t[c];(f.currentUser=this.tim.context.identifier,f.conversationType=n,f.isSystemMessage=!!f.isSystemMessage,o=new $d(f),f.elements=l.parseElements(f.elements,f.from),o.setElement(f.elements),i||this._pushIntoNoticeResult(s,o))&&(void 0===u[o.conversationID]?u[o.conversationID]=a.push({conversationID:o.conversationID,unreadCount:"out"===o.flow?0:1,type:o.conversationType,subType:o.conversationSubType,lastMessage:o})-1:(a[u[o.conversationID]].type=o.conversationType,a[u[o.conversationID]].subType=o.conversationSubType,a[u[o.conversationID]].lastMessage=o,"in"===o.flow&&a[u[o.conversationID]].unreadCount++))}if(Ts(r))for(var d=function(e,t){var n=a.find(function(t){return t.conversationID==="C2C".concat(r[e].from)});n?n.unreadCount+=r[e].count:a.push({conversationID:"C2C".concat(r[e].from),unreadCount:r[e].count,type:Xt.CONV_C2C})},p=0,g=r.length;p<g;p++)d(p);return{eventDataList:a,result:s}}},{key:"newGroupMessageStoredAndSummary",value:function(e){for(var t=null,n=[],r={},i=[],o=Xt.CONV_GROUP,a=this.tim.bigDataHallwayController,s=0,u=e.length;s<u;s++){var l=e[s];l.currentUser=this.tim.context.identifier,l.conversationType=o,l.isSystemMessage=!!l.isSystemMessage,t=new $d(l),l.elements=a.parseElements(l.elements,l.from),t.setElement(l.elements),this._pushIntoNoticeResult(i,t)&&(void 0===r[t.conversationID]?r[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[r[t.conversationID]].type=t.conversationType,n[r[t.conversationID]].subType=t.conversationSubType,n[r[t.conversationID]].lastMessage=t,"in"===t.flow&&n[r[t.conversationID]].unreadCount++))}return{eventDataList:n,result:i}}},{key:"newGroupTipsStoredAndSummary",value:function(e){for(var t=null,n=[],r=[],i={},o=0,a=e.length;o<a;o++){var s=e[o];s.currentUser=this.tim.context.identifier,s.conversationType=Xt.CONV_GROUP,(t=new $d(s)).setElement({type:Xt.MSG_GRP_TIP,content:fn({},s.elements,{groupProfile:s.groupProfile})}),t.isSystemMessage=0,this._pushIntoNoticeResult(r,t)&&(void 0===i[t.conversationID]?i[t.conversationID]=n.push({conversationID:t.conversationID,unreadCount:"out"===t.flow?0:1,type:t.conversationType,subType:t.conversationSubType,lastMessage:t})-1:(n[i[t.conversationID]].type=t.conversationType,n[i[t.conversationID]].subType=t.conversationSubType,n[i[t.conversationID]].lastMessage=t,"in"===t.flow&&n[i[t.conversationID]].unreadCount++))}return{eventDataList:n,result:r}}},{key:"newSystemNoticeStoredAndSummary",value:function(e){var t=e.notifiesList,n=e.type,r=null,i=t.length,o=0,a=[],s={conversationID:Xt.CONV_SYSTEM,unreadCount:0,type:Xt.CONV_SYSTEM,subType:null,lastMessage:null};for(o=0;o<i;o++){var u=t[o];u.elements.operationType!==Uc&&(u.currentUser=this.tim.context.identifier,u.conversationType=Xt.CONV_SYSTEM,u.conversationID=Xt.CONV_SYSTEM,(r=new $d(u)).setElement({type:Xt.MSG_GRP_SYS_NOTICE,content:fn({},u.elements,{groupProfile:u.groupProfile})}),r.isRead=1,r.isSystemMessage=1,this._pushIntoNoticeResult(a,r)&&("poll"===n&&s.unreadCount++,s.subType=r.conversationSubType))}return s.lastMessage=a[a.length-1],{eventDataList:a.length>0?[s]:[],result:a}}},{key:"_onSyncMessagesProcessing",value:function(e){var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Xt.CONV_C2C,isFromSync:1,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.tim.innerEmitter.emit(hc.MESSAGE_SYNC_PROCESSING,{data:{eventDataList:n,result:r},resource:this})}},{key:"_onSyncMessagesFinished",value:function(e){this.triggerReady();var t=this._newC2CMessageStoredAndSummary({notifiesList:e.data,type:Xt.CONV_C2C,isFromSync:1,C2CRemainingUnreadList:e.C2CRemainingUnreadList}),n=t.eventDataList,r=t.result;this.tim.innerEmitter.emit(hc.MESSAGE_SYNC_FINISHED,{data:{eventDataList:n,result:r},resource:this})}},{key:"getHistoryMessages",value:function(e){if(e.conversationID===Xt.CONV_SYSTEM)return zc();!e.count&&(e.count=15),e.count>20&&(e.count=20);var t=this.messagesList.getLocalOldestMessageByConversationID(e.conversationID);t||((t={}).time=0,t.sequence=0,0===e.conversationID.indexOf(Xt.CONV_C2C)?(t.to=e.conversationID.replace(Xt.CONV_C2C,""),t.conversationType=Xt.CONV_C2C):0===e.conversationID.indexOf(Xt.CONV_GROUP)&&(t.to=e.conversationID.replace(Xt.CONV_GROUP,""),t.conversationType=Xt.CONV_GROUP));var n="";switch(t.conversationType){case Xt.CONV_C2C:return n=e.conversationID.replace(Xt.CONV_C2C,""),this.getC2CRoamMessages({conversationID:e.conversationID,peerAccount:n,count:e.count,lastMessageTime:void 0===this.currentMessageKey[e.conversationID]?0:t.time});case Xt.CONV_GROUP:return this.getGroupRoamMessages({conversationID:e.conversationID,groupID:t.to,count:e.count,sequence:t.sequence-1});default:return zc()}}},{key:"getC2CRoamMessages",value:function(e){var t=this,n=this.tim,r=n.connectionController,i=n.innerEmitter,o=void 0!==this.currentMessageKey[e.conversationID]?this.currentMessageKey[e.conversationID]:"",a=this.createPackage({name:"c2cMessage",action:"query",param:{peerAccount:e.peerAccount,count:e.count||15,lastMessageTime:e.lastMessageTime||0,messageKey:o}});return r.request(a).then(function(n){var r=n.data,i=r.complete,o=r.messageList;1===i&&t.getMessageHandler.setCompleted(e.conversationID);var a=t._roamMessageStore(o,Xt.CONV_C2C,e.conversationID);return t.readReportHandler.updateIsRead(e.conversationID),t.currentMessageKey[e.conversationID]=n.data.messageKey,a}).catch(function(e){return i.emit(hc.ERROR_DETECTED,e),Promise.reject(e)})}},{key:"getC2CRoamMessagesSliced",value:function(e){var t=this.tim.connectionController,n=this;return function(e){return new Promise(function(r,i){!function e(r,i,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=n.createPackage({name:"c2cMessage",action:"query",param:{peerAccount:r.peerAccount,count:r.count||15,lastMessageTime:r.lastMessageTime||0,messageKey:r.messageKey||""}}),u=t.request(s).then(function(t){var s=t.data.messageList,u=n._roamMessageStore(s,Xt.CONV_C2C);a.push.apply(a,Cn(u)),t.data.complete===Sc.GET_HISTORY_MESSAGE_STATUS.C2C_IS_NOT_FINISHED?(r.messageKey=t.data.messageKey,e(r,i,a)):t.data.complete===Sc.GET_HISTORY_MESSAGE_STATUS.C2C_IS_FINISHED?(gs.log("getC2CRoamMessages finised..."),i(new Jc(a))):o(new rc({code:ec.MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD,message:tc.MESSAGE_UNKNOW_ROMA_LIST_END_FLAG_FIELD}))}).reject(function(e){gs.log("getC2CRoamMessages fail..."),o(e)});return u}(e,r,i,[])})}(e)}},{key:"getGroupRoamMessages",value:function(e){var t=this,n=this.tim,r=n.connectionController,i=n.groupController,o=e.sequence>=0?e.sequence:i.getLocalGroupLastSequence(e.groupID);if(o<0)return zc([]);var a=this.createPackage({name:"groupMessage",action:"query",param:{groupID:e.groupID,count:21,sequence:o}});return r.request(a).then(function(n){var r=n.data,i=r.messageList,o=r.complete,a="GROUP".concat(e.groupID);if(2===o||Vs(i))return t.getMessageHandler.setCompleted(a),[];var s=t._roamMessageStore(i,Xt.CONV_GROUP,a);return t.readReportHandler.updateIsRead(a),gs.log("getGroupRoamMessages finished..."),s}).catch(function(e){return t.tim.exceptionController.ask(e),gs.log("getGroupRoamMessages error..."),Promise.reject(e)})}},{key:"_roamMessageStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=null,i=[],o=0,a=e.length,s=null,u=t===Xt.CONV_GROUP,l=this.tim.bigDataHallwayController,c=function(){o=u?e.length-1:0,a=u?0:e.length},h=function(){u?--o:++o},f=function(){return u?o>=a:o<a};for(c();f();h())u&&1===e[o].sequence&&this.getMessageHandler.setCompleted(n),e[o].isPlaceMessage||((r=new $d(e[o])).to=e[o].to,r.isSystemMessage=!!e[o].isSystemMessage,r.conversationType=t,e[o].event===Dc.JSON.TYPE.GROUP.TIP?s={type:Xt.MSG_GRP_TIP,content:fn({},e[o].elements,{groupProfile:e[o].groupProfile})}:(e[o].elements=l.parseElements(e[o].elements,e[o].from),s=e[o].elements),r.setElement(s),r.reInitialize(this.tim.context.identifier),i.push(r));return this.messagesList.shiftIn(i),c=h=f=null,i}},{key:"getLocalMessageList",value:function(e){return this.messagesList.getLocalMessageList(e)}},{key:"getLocalMessage",value:function(e,t){return this.messagesList.getLocalMessage(e,t)}},{key:"hasLocalMessage",value:function(e,t){return this.messagesList.hasLocalMessage(e,t)}},{key:"deleteLocalMessage",value:function(e){e instanceof $d&&this.messagesList.remove(e)}},{key:"setMessageRead",value:function(e){var t=this;return new Promise(function(n,r){t.ready(function(){t.readReportHandler.setMessageRead(e).then(n).catch(r)})})}},{key:"getMessageList",value:function(e){return this.getMessageHandler.getMessageList(e)}},{key:"createTextMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $d(e),n="string"==typeof e.payload?e.payload:e.payload.text,r=new Bd({text:n});return t.setElement(r),t}},{key:"createCustomMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $d(e),n=new zd({data:e.payload.data,description:e.payload.description,extension:e.payload.extension});return t.setElement(n),t}},{key:"createImageMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $d(e);if(Ua){var n=e.payload.file;if(As(n))return void gs.warn("微信小程序环境下调用 createImageMessage 接口时，payload.file 不支持传入 File 对象");var r=n.tempFilePaths[0],i={url:r,name:r.slice(r.lastIndexOf("/")+1),size:n.tempFiles[0].size,type:r.slice(r.lastIndexOf(".")+1).toLowerCase()};e.payload.file=i}else if(xa){if(Ss(e.payload.file))return void gs.warn("createImageMessage, payload.file 是 undefined，请检查代码！");if(As(e.payload.file)){var o=e.payload.file;e.payload.file={files:[o]}}}e.onProgress=qs(e.onProgress);var a=new xd({imageFormat:"UNKNOWN",uuid:this._generateUUID(),file:e.payload.file});return t.setElement(a),this.messageOptionMap.set(t.messageID,e),t}},{key:"createFileMessage",value:function(e){if(!Ua){if(xa){if(Ss(e.payload.file))return void gs.warn("createFileMessage, payload.file 是 undefined，请检查代码！");if(As(e.payload.file)){var t=e.payload.file;e.payload.file={files:[t]}}}e.currentUser=this.tim.context.identifier,e.onProgress=qs(e.onProgress);var n=new $d(e),r=new Wd({uuid:this._generateUUID(),file:e.payload.file});return n.setElement(r),this.messageOptionMap.set(n.messageID,e),n}gs.warn("微信小程序目前不支持选择文件， createFileMessage 接口不可用！")}},{key:"createAudioMessage",value:function(e){if(Ua){var t=e.payload.file;if(Ua){var n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.fileSize,second:parseInt(t.duration)/1e3,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file=n}e.currentUser=this.tim.context.identifier,e.onProgress=qs(e.onProgress);var r=new $d(e),i=new Gd({second:Math.floor(t.duration/1e3),size:t.fileSize,url:t.tempFilePath,uuid:this._generateUUID()});return r.setElement(i),this.messageOptionMap.set(r.messageID,e),r}gs.warn("createAudioMessage 目前只支持微信小程序发语音消息")}},{key:"createVideoMessage",value:function(e){if(Ua){if(e.currentUser=this.tim.context.identifier,Ua){e.payload.file.thumbUrl="https://webim-1252463788.cos.ap-shanghai.myqcloud.com/assets/images/transparent.png",e.payload.file.thumbSize=1668;var t=e.payload.file,n={url:t.tempFilePath,name:t.tempFilePath.slice(t.tempFilePath.lastIndexOf("/")+1),size:t.size,second:t.duration,type:t.tempFilePath.slice(t.tempFilePath.lastIndexOf(".")+1).toLowerCase()};e.payload.file.videoFile=n,e.onProgress=qs(e.onProgress);var r=new $d(e),i=new Xd({videoFormat:n.type,videoSecond:Number(n.second.toFixed(0)),videoSize:n.size,remoteVideoUrl:"",videoUrl:n.url,videoUUID:this._generateUUID(),thumbUUID:this._generateUUID(),thumbWidth:t.width,thumbHeight:t.height,thumbUrl:t.thumbUrl,thumbSize:t.thumbSize,thumbFormat:t.thumbUrl.slice(t.thumbUrl.lastIndexOf(".")+1).toLowerCase()});return r.setElement(i),this.messageOptionMap.set(r.messageID,e),r}}else gs.warn("createVideoMessage 目前只支持微信小程序发视频消息")}},{key:"createFaceMessage",value:function(e){e.currentUser=this.tim.context.identifier;var t=new $d(e),n=new Ud(e.payload);return t.setElement(n),t}},{key:"_generateUUID",value:function(){var e=this.tim.context;return"".concat(e.SDKAppID,"-").concat(e.identifier,"-").concat(function(){for(var e="",t=32;t>0;--t)e+=xs[Math.floor(Math.random()*Us)];return e}())}},{key:"_generateTjgID",value:function(e){return this.tim.context.tinyID+"-"+e.random}},{key:"getMessageOptionByID",value:function(e){return this.messageOptionMap.get(e)}}]),t}(),Cp=function(){function e(t){sn(this,e),this.userID="",this.avatar="",this.nick="",this.role="",this.joinTime="",this.lastSendMsgTime="",this.nameCard="",this.muteUntil=0,this.memberCustomField=[],this._initMember(t)}return ln(e,[{key:"_initMember",value:function(e){this.updateMember(e)}},{key:"updateMember",value:function(e){Ps(this,e,[],[null,void 0,"",0,NaN])}},{key:"updateRole",value:function(e){["Owner","Admin","Member"].indexOf(e)<0||(this.role=e)}},{key:"updateMemberCustomField",value:function(e){Ps(this.memberCustomField,e)}}]),e}(),_p=function(){function e(t){sn(this,e),this.tim=t.tim,this.groupController=t.groupController,this._initListeners()}return ln(e,[{key:"_initListeners",value:function(){this.tim.innerEmitter.on(hc.MESSAGE_GROUP_INSTANT_RECEIVED,this._onReceivedGroupTips,this)}},{key:"_onReceivedGroupTips",value:function(e){var t=this,n=e.data,r=n.result;n.isGroupTip&&r.forEach(function(e){switch(e.payload.operationType){case 1:t._onNewMemberComeIn(e);break;case 2:t._onMemberQuit(e);break;case 3:t._onMemberKickedOut(e);break;case 4:t._onMemberSetAdmin(e);break;case 5:t._onMemberCancelledAdmin(e);break;case 6:t._onGroupProfileModified(e);break;case 7:t._onMemberInfoModified(e);break;default:gs.warn("GroupTipsHandler._onReceivedGroupTips Unhandled groupTips. operationType=",e.payload.operationType)}})}},{key:"_onNewMemberComeIn",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,i=this.groupController.getLocalGroupProfile(r);i&&ys(n)&&(i.memberNum=n)}},{key:"_onMemberQuit",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,i=this.groupController.getLocalGroupProfile(r);i&&ys(n)&&(i.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberKickedOut",value:function(e){var t=e.payload,n=t.memberNum,r=t.groupProfile.groupID,i=this.groupController.getLocalGroupProfile(r);i&&ys(n)&&(i.memberNum=n),this.groupController.deleteLocalGroupMembers(r,e.payload.userIDList)}},{key:"_onMemberSetAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach(function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(Xt.GRP_MBR_ROLE_ADMIN)})}},{key:"_onMemberCancelledAdmin",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.userIDList.forEach(function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e);r&&r.updateRole(Xt.GRP_MBR_ROLE_MEMBER)})}},{key:"_onGroupProfileModified",value:function(e){var t=this,n=e.payload.newGroupProfile,r=e.payload.groupProfile.groupID,i=this.groupController.getLocalGroupProfile(r);Object.keys(n).forEach(function(e){switch(e){case"ownerID":t._ownerChaged(i,n);break;default:i[e]=n[e]}}),this.groupController.emitGroupListUpdate(1,1)}},{key:"_ownerChaged",value:function(e,t){var n=e.groupID,r=this.groupController.getLocalGroupProfile(n),i=this.tim.context.identifier;if(i===t.ownerID){r.updateGroup({selfInfo:{role:Xt.GRP_MBR_ROLE_OWNER}});var o=this.groupController.getLocalGroupMemberInfo(n,i),a=this.groupController.getLocalGroupProfile(n).ownerID,s=this.groupController.getLocalGroupMemberInfo(n,a);o&&o.updateRole(Xt.GRP_MBR_ROLE_OWNER),s&&s.updateRole(Xt.GRP_MBR_ROLE_MEMBER)}}},{key:"_onMemberInfoModified",value:function(e){var t=this,n=e.payload.groupProfile.groupID;e.payload.msgMemberInfo.forEach(function(e){var r=t.groupController.getLocalGroupMemberInfo(n,e.userAccount);r&&e.shutupTime&&(r.shutUpUntil=(Date.now()+1e3*e.shutupTime)/1e3)})}}]),e}(),Tp=function(){function e(t){sn(this,e),this.groupController=t.groupController,this.tim=t.tim,this.pendencyMap=new Map,this._initLiceners()}return ln(e,[{key:"_initLiceners",value:function(){this.tim.innerEmitter.on(hc.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,this._onReceivedGroupSystemNotice,this),this.tim.innerEmitter.on(hc.SYNC_MESSAGE_C2C_FINISHED,this._clearGroupSystemNotice,this)}},{key:"_clearGroupSystemNotice",value:function(){var e=this;this.getPendencyList().then(function(t){t.forEach(function(t){e.pendencyMap.set("".concat(t.from,"_").concat(t.groupID,"_").concat(t.to),t)});var n=e.tim.messageController.getLocalMessageList(Xt.CONV_SYSTEM),r=[];n.forEach(function(t){var n=t.payload,i=n.operatorID,o=n.operationType,a=n.groupProfile;if(o===kc){var s="".concat(i,"_").concat(a.groupID,"_").concat(a.to),u=e.pendencyMap.get(s);u&&ys(u.handled)&&0!==u.handled&&r.push(t)}}),e.groupController.deleteGroupSystemNotice({messageList:r})})}},{key:"getPendencyList",value:function(e){var t=this,n=this.groupController.createPackage({name:"group",action:"getGroupPendency",param:{startTime:e&&e.startTime?e.startTime:0,limit:e&&e.limit?e.limit:10,handleAccount:this.tim.context.identifier}});return this.groupController.connectionController.request(n).then(function(e){var n=e.data,r=n.pendencyList;return 0!==n.nextStartTime?t.getPendencyList({startTime:n.nextStartTime}).then(function(e){return[].concat(Cn(r),Cn(e))}):r})}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=this,n=e.data,r=n.result;"sync"!==n.type&&r.forEach(function(e){switch(e.payload.operationType){case 1:t._onApplyGroupRequest(e);break;case 2:t._onApplyGroupRequestAgreed(e);break;case 3:t._onApplyGroupRequestRefused(e);break;case 4:t._onMemberKicked(e);break;case 5:t._onGroupDismissed(e);break;case 6:break;case 7:t._onInviteGroup(e);break;case 8:t._onQuitGroup(e);break;case 9:t._onSetManager(e);break;case 10:t._onDeleteManager(e);break;case 11:case 12:case 15:break;case 255:t.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Gc})}})}},{key:"_onApplyGroupRequest",value:function(e){this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:kc})}},{key:"_onApplyGroupRequestAgreed",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then(function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())}),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Mc})}},{key:"_onApplyGroupRequestRefused",value:function(e){this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Rc})}},{key:"_onMemberKicked",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Pc})}},{key:"_onGroupDismissed",value:function(e){var t=e.payload.groupProfile.groupID,n=this.groupController.hasLocalGroup(t),r=this.groupController.AVChatRoomHandler;n&&this.groupController.deleteLocalGroupAndConversation(t),r.checkJoinedAVChatRoomByID(t)&&r.reset(),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Oc})}},{key:"_onInviteGroup",value:function(e){var t=this,n=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(n)||this.groupController.getGroupProfile({groupID:n}).then(function(e){var n=e.data.group;n&&(t.groupController.updateGroupMap([n]),t.groupController.emitGroupListUpdate())}),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Lc})}},{key:"_onQuitGroup",value:function(e){var t=e.payload.groupProfile.groupID;this.groupController.hasLocalGroup(t)&&this.groupController.deleteLocalGroupAndConversation(t),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Nc})}},{key:"_onSetManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,i=this.groupController.getLocalGroupMemberInfo(r,n);i&&i.updateRole(Xt.GRP_MBR_ROLE_ADMIN),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:Bc})}},{key:"_onDeleteManager",value:function(e){var t=e.payload.groupProfile,n=t.to,r=t.groupID,i=this.groupController.getLocalGroupMemberInfo(r,n);i&&i.updateRole(Xt.GRP_MBR_ROLE_MEMBER),this.tim.outerEmitter.emit(zt.GROUP_SYSTEM_NOTICE_RECEIVED,{message:e,type:xc})}},{key:"reset",value:function(){this.pendencyMap.clear()}}]),e}(),Sp={3:1,4:1,5:1,6:1},wp=function(){function e(t){var n=t.tim,r=t.groupController;sn(this,e),this.tim=n,this.groupController=r,this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={}}return ln(e,[{key:"hasJoinedAVChatRoom",value:function(){return this.group&&!Ss(this.group.groupID)?1:0}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this.group||!Ss(this.group.groupID)?e===this.group.groupID:0}},{key:"getJoinedAVChatRoom",value:function(){return this.hasJoinedAVChatRoom()?this.group:null}},{key:"_updateProperties",value:function(e){var t=this;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"start",value:function(){var e={key:this.key,startSeq:this.startSeq};if(null===this.AVChatRoomLoop){var t=this.tim.notificationController.createPackage({name:"AVChatRoom",action:"startLongPoll",param:e});this.AVChatRoomLoop=this.tim.connectionController.createRunLoop({pack:t,before:this._updateRequestData.bind(this),success:this._handleSuccess.bind(this),fail:this._handleFailure.bind(this)}),this.AVChatRoomLoop.start(),gs.log("AVChatRoomHandler.start message channel started")}else this.AVChatRoomLoop.isRunning()||this.AVChatRoomLoop.start()}},{key:"stop",value:function(){null!==this.AVChatRoomLoop&&this.AVChatRoomLoop.isRunning()&&(this.AVChatRoomLoop.abort(),this.AVChatRoomLoop.stop(),gs.log("AVChatRoomHandler.stop message channel stopped"))}},{key:"startRunLoop",value:function(e){var t=this;return this._precheck().then(function(){var n=e.longPollingKey,r=e.group;return t._updateProperties({key:n,startSeq:0,group:r||{}}),t.groupController.updateGroupMap([r]),t.groupController.emitGroupListUpdate(1,0),t.start(),t.groupController.isLoggedIn()?zc({status:Tc.SUCCESS,group:r}):zc({status:Tc.SUCCESS})})}},{key:"joinWithoutAuth",value:function(e){var t=this,n=this.groupController.createPackage({name:"group",action:"applyJoinAVChatRoom",param:e});return this.tim.connectionController.request(n).then(function(n){var r=n.data.longPollingKey;gs.log("AVChatRoomHandler.joinWithoutAuth ok. groupID:",e.groupID),t.tim.innerEmitter.emit(hc.AVCHATROOM_JOIN_SUCCESS,{data:e.groupID});var i=new tp({groupID:e.groupID});return t.startRunLoop({group:i,longPollingKey:r}),new Jc({status:Tc.SUCCESS})}).catch(function(t){return gs.error("AVChatRoomHandler.joinWithoutAuth error:".concat(t.message,". groupID:").concat(e.groupID)),Xc(t)})}},{key:"_precheck",value:function(){if(!this.hasJoinedAVChatRoom())return Promise.resolve();if(this.groupController.isLoggedIn()){if(this.group.selfInfo.role!==Xt.GRP_MBR_ROLE_OWNER&&this.group.ownerID!==this.tim.loginInfo.identifier)return this.groupController.quitGroup(this.group.groupID);this.groupController.deleteLocalGroupAndConversation(this.group.groupID)}else this.groupController.deleteLocalGroupAndConversation(this.group.groupID);return this.reset(),Promise.resolve()}},{key:"_updateRequestData",value:function(e){e.StartSeq=this.startSeq,e.Key=this.key,this.tim.sumStatController.addTotalCount(Zc.LONG_POLLING_AV)}},{key:"_handleSuccess",value:function(e){this.tim.sumStatController.addSuccessCount(Zc.LONG_POLLING_AV),this.tim.sumStatController.addCost(Zc.LONG_POLLING_AV,e.data.timecost),this.startSeq=e.data.nextSeq,this.key=e.data.key,Array.isArray(e.data.rspMsgList)&&e.data.rspMsgList.forEach(function(e){e.to=e.groupID}),e.data.rspMsgList&&e.data.rspMsgList.length>0&&this._dispatchNotice(e.data.rspMsgList)}},{key:"_handleFailure",value:function(e){if(e.error){var t=new $c;t.setMethod(eh.LONG_POLLING_ERROR).setStart(),this.groupController.probeNetwork(function(n,r){t.setError(e.error,n,r).setEnd()}),this.tim.innerEmitter.emit(hc.ERROR_DETECTED,e.error)}}},{key:"_dispatchNotice",value:function(e){if(Ts(e)&&0!==e.length){for(var t=null,n=[],r=[],i=0;i<e.length;i++)Sp[e[i].event]?(t=this.packMessage(e[i],e[i].event)).conversationType!==Xt.CONV_SYSTEM?this.tim.messageController.hasLocalMessage(t.conversationID,t.ID)||n.push(t):r.push(t):gs.warn("AVChatRoomHandler._dispatchMessage 未处理的 event 类型：",e[i].event);if(r.length>0&&this.tim.innerEmitter.emit(hc.MESSAGE_GROUP_SYSTEM_NOTICE_RECEIVED,{data:{result:r,eventDataList:[],type:"poll"}}),0!==n.length){var o=this.packConversationOption(n);o.length>0&&this.tim.innerEmitter.emit(hc.MESSAGE_GROUP_INSTANT_RECEIVED,{data:{eventDataList:o,type:"poll"}}),this.tim.outerEmitter.emit(zt.MESSAGE_RECEIVED,n)}}}},{key:"packMessage",value:function(e,t){e.currentUser=this.tim.context.identifier,e.conversationType=5===t?Xt.CONV_SYSTEM:Xt.CONV_GROUP,e.isSystemMessage=!!e.isSystemMessage;var n=new $d(e),r=this.packElements(e,t);return n.setElement(r),n}},{key:"packElements",value:function(e,t){return 4===t||6===t?{type:Xt.MSG_GRP_TIP,content:fn({},e.elements,{groupProfile:e.groupProfile})}:5===t?{type:Xt.MSG_GRP_SYS_NOTICE,content:fn({},e.elements,{groupProfile:e.groupProfile})}:this.tim.bigDataHallwayController.parseElements(e.elements,e.from)}},{key:"packConversationOption",value:function(e){for(var t=new Map,n=0;n<e.length;n++){var r=e[n],i=r.conversationID;if(t.has(i)){var o=t.get(i);o.lastMessage=r,"in"===r.flow&&o.unreadCount++}else t.set(i,{conversationID:r.conversationID,unreadCount:"out"===r.flow?0:1,type:r.conversationType,subType:r.conversationSubType,lastMessage:r})}return Cn(t.values())}},{key:"reset",value:function(){null!==this.AVChatRoomLoop&&(gs.log("AVChatRoomHandler.reset"),this.stop(),this.AVChatRoomLoop=null,this.key="",this.startSeq=0,this.group={})}}]),e}(),Ip=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).groupMap=new Map,n.groupMemberListMap=new Map,n.hasLocalGroupList=0,n.groupNoticeHandler=new Tp({tim:e,groupController:An(n)}),n.groupTipsHandler=new _p({tim:e,groupController:An(n)}),n.AVChatRoomHandler=new wp({tim:e,groupController:An(n)}),n._initListeners(),n}return dn(t,wc),ln(t,[{key:"createGroup",value:function(e){var t=this;if(!["Public","Private","ChatRoom","AVChatRoom"].includes(e.type)){var n=new rc({code:ec.ILLEGAL_GROUP_TYPE,message:tc.ILLEGAL_GROUP_TYPE});return Xc(n)}Ks(e.type)&&!Ss(e.memberList)&&e.memberList.length>0&&(gs.warn("GroupController.createGroup 创建AVChatRoom时不能添加群成员，自动忽略该字段"),e.memberList=void 0),Hs(e.type)||Ss(e.joinOption)||(gs.warn("GroupController.createGroup 创建Private/ChatRoom/AVChatRoom群时不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var r=new $c;r.setMethod(eh.CREATE_GROUP).setStart();var i=this.createPackage({name:"group",action:"create",param:e});return gs.log("GroupController.createGroup."),this.tim.connectionController.request(i).then(function(n){if(r.setCode(0).setNetworkType(t.getNetworkType()).setText("grpType=".concat(e.type)).setEnd(),gs.log("GroupController.createGroup ok. groupID:",n.data.groupID),e.type===Xt.GRP_AVCHATROOM)return t.getGroupProfile({groupID:n.data.groupID});t.updateGroupMap([fn({},e,{groupID:n.data.groupID})]);var i=t.tim.createCustomMessage({to:n.data.groupID,conversationType:Xt.CONV_GROUP,payload:{data:"group_create",extension:"".concat(t.tim.context.identifier,"创建群组")}});return t.tim.sendMessage(i),t.emitGroupListUpdate(),t.getGroupProfile({groupID:n.data.groupID})}).then(function(e){var t=e.data.group;return t.selfInfo.messageRemindType=Xt.MSG_REMIND_ACPT_AND_NOTE,t.selfInfo.role=Xt.GRP_MBR_ROLE_OWNER,e}).catch(function(e){return t.probeNetwork().then(function(t,n){r.setError(e,t,n).setEnd()}),gs.error("GroupController.createGroup error:",e),Xc(e)})}},{key:"joinGroup",value:function(e){if(this.hasLocalGroup(e.groupID)){var t={status:Xt.JOIN_STATUS_ALREADY_IN_GROUP};return zc(t)}if(e.type===Xt.GRP_PRIVATE){var n=new rc({code:ec.CANNOT_JOIN_PRIVATE,message:tc.CANNOT_JOIN_PRIVATE});return this.tim.innerEmitter.emit(hc.ERROR_DETECTED,n),Xc(n)}return gs.log("GroupController.joinGroup. groupID:",e.groupID),this.isLoggedIn()?this.applyJoinGroup(e):this.AVChatRoomHandler.joinWithoutAuth(e)}},{key:"quitGroup",value:function(e){var t=this;gs.log("GroupController.quitGroup. groupID:",e);var n=this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e);if(n&&!this.isLoggedIn())return gs.log("GroupController.quitGroup anonymously ok. groupID:",e),this.deleteLocalGroupAndConversation(e),this.AVChatRoomHandler.reset(),zc({groupID:e});var r=this.createPackage({name:"group",action:"quitGroup",param:{groupID:e}});return this.tim.connectionController.request(r).then(function(){return gs.log("GroupController.quitGroup ok. groupID:",e),n&&t.AVChatRoomHandler.reset(),t.deleteLocalGroupAndConversation(e),new Jc({groupID:e})}).catch(function(t){return gs.error("GroupController.quitGroup error.  error:".concat(t,". groupID:").concat(e)),Xc(t)})}},{key:"changeGroupOwner",value:function(e){var t=this;if(this.hasLocalGroup(e.groupID)&&this.getLocalGroupProfile(e.groupID).type===Xt.GRP_AVCHATROOM)return Xc(new rc({code:ec.CANNOT_CHANGE_OWNER_IN_AVCHATROOM,message:tc.CANNOT_CHANGE_OWNER_IN_AVCHATROOM}));if(e.newOwnerID===this.tim.loginInfo.identifier)return Xc(new rc({code:ec.CANNOT_CHANGE_OWNER_TO_SELF,message:tc.CANNOT_CHANGE_OWNER_TO_SELF}));var n=this.createPackage({name:"group",action:"changeGroupOwner",param:e});return gs.log("GroupController.changeGroupOwner. groupID:",e.groupID),this.tim.connectionController.request(n).then(function(){gs.log("GroupController.changeGroupOwner ok. groupID:",e.groupID);var n=e.groupID,r=e.newOwnerID;t.groupMap.get(n).ownerID=r;var i=t.groupMemberListMap.get(n);if(i instanceof Map){var o=i.get(t.tim.loginInfo.identifier);Ss(o)||(o.updateRole("Member"),t.groupMap.get(n).selfInfo.role="Member");var a=i.get(r);Ss(a)||a.updateRole("Owner")}return t.emitGroupListUpdate(1,0),new Jc({group:t.groupMap.get(n)})}).catch(function(t){return gs.error("GroupController.changeGroupOwner error:".concat(t,". groupID:").concat(e.groupID)),Xc(t)})}},{key:"dismissGroup",value:function(e){var t=this;if(this.hasLocalGroup(e)&&this.getLocalGroupProfile(e).type===Xt.GRP_PRIVATE)return Xc(new rc({code:ec.CANNOT_DISMISS_PRIVATE,message:tc.CANNOT_DISMISS_PRIVATE}));var n=this.createPackage({name:"group",action:"destroyGroup",param:{groupID:e}});return gs.log("GroupController.dismissGroup. groupID:".concat(e)),this.tim.connectionController.request(n).then(function(){return gs.log("GroupController.dismissGroup ok. groupID:".concat(e)),t.deleteLocalGroupAndConversation(e),t.checkJoinedAVChatRoomByID(e)&&t.AVChatRoomHandler.reset(),new Jc({groupID:e})}).catch(function(t){return gs.error("GroupController.dismissGroup error:".concat(t,". groupID:").concat(e)),Xc(t)})}},{key:"updateGroupProfile",value:function(e){var t=this;!this.hasLocalGroup(e.groupID)||Hs(this.getLocalGroupProfile(e.groupID).type)||Ss(e.joinOption)||(gs.warn("GroupController.modifyGroup: Private/ChatRoom/AVChatRoom群不能设置字段：joinOption，自动忽略该字段"),e.joinOption=void 0);var n=this.createPackage({name:"group",action:"updateGroupProfile",param:e});return gs.log("GroupController.modifyGroup. groupID:",e.groupID),this.tim.connectionController.request(n).then(function(){return gs.log("GroupController.modifyGroup ok. groupID:",e.groupID),t.hasLocalGroup(e.groupID)&&(t.groupMap.get(e.groupID).updateGroup(e),t._setLocalGroupList(t.groupMap)),new Jc({group:t.groupMap.get(e.groupID)})}).catch(function(t){return gs.log("GroupController.modifyGroup error. error:".concat(t," groupID:").concat(e.groupID)),Xc(t)})}},{key:"setGroupMemberRole",value:function(e){var t=this,n=this.groupMap.get(e.groupID);if(n.selfInfo.role!==Xt.GRP_MBR_ROLE_OWNER)return Xc(new rc({code:ec.NOT_OWNER,message:tc.NOT_OWNER}));if([Xt.GRP_PRIVATE,Xt.GRP_AVCHATROOM].includes(n.type))return Xc(new rc({code:ec.CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM,message:tc.CANNOT_SET_MEMBER_ROLE_IN_PRIVATE_AND_AVCHATROOM}));if([Xt.GRP_MBR_ROLE_ADMIN,Xt.GRP_MBR_ROLE_MEMBER].indexOf(e.role)<0)return Xc(new rc({code:ec.INVALID_MEMBER_ROLE,message:tc.INVALID_MEMBER_ROLE}));if(e.userID===this.tim.loginInfo.identifier)return Xc(new rc({code:ec.CANNOT_SET_SELF_MEMBER_ROLE,message:tc.CANNOT_SET_SELF_MEMBER_ROLE}));gs.log("GroupController.setGroupMemberRole. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var r=e.groupID,i=e.userID,o=e.role;return this._modifyGroupMemberInfo({groupID:r,userID:i,role:o}).then(function(){gs.log("GroupController.setGroupMemberRole ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var n=t.groupMemberListMap.get(e.groupID);return void 0!==n&&void 0!==n.get(e.userID)&&n.get(e.userID).updateRole(e.role),new Jc({group:t.groupMap.get(e.groupID)})}).catch(function(t){return gs.error("GroupController.setGroupMemberRole error:".concat(t,". groupID:").concat(e.groupID,". userID:").concat(e.userID)),Xc(t)})}},{key:"setGroupMemberMuteTime",value:function(e){var t=this;gs.log("GroupController.setGroupMemberMuteTime. groupID:".concat(e.groupID,". userID: ").concat(e.userID));var n=e.groupID,r=e.userID,i=e.muteTime;return this._modifyGroupMemberInfo({groupID:n,userID:r,muteTime:i}).then(function(){return gs.log("GroupController.setGroupMemberMuteTime ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID)),new Jc({group:t.getLocalGroupProfile(n)})}).catch(function(t){return gs.error("GroupController.setGroupMemberMuteTime error:".concat(t,". groupID:").concat(e.groupID,". userID:").concat(e.userID)),Xc(t)})}},{key:"setMessageRemindType",value:function(e){var t=this;gs.log("GroupController.setMessageRemindType. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.messageRemindType;return this._modifyGroupMemberInfo({groupID:n,messageRemindType:r,userID:this.tim.loginInfo.identifier}).then(function(){gs.log("GroupController.setMessageRemindType ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier));var n=t.getLocalGroupProfile(e.groupID);return n&&(n.selfInfo.messageRemindType=r),new Jc({group:n})}).catch(function(n){return gs.error("GroupController.setMessageRemindType error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Xc(n)})}},{key:"setGroupMemberNameCard",value:function(e){var t=this;gs.log("GroupController.setGroupMemberNameCard. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.userID,i=void 0===r?this.tim.loginInfo.identifier:r,o=e.nameCard;return this._modifyGroupMemberInfo({groupID:n,userID:i,nameCard:o}).then(function(){gs.log("GroupController.setGroupMemberNameCard ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier));var r=t.groupMemberListMap.get(n);return void 0!==r&&void 0!==r.get(i)&&r.get(i).updateMember({nameCard:o}),i===t.tim.loginInfo.identifier&&t.hasLocalGroup(n)&&(t.getLocalGroupProfile(n).selfInfo.nameCard=o),new Jc({group:t.groupMap.get(n)})}).catch(function(n){return gs.error("GroupController.setGroupMemberNameCard error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Xc(n)})}},{key:"setGroupMemberCustomField",value:function(e){var t=this;gs.log("GroupController.setGroupMemberCustomField. groupID:".concat(e.groupID,". userID: ").concat(e.userID||this.tim.loginInfo.identifier));var n=e.groupID,r=e.userID,i=e.memberCustomField;return this._modifyGroupMemberInfo({groupID:n,userID:r||this.tim.loginInfo.identifier,memberCustomField:i}).then(function(){return gs.log("GroupController.setGroupMemberCustomField ok. groupID:".concat(e.groupID,". userID: ").concat(e.userID||t.tim.loginInfo.identifier)),t.groupMemberListMap.has(n)&&t.groupMemberListMap.get(n).has(r)&&t.groupMemberListMap.get(n).get(r).updateMemberCustomField(i),new Jc({group:t.groupMap.get(n)})}).catch(function(n){return gs.error("GroupController.setGroupMemberCustomField error:".concat(n,". groupID:").concat(e.groupID,". userID:").concat(e.userID||t.tim.loginInfo.identifier)),Xc(n)})}},{key:"getGroupList",value:function(e){var t=this,n=new $c;n.setMethod(eh.GET_GROUP_LIST).setStart(),gs.log("GroupController.getGroupList");var r={introduction:"Introduction",notification:"Notification",createTime:"CreateTime",ownerID:"Owner_Account",lastInfoTime:"LastInfoTime",memberNum:"MemberNum",maxMemberNum:"MaxMemberNum",joinOption:"ApplyJoinOption"},i=["Type","Name","FaceUrl","NextMsgSeq","LastMsgTime"];e&&e.groupProfileFilter&&e.groupProfileFilter.forEach(function(e){r[e]&&i.push(r[e])});var o=this.createPackage({name:"group",action:"list",param:{responseFilter:{groupBaseInfoFilter:i,selfInfoFilter:["Role","JoinTime","MsgFlag"]}}});return this.tim.connectionController.request(o).then(function(e){var r=e.data.groups;return n.setCode(0).setNetworkType(t.getNetworkType()).setText(r.length).setEnd(),gs.log("GroupController.getGroupList ok"),t._groupListTreeShaking(r),t.updateGroupMap(r),t.hasLocalGroupList=1,t.tempConversationList&&(t._handleUpdateGroupLastMessage(t.tempConversationList),t.tempConversationList=null),t.emitGroupListUpdate(),new Jc({groupList:t.getLocalGroups()})}).catch(function(e){return t.probeNetwork().then(function(t,r){n.setError(e,t,r).setEnd()}),gs.error("GroupController.getGroupList error: ",e),Xc(e)})}},{key:"getGroupMemberList",value:function(e){var t=this,n=e.groupID,r=e.offset,i=void 0===r?0:r,o=e.count,a=void 0===o?15:o;gs.log("GroupController.getGroupMemberList groupID: ".concat(n," offset: ").concat(i," count: ").concat(a));var s=this.createPackage({name:"group",action:"getGroupMemberList",param:{groupID:n,offset:i,limit:a>100?100:a,memberInfoFilter:["Role","NameCard"]}}),u=[];return this.connectionController.request(s).then(function(e){var r=e.data,i=r.members,o=r.memberNum;return Ts(i)&&0!==i.length?(t.hasLocalGroup(n)&&(t.getLocalGroupProfile(n).memberNum=o),u=t._updateLocalGroupMemberMap(n,i),t.tim.getUserProfile({userIDList:i.map(function(e){return e.userID}),tagList:[Hc.NICK,Hc.AVATAR]})):Promise.resolve([])}).then(function(e){var r=e.data;if(!Ts(r)||0===r.length)return zc({memberList:[]});var i=r.map(function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}});return t._updateLocalGroupMemberMap(n,i),gs.log("GroupController.getGroupMemberList ok."),new Jc({memberList:u})}).catch(function(e){return gs.error("GroupController.getGroupMemberList error: ",e),Xc(e)})}},{key:"getLocalGroups",value:function(){return Cn(this.groupMap.values())}},{key:"getLocalGroupProfile",value:function(e){return this.groupMap.get(e)}},{key:"hasLocalGroup",value:function(e){return this.groupMap.has(e)}},{key:"getLocalGroupMemberInfo",value:function(e,t){return this.groupMemberListMap.has(e)?this.groupMemberListMap.get(e).get(t):null}},{key:"setLocalGroupMember",value:function(e,t){if(this.groupMemberListMap.has(e))this.groupMemberListMap.get(e).set(t.userID,t);else{var n=(new Map).set(t.userID,t);this.groupMemberListMap.set(e,n)}}},{key:"hasLocalGroupMember",value:function(e,t){return this.groupMemberListMap.has(e)&&this.groupMemberListMap.get(e).has(t)}},{key:"hasLocalGroupMemberMap",value:function(e){return this.groupMemberListMap.has(e)}},{key:"getGroupProfile",value:function(e){var t=this;gs.log("GroupController.getGroupProfile. groupID:",e.groupID);var n=e.groupID,r=e.groupCustomFieldFilter,i={groupIDList:[n],responseFilter:{groupBaseInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","Owner_Account","CreateTime","InfoSeq","LastInfoTime","LastMsgTime","MemberNum","MaxMemberNum","ApplyJoinOption","NextMsgSeq"],groupCustomFieldFilter:r}};return this.getGroupProfileAdvance(i).then(function(r){var i,o=r.data,a=o.successGroupList,s=o.failureGroupList;return gs.log("GroupController.getGroupProfile ok. groupID:",e.groupID),s.length>0?Xc(s[0]):(Ks(a[0].type)&&!t.hasLocalGroup(n)?i=new tp(a[0]):(t.updateGroupMap(a),i=t.getLocalGroupProfile(n)),i&&i.selfInfo&&!i.selfInfo.nameCard?t.updateSelfInfo(i).then(function(e){return new Jc({group:e})}):new Jc({group:i}))}).catch(function(t){return gs.error("GroupController.getGroupProfile error:".concat(t,". groupID:").concat(e.groupID)),Xc(t)})}},{key:"getGroupMemberProfile",value:function(e){var t=this;gs.log("GroupController.getGroupMemberProfile groupID:".concat(e.groupID,"\n     userIDList:").concat(e.userIDList.join(","))),e.userIDList.length>50&&(e.userIDList=e.userIDList.slice(0,50));var n=e.groupID,r=e.userIDList;return this._getGroupMemberProfileAdvance(fn({},e,{userIDList:r})).then(function(e){var r=e.data.members;return Ts(r)&&0!==r.length?(t._updateLocalGroupMemberMap(n,r),t.tim.getUserProfile({userIDList:r.map(function(e){return e.userID}),tagList:[Hc.NICK,Hc.AVATAR]})):zc([])}).then(function(e){var i=e.data.map(function(e){return{userID:e.userID,nick:e.nick,avatar:e.avatar}});t._updateLocalGroupMemberMap(n,i);var o=r.filter(function(e){return t.hasLocalGroupMember(n,e)}).map(function(e){return t.getLocalGroupMemberInfo(n,e)});return new Jc({memberList:o})})}},{key:"_getGroupMemberProfileAdvance",value:function(e){var t=this.createPackage({name:"group",action:"getGroupMemberProfile",param:fn({},e,{memberInfoFilter:e.memberInfoFilter?e.memberInfoFilter:["Role","JoinTime","NameCard","ShutUpUntil"]})});return this.connectionController.request(t)}},{key:"updateSelfInfo",value:function(e){var t=e.groupID;gs.log("GroupController.updateSelfInfo groupID:",t);var n={groupID:t,userIDList:[this.tim.loginInfo.identifier]};return this.getGroupMemberProfile(n).then(function(n){var r=n.data.memberList;return gs.log("GroupController.updateSelfInfo ok. groupID:",t),e&&0!==r.length&&e.updateSelfInfo(r[0]),e})}},{key:"addGroupMember",value:function(e){var t=this.getLocalGroupProfile(e.groupID);if(Ks(t.type)){var n=new rc({code:ec.CANNOT_ADD_MEMBER_IN_AVCHATROOM,message:tc.CANNOT_ADD_MEMBER_IN_AVCHATROOM});return Xc(n)}e.userIDList=e.userIDList.map(function(e){return{userID:e}});var r=this.createPackage({name:"group",action:"addGroupMember",param:e});return gs.log("GroupController.addGroupMember. groupID:",e.groupID),this.connectionController.request(r).then(function(n){var r=n.data.members;gs.log("GroupController.addGroupMember ok. groupID:",e.groupID);var i=r.filter(function(e){return 1===e.result}).map(function(e){return e.userID}),o=r.filter(function(e){return 0===e.result}).map(function(e){return e.userID}),a=r.filter(function(e){return 2===e.result}).map(function(e){return e.userID});return 0===i.length?new Jc({successUserIDList:i,failureUserIDList:o,existedUserIDList:a}):(t.memberNum+=i.length,new Jc({successUserIDList:i,failureUserIDList:o,existedUserIDList:a,group:t}))}).catch(function(t){return gs.error("GroupController.addGroupMember error:".concat(t,", groupID:").concat(e.groupID)),Xc(t)})}},{key:"deleteGroupMember",value:function(e){var t=this;gs.log("GroupController.deleteGroupMember groupID:".concat(e.groupID," userIDList:").concat(e.userIDList));var n=this.getLocalGroupProfile(e.groupID);if(n.type===Xt.GRP_AVCHATROOM)return Xc(new rc({code:ec.CANNOT_KICK_MEMBER_IN_AVCHATROOM,message:tc.CANNOT_KICK_MEMBER_IN_AVCHATROOM}));var r=this.createPackage({name:"group",action:"deleteGroupMember",param:e});return this.connectionController.request(r).then(function(){return gs.log("GroupController.deleteGroupMember ok"),n.memberNum--,t.deleteLocalGroupMembers(e.groupID,e.userIDList),new Jc({group:n,userIDList:e.userIDList})}).catch(function(t){return gs.error("GroupController.deleteGroupMember error:".concat(t.code,", groupID:").concat(e.groupID)),Xc(t)})}},{key:"searchGroupByID",value:function(e){var t={groupIDList:[e]},n=this.createPackage({name:"group",action:"searchGroupByID",param:t});return gs.log("GroupController.searchGroupByID. groupID:".concat(e)),this.connectionController.request(n).then(function(t){var n=t.data.groupProfile;if(gs.log("GroupController.searchGroupByID ok. groupID:".concat(e)),n[0].errorCode!==Sc.REQUEST.SUCCESS)throw new rc({code:n[0].errorCode,message:n[0].errorInfo});return new Jc({group:new tp(n[0])})}).catch(function(t){return gs.error("GroupController.searchGroupByID error:".concat(t,", groupID:").concat(e)),Xc(t)})}},{key:"applyJoinGroup",value:function(e){var t=this,n=this.createPackage({name:"group",action:"applyJoinGroup",param:e});return this.connectionController.request(n).then(function(n){var r=n.data,i=r.joinedStatus,o=r.longPollingKey;switch(gs.log("GroupController.joinGroup ok. groupID:",e.groupID),i){case Tc.WAIT_APPROVAL:return new Jc({status:Tc.WAIT_APPROVAL});case Tc.SUCCESS:return t.getGroupProfile({groupID:e.groupID}).then(function(n){var r=n.data.group,i={status:Tc.SUCCESS,group:r};return Ss(o)?new Jc(i):(t.tim.innerEmitter.emit(hc.AVCHATROOM_JOIN_SUCCESS,{data:e.groupID}),t.AVChatRoomHandler.startRunLoop({longPollingKey:o,group:r}))});default:var a=new rc({code:ec.JOIN_GROUP_FAIL,message:tc.JOIN_GROUP_FAIL});return gs.error("GroupController.joinGroup error:".concat(a,". groupID:").concat(e.groupID)),Xc(a)}}).catch(function(t){return gs.error("GroupController.joinGroup error:".concat(t,". groupID:").concat(e.groupID)),Xc(t)})}},{key:"applyJoinAVChatRoom",value:function(e){return this.AVChatRoomHandler.applyJoinAVChatRoom(e)}},{key:"handleGroupApplication",value:function(e){var t=this,n=e.message.payload,r=n.groupProfile.groupID,i=n.authentication,o=n.messageKey,a=n.operatorID,s=this.createPackage({name:"group",action:"handleApplyJoinGroup",param:fn({},e,{applicant:a,groupID:r,authentication:i,messageKey:o})});return gs.log("GroupController.handleApplication. groupID:",r),this.connectionController.request(s).then(function(){return gs.log("GroupController.handleApplication ok. groupID:",r),t.deleteGroupSystemNotice({messageList:[e.message]}),new Jc({group:t.getLocalGroupProfile(r)})}).catch(function(e){return gs.error("GroupController.handleApplication error.  error:".concat(e,". groupID:").concat(r)),Xc(e)})}},{key:"deleteGroupSystemNotice",value:function(e){var t=this;if(!Ts(e.messageList)||0===e.messageList.length)return zc();gs.log("GroupController.deleteGroupSystemNotice "+e.messageList.map(function(e){return e.ID}));var n=this.createPackage({name:"group",action:"deleteGroupSystemNotice",param:{messageListToDelete:e.messageList.map(function(e){return{from:Xt.CONV_SYSTEM,messageSeq:e.clientSequence,messageRandom:e.random}})}});return this.connectionController.request(n).then(function(){return gs.log("GroupController.deleteGroupSystemNotice ok"),e.messageList.forEach(function(e){t.tim.messageController.deleteLocalMessage(e)}),new Jc}).catch(function(e){return gs.error("GroupController.deleteGroupSystemNotice error:",e),Xc(e)})}},{key:"getLocalGroupLastSequence",value:function(e){if(!this.groupMap.has(e))return 0;var t=this.groupMap.get(e);return t.lastMessage.lastSequence?t.lastMessage.lastSequence:t.nextMessageSeq-1}},{key:"getGroupProfileAdvance",value:function(e){Ts(e.groupIDList)&&e.groupIDList.length>50&&(gs.warn("GroupController.getGroupProfileAdvance 获取群资料的数量不能超过50个"),e.groupIDList.length=50),gs.log("GroupController.getGroupProfileAdvance. groupIDList:",e.groupIDList);var t=this.createPackage({name:"group",action:"query",param:e});return this.tim.connectionController.request(t).then(function(e){gs.log("GroupController.getGroupProfileAdvance ok.");var t=e.data.groups,n=t.filter(function(e){return Ss(e.errorCode)||e.errorCode===Sc.REQUEST.SUCCESS}),r=t.filter(function(e){return e.errorCode&&e.errorCode!==Sc.REQUEST.SUCCESS}).map(function(e){return new rc({code:Number("500".concat(e.errorCode)),message:e.errorInfo,data:{groupID:e.groupID}})});return new Jc({successGroupList:n,failureGroupList:r})}).catch(function(t){return gs.error("GroupController.getGroupProfile error:".concat(t,". groupID:").concat(e.groupID)),Xc(t)})}},{key:"_deleteLocalGroup",value:function(e){return this.groupMap.delete(e),this.groupMemberListMap.delete(e),this._setLocalGroupList(this.groupMap),this.groupMap.has(e)&&this.groupMemberListMap.has(e)}},{key:"_initGroupList",value:function(){var e=this,t=new $c;t.setMethod(eh.GET_GROUP_LIST_IN_STORAGE).setStart(),gs.time(Zc.INIT_GROUP_LIST),gs.log("GroupController._initGroupList");var n=this._getLocalGroups();this.hasLocalGroupList=Ts(n)&&0!==n.length,this.hasLocalGroupList?(n.forEach(function(t){e.groupMap.set(t[0],new tp(t[1]))}),this.emitGroupListUpdate(1,0),t.setCode(0).setNetworkType(this.getNetworkType()).setText(this.groupMap.size).setEnd()):t.setCode(0).setNetworkType(this.getNetworkType()).setText(0).setEnd(),this.triggerReady(),gs.log("GroupController._initGroupList ok. initCost=".concat(gs.timeEnd(Zc.INIT_GROUP_LIST),"ms")),this.getGroupList()}},{key:"_initListeners",value:function(){var e=this.tim.innerEmitter;e.once(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initGroupList,this),e.on(hc.CONVERSATION_LIST_UPDATED,this._handleUpdateGroupLastMessage,this),e.on(hc.MESSAGE_GROUP_INSTANT_RECEIVED,this._handleReceivedGroupMessage,this),e.on(hc.PROFILE_UPDATED,this._handleProfileUpdated,this)}},{key:"emitGroupListUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalGroups();t&&this.tim.innerEmitter.emit(hc.GROUP_LIST_UPDATED,n),e&&this.tim.outerEmitter.emit(zt.GROUP_LIST_UPDATED,n)}},{key:"_handleReceivedGroupMessage",value:function(e){var t=this,n=e.data.eventDataList;Array.isArray(n)&&n.forEach(function(e){var n=e.conversationID.replace(Xt.CONV_GROUP,"");t.groupMap.has(n)&&(t.groupMap.get(n).nextMessageSeq=e.lastMessage.sequence+1)})}},{key:"_onReceivedGroupSystemNotice",value:function(e){var t=e.data;this.groupNoticeHandler._onReceivedGroupNotice(t)}},{key:"_handleUpdateGroupLastMessage",value:function(e){if(this.hasLocalGroupList){for(var t=0,n=0;n<e.length;n++){var r=e[n],i=r.type===Xt.CONV_GROUP;if(r.conversationID&&i){var o=r.conversationID.split(/^GROUP/)[1],a=this.getLocalGroupProfile(o);a&&(a.lastMessage=r.lastMessage,t=1)}}t&&(this.groupMap=this._sortLocalGroupList(this.groupMap),this.emitGroupListUpdate(1,0))}else this.tempConversationList=e}},{key:"_sortLocalGroupList",value:function(e){var t=Cn(e).filter(function(e){var t=En(e,2);return t[0],!Vs(t[1].lastMessage)});return t.sort(function(e,t){return t[1].lastMessage.lastTime-e[1].lastMessage.lastTime}),new Map([].concat(Cn(t),Cn(e)))}},{key:"_getLocalGroups",value:function(){return this.tim.storage.getItem("groupMap")}},{key:"_hasLocalGroupList",value:function(){var e=this.tim.storage.getItem("groupMap");return null!==e&&0!==e.length}},{key:"_setLocalGroupList",value:function(e){var t=Cn(e).slice(0,100).map(function(e){var t=En(e,2),n=t[0],r=t[1];return[n,{groupID:n,name:r.name,avatar:r.avatar,type:r.type}]});this.tim.storage.setItem("groupMap",t)}},{key:"updateGroupMap",value:function(e){var t=this;e.forEach(function(e){t.groupMap.has(e.groupID)?t.groupMap.get(e.groupID).updateGroup(e):t.groupMap.set(e.groupID,new tp(e))}),this._setLocalGroupList(this.groupMap)}},{key:"_updateLocalGroupMemberMap",value:function(e,t){var n=this;return Ts(t)&&0!==t.length?t.map(function(t){return n.hasLocalGroupMember(e,t.userID)?n.getLocalGroupMemberInfo(e,t.userID).updateMember(t):n.setLocalGroupMember(e,new Cp(t)),n.getLocalGroupMemberInfo(e,t.userID)}):[]}},{key:"deleteLocalGroupMembers",value:function(e,t){var n=this.groupMemberListMap.get(e);n&&t.forEach(function(e){n.delete(e)})}},{key:"_modifyGroupMemberInfo",value:function(e){var t=this.createPackage({name:"group",action:"modifyGroupMemberInfo",param:e});return this.tim.connectionController.request(t)}},{key:"_groupListTreeShaking",value:function(e){for(var t=new Map(Cn(this.groupMap)),n=0,r=e.length;n<r;n++)t.delete(e[n].groupID);this.AVChatRoomHandler.hasJoinedAVChatRoom()&&t.delete(this.AVChatRoomHandler.group.groupID);for(var i=Cn(t.keys()),o=0,a=i.length;o<a;o++)this.groupMap.delete(i[o])}},{key:"_handleProfileUpdated",value:function(e){for(var t=this,n=e.data,r=function(e){var r=n[e];t.groupMemberListMap.forEach(function(e){e.has(r.userID)&&e.get(r.userID).updateMember({nick:r.nick,avatar:r.avatar})})},i=0;i<n.length;i++)r(i)}},{key:"getJoinedAVChatRoom",value:function(){return this.AVChatRoomHandler.getJoinedAVChatRoom()}},{key:"deleteLocalGroupAndConversation",value:function(e){this._deleteLocalGroup(e),this.tim.conversationController.deleteLocalConversation("GROUP".concat(e)),this.emitGroupListUpdate(1,0)}},{key:"checkJoinedAVChatRoomByID",value:function(e){return this.AVChatRoomHandler.checkJoinedAVChatRoomByID(e)}},{key:"reset",value:function(){this.groupMap.clear(),this.groupMemberListMap.clear(),this.hasLocalGroupList=0,this.resetReady(),this.groupNoticeHandler.reset(),this.AVChatRoomHandler.reset(),this.tim.innerEmitter.once(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initGroupList,this)}}]),t}(),bp=Math.floor;ke({target:"Number",stat:1},{isInteger:function(e){return!C(e)&&isFinite(e)&&bp(e)===e}});var Dp=function(){for(var e=[],t=kp(arguments),n=0;n<arguments.length;n++)Number.isInteger(arguments[n])?e.push(arguments[n]):e.push(1==!!arguments[n]?"1":"0");return e.join(t)},kp=function(e){var t=e.length,n=e[t-1];if("string"!=typeof n)return"";if(n.length>1)return"";var r=e[t-1];return delete e[t-1],e.length-=t===e.length?1:0,r},Mp=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initializeMembers(),n.tim.innerEmitter.on(hc.SIGN_LOGIN_SUCCESS,function(){n._initializeStatus(),n._bindListener()}),n.tim.innerEmitter.on(hc.SIGN_LOGOUT_EXECUTING,function(){n._initializeStatus(),n._unbindListener()}),n}return dn(t,wc),ln(t,[{key:"_initializeMembers",value:function(){this.normalTimeout=300,this.realtimeNoticeTimeout=11e4,this.channelMaxTimeout=3e5}},{key:"_initializeStatus",value:function(){this._initializeAccountStatus(),this._initializeChannelStatus()}},{key:"_initializeAccountStatus",value:function(){this.accountStatus={lastSignInTime:0,status:Sc.ACCOUNT_STATUS.SIGN_OUT}}},{key:"_initializeChannelStatus",value:function(){this.channelStatus={startTime:0,offlineTime:0,failCount:0,lastRequestTime:0,lastJitterTime:0,jitterCount:0,jitters:[],status:Sc.CHANNEL_STATUS.OFFLINE}}},{key:"getChannelStatus",value:function(){return this.channelStatus.status}},{key:"_channelStatusJittersUpdate",value:function(e){this.channelStatus.jitterCount++,this.channelStatus.lastJitterTime=e,this.channelStatus.jitters.push(e),this.channelStatus.jitters.length>5&&this.channelStatus.jitters.pop()}},{key:"_bindListener",value:function(){var e=this.tim.innerEmitter;e.on(hc.NOTICE_LONGPOLL_START,this._onChannelStart,this),e.on(hc.NOTICE_LONGPOLL_REQUEST_ARRIVED,this._onChannelRequestSuccess,this),e.on(hc.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,this._onChannelFail,this)}},{key:"_unbindListener",value:function(){var e=this.tim.innerEmitter;e.off(hc.NOTICE_LONGPOLL_START,this._onChannelStart,this),e.off(hc.NOTICE_LONGPOLL_REQUEST_ARRIVED,this._onChannelRequestSuccess,this),e.off(hc.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,this._onChannelFail,this)}},{key:"_onChannelStart",value:function(){this.channelStatus.startTime=+new Date,this.channelStatus.status=Sc.CHANNEL_STATUS.ONLINE}},{key:"_onChannelRequestSuccess",value:function(){var e=this.tim.innerEmitter,t=Date.now(),n=t-(this.channelStatus.lastRequestTime>0?this.channelStatus.lastRequestTime:Date.now()+100),r=Dp(n<this.realtimeNoticeTimeout,n<this.channelMaxTimeout);switch(this.channelStatus.status=Sc.CHANNEL_STATUS.ONLINE,this.channelStatus.failCount=0,r){case"11":break;case"01":e.emit(hc.NOTICE_LONGPOLL_SOON_RECONNECT);break;case"00":e.emit(hc.NOTICE_LONGPOLL_LONG_RECONNECT)}this.channelStatus.lastRequestTime=t}},{key:"_onChannelFail",value:function(e){var t=this.tim.innerEmitter,n=Date.now();this.channelStatus.status=Sc.CHANNEL_STATUS.OFFLINE;var r=n-(0===this.channelStatus.offlineTime?this.channelStatus.lastRequestTime:this.channelStatus.offlineTime);this.channelStatus.offlineTime=n,this.channelStatus.failCount++,gs.log("_onChannelFail count : ".concat(this.channelStatus.failCount,"  time diff: ").concat(r,";")),this.channelStatus.failCount>5&&r<5e3&&(t.emit(hc.NOTICE_LONGPOLL_DISCONNECT),gs.error("Detected notice channel offline, please check your network!"))}}]),t}();function Rp(){return null}var Pp=function(){function e(t){sn(this,e),this.tim=t,this.isWX=Ua,this.storageQueue=new Map,this.checkTimes=0,this.checkTimer=setInterval(this._onCheckTimer.bind(this),1e3),this._errorTolerantHandle()}return ln(e,[{key:"_errorTolerantHandle",value:function(){!this.isWX&&Ss(window.localStorage)&&(this.getItem=Rp,this.setItem=Rp,this.removeItem=Rp,this.clear=Rp)}},{key:"_onCheckTimer",value:function(){if(this.checkTimes++,this.checkTimes%20==0){if(0===this.storageQueue.size)return;this._doFlush()}}},{key:"_doFlush",value:function(){try{var e=1,t=0,n=void 0;try{for(var r,i=this.storageQueue[Symbol.iterator]();!(e=(r=i.next()).done);e=1){var o=En(r.value,2),a=o[0],s=o[1];this.isWX?wx.setStorageSync(this._getKey(a),s):localStorage.setItem(this._getKey(a),JSON.stringify(s))}}catch(l){t=1,n=l}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.storageQueue.clear()}catch(hg){gs.warn("Storage._doFlush error",hg)}}},{key:"_getPrefix",value:function(){var e=this.tim.loginInfo,t=e.SDKAppID,n=e.identifier;return"TIM_".concat(t,"_").concat(n,"_")}},{key:"getItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=t?this._getKey(e):e;return this.isWX?wx.getStorageSync(n):JSON.parse(localStorage.getItem(n))}catch(hg){gs.warn("Storage.getItem error:",hg)}}},{key:"setItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(n){var i=r?this._getKey(e):e;this.isWX?wx.setStorageSync(i,t):localStorage.setItem(i,JSON.stringify(t))}else this.storageQueue.set(e,t)}},{key:"clear",value:function(){try{this.isWX?wx.clearStorageSync():localStorage.clear()}catch(hg){gs.warn("Storage.clear error:",hg)}}},{key:"removeItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=t?this._getKey(e):e;this.isWX?wx.removeStorageSync(n):localStorage.removeItem(n)}catch(hg){gs.warn("Storage.removeItem error:",hg)}}},{key:"getSize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b";try{var r={size:0,limitSize:5242880,unit:n};if(Object.defineProperty(r,"leftSize",{enumerable:1,get:function(){return r.limitSize-r.size}}),this.isWX&&(r.limitSize=1024*wx.getStorageInfoSync().limitSize),e)r.size=JSON.stringify(this.getItem(e)).length+this._getKey(e).length;else if(this.isWX){var i=wx.getStorageInfoSync(),o=i.keys;o.forEach(function(e){r.size+=JSON.stringify(wx.getStorageSync(e)).length+t._getKey(e).length})}else for(var a in localStorage)localStorage.hasOwnProperty(a)&&(r.size+=localStorage.getItem(a).length+a.length);return this._convertUnit(r)}catch(hg){gs.warn("Storage.getSize error:",hg)}}},{key:"_convertUnit",value:function(e){var t={},n=e.unit;for(var r in t.unit=n,e)"number"==typeof e[r]&&("kb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024):"mb"===n.toLowerCase()?t[r]=Math.round(e[r]/1024/1024):t[r]=e[r]);return t}},{key:"_getKey",value:function(e){return"".concat(this._getPrefix()).concat(e)}},{key:"reset",value:function(){this._doFlush(),this.checkTimes=0}}]),e}(),Op=n(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||0}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=0)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return 0;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,1),h){case 1:return c.fn.call(c.context),1;case 2:return c.fn.call(c.context,t),1;case 3:return c.fn.call(c.context,t,r),1;case 4:return c.fn.call(c.context,t,r,i),1;case 5:return c.fn.call(c.context,t,r,i,o),1;case 6:return c.fn.call(c.context,t,r,i,o,a),1}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,1),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,r);break;case 4:c[l].fn.call(c[l].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return 1},s.prototype.on=function(e,t,n){return o(this,e,t,n,0)},s.prototype.once=function(e,t,n){return o(this,e,t,n,1)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}),Lp=function(e){var t,n,r,i,o;return Vs(e.context)?(t="",n=0,r=0,i=0,o=1):(t=e.context.a2Key,n=e.context.tinyID,r=e.context.SDKAppID,i=e.context.contentType,o=e.context.apn),{platform:ac,websdkappid:oc,v:ic,a2:t,tinyid:n,sdkappid:r,contentType:i,apn:o,reqtime:function(){return+new Date}}},Np=function(){function e(t){sn(this,e),this.isReady=0,this.tim=t,this.context=t.context,this._initList(),this._updateWhenCTXIsReady()}return ln(e,[{key:"_updateWhenCTXIsReady",value:function(){this.tim.innerEmitter.on(hc.CONTEXT_UPDATED,this.update,this),this.tim.innerEmitter.on(hc.CONTEXT_RESET,this.reset,this)}},{key:"update",value:function(e){var t=e.context;this.context=t,this._initList()}},{key:"reset",value:function(e){this.context=e.data,this._initList()}},{key:"get",value:function(e){var t=e.name,n=e.action,r=e.param,i=e.tjgID;if(void 0===this.config[t])throw new rc({code:ec.NETWORK_PACKAGE_UNDEFINED,message:"".concat(tc.NETWORK_PACKAGE_UNDEFINED,": PackageConfig.").concat(t)});if(void 0===this.config[t][n])throw new rc({code:ec.NETWORK_PACKAGE_UNDEFINED,message:"".concat(tc.NETWORK_PACKAGE_UNDEFINED,": PackageConfig.").concat(t,".").concat(n)});var o=function e(t){if(0===Object.getOwnPropertyNames(t).length)return Object.create(null);var n=Array.isArray(t)?[]:Object.create(null),r="";for(var i in t)null!==t[i]?void 0!==t[i]?(r=an(t[i]),["string","number","function","boolean"].indexOf(r)>=0?n[i]=t[i]:n[i]=e(t[i])):n[i]=void 0:n[i]=null;return n}(this.config[t][n]);return o.requestData=this._initRequestData(r,o),o.encode=this._initEncoder(o),o.decode=this._initDecoder(o),i&&(o.queryString.tjg_id=i),o}},{key:"set",value:function(e){var t=e.key,n=e.value;if(0!=!!t){var r=t.split(".");r.length<=0||function e(t,n,r,i){var o=n[r];"object"===an(t[o])?e(t[o],n,r+1,i):t[o]=i}(this.config,r,0,n)}}},{key:"_initList",value:function(){var e;this.config={},this.config.accessLayer=(e=this.tim,{create:null,query:{serverName:lc.NAME.WEB_IM,cmd:lc.CMD.ACCESS_LAYER,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{platform:ac,identifier:e.loginInfo.identifier,usersig:e.loginInfo.userSig,contentType:e.loginInfo.contentType,apn:null!==e.context?e.context.apn:1,websdkappid:oc,v:ic},requestData:{}},update:null,delete:null}),this.config.login=function(e){return{create:null,query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.LOGIN,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{websdkappid:oc,v:ic,platform:ac,identifier:e.loginInfo.identifier,usersig:e.loginInfo.userSig,sdkappid:e.loginInfo.SDKAppID,accounttype:e.loginInfo.accountType,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{state:"Online"},keyMaps:{request:{tinyID:"tinyId"},response:{TinyId:"tinyID"}}},update:null,delete:null}}(this.tim),this.config.logout=function(e){return{create:null,query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.LOGOUT_ALL,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{websdkappid:oc,v:ic,platform:ac,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:"",sdkappid:null!==e.loginInfo?e.loginInfo.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:"",reqtime:+new Date/1e3},requestData:{}},update:null,delete:null}}(this.tim),this.config.longPollLogout=function(e){return{create:null,query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.LOGOUT_LONG_POLL,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{websdkappid:oc,v:ic,platform:ac,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}},requestData:{longPollID:""},keyMaps:{request:{longPollID:"LongPollingId"}}},update:null,delete:null}}(this.tim),this.config.profile=function(e){var t=Lp(e),n=lc.NAME.PROFILE,r=lc.CHANNEL.XHR,i=uc;return{query:{serverName:n,cmd:lc.CMD.PORTRAIT_GET,channel:r,protocol:i,method:"POST",queryString:t,requestData:{fromAccount:"",userItem:[]},keyMaps:{request:{toAccount:"To_Account",standardSequence:"StandardSequence",customSequence:"CustomSequence"}}},update:{serverName:n,cmd:lc.CMD.PORTRAIT_SET,channel:r,protocol:i,method:"POST",queryString:t,requestData:{fromAccount:"",profileItem:[{tag:Hc.NICK,value:""},{tag:Hc.GENDER,value:""},{tag:Hc.ALLOWTYPE,value:""},{tag:Hc.AVATAR,value:""}]}}}}(this.tim),this.config.group=function(e){var t={websdkappid:oc,v:ic,platform:ac,a2:null!==e.context&&e.context.a2Key?e.context.a2Key:void 0,tinyid:null!==e.context&&e.context.tinyID?e.context.tinyID:void 0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},n={request:{ownerID:"Owner_Account",userID:"Member_Account",newOwnerID:"NewOwner_Account",maxMemberNum:"MaxMemberCount",groupCustomField:"AppDefinedData",memberCustomField:"AppMemberDefinedData",groupCustomFieldFilter:"AppDefinedDataFilter_Group",memberCustomFieldFilter:"AppDefinedDataFilter_GroupMember",messageRemindType:"MsgFlag",userIDList:"MemberList",groupIDList:"GroupIdList",applyMessage:"ApplyMsg",muteTime:"ShutUpTime",joinOption:"ApplyJoinOption"},response:{GroupIdList:"groups",MsgFlag:"messageRemindType",AppDefinedData:"groupCustomField",AppMemberDefinedData:"memberCustomField",AppDefinedDataFilter_Group:"groupCustomFieldFilter",AppDefinedDataFilter_GroupMember:"memberCustomFieldFilter",InfoSeq:"infoSequence",MemberList:"members",GroupInfo:"groups",ShutUpUntil:"muteUntil",ApplyJoinOption:"joinOption"}};return{create:{serverName:lc.NAME.GROUP,cmd:lc.CMD.CREATE_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{type:Xt.GRP_PRIVATE,name:void 0,groupID:void 0,ownerID:e.loginInfo.identifier,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,memberList:void 0,groupCustomField:void 0},keyMaps:n},list:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_JOINED_GROUPS,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{userID:e.loginInfo.identifier,limit:void 0,offset:void 0,groupType:void 0,responseFilter:void 0},keyMaps:n},query:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_GROUP_INFO,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupIDList:void 0,responseFilter:void 0},keyMaps:n},getGroupMemberProfile:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_GROUP_MEMBER_INFO,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,userIDList:void 0,memberInfoFilter:void 0,memberCustomFieldFilter:void 0},keyMaps:{request:fn({},n.request,{userIDList:"Member_List_Account"}),response:n.response}},getGroupMemberList:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_GROUP_MEMBER_LIST,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,limit:0,offset:0,memberRoleFilter:void 0,memberInfoFilter:void 0},keyMaps:n},quitGroup:{serverName:lc.NAME.GROUP,cmd:lc.CMD.QUIT_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0}},changeGroupOwner:{serverName:lc.NAME.GROUP,cmd:lc.CMD.CHANGE_GROUP_OWNER,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,newOwnerID:void 0},keyMaps:n},destroyGroup:{serverName:lc.NAME.GROUP,cmd:lc.CMD.DESTROY_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0}},updateGroupProfile:{serverName:lc.NAME.GROUP,cmd:lc.CMD.MODIFY_GROUP_INFO,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,name:void 0,introduction:void 0,notification:void 0,avatar:void 0,maxMemberNum:void 0,joinOption:void 0,groupCustomField:void 0},keyMaps:{request:fn({},n.request,{groupCustomField:"AppDefinedData"}),response:n.response}},modifyGroupMemberInfo:{serverName:lc.NAME.GROUP,cmd:lc.CMD.MODIFY_GROUP_MEMBER_INFO,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,userID:void 0,messageRemindType:void 0,nameCard:void 0,role:void 0,memberCustomField:void 0,muteTime:void 0},keyMaps:n},addGroupMember:{serverName:lc.NAME.GROUP,cmd:lc.CMD.ADD_GROUP_MEMBER,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,silence:void 0,userIDList:void 0},keyMaps:n},deleteGroupMember:{serverName:lc.NAME.GROUP,cmd:lc.CMD.DELETE_GROUP_MEMBER,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,userIDList:void 0,reason:void 0},keyMaps:{request:{userIDList:"MemberToDel_Account"}}},searchGroupByID:{serverName:lc.NAME.GROUP,cmd:lc.CMD.SEARCH_GROUP_BY_ID,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupIDList:void 0,responseFilter:{groupBasePublicInfoFilter:["Type","Name","Introduction","Notification","FaceUrl","CreateTime","Owner_Account","LastInfoTime","LastMsgTime","NextMsgSeq","MemberNum","MaxMemberNum","ApplyJoinOption"]}},keyMaps:{request:{groupIDList:"GroupIdList"}}},applyJoinGroup:{serverName:lc.NAME.GROUP,cmd:lc.CMD.APPLY_JOIN_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},applyJoinAVChatRoom:{serverName:lc.NAME.BIG_GROUP_NO_AUTH,cmd:lc.CMD.APPLY_JOIN_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:{websdkappid:oc,v:ic,platform:ac,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.context.accountType:0},requestData:{groupID:void 0,applyMessage:void 0,userDefinedField:void 0},keyMaps:n},handleApplyJoinGroup:{serverName:lc.NAME.GROUP,cmd:lc.CMD.HANDLE_APPLY_JOIN_GROUP,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{groupID:void 0,applicant:void 0,handleAction:void 0,handleMessage:void 0,authentication:void 0,messageKey:void 0,userDefinedField:void 0},keyMaps:{request:{applicant:"Applicant_Account",handleAction:"HandleMsg",handleMessage:"ApprovalMsg",messageKey:"MsgKey"},response:{MsgKey:"messageKey"}}},deleteGroupSystemNotice:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.DELETE_GROUP_SYSTEM_MESSAGE,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{messageListToDelete:void 0},keyMaps:{request:{messageListToDelete:"DelMsgList",messageSeq:"MsgSeq",messageRandom:"MsgRandom"}}},getGroupPendency:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_GROUP_PENDENCY,channel:lc.CHANNEL.XHR,protocol:uc,queryString:t,requestData:{startTime:void 0,limit:void 0,handleAccount:void 0},keyMaps:{request:{handleAccount:"Handle_Account"}}}}}(this.tim),this.config.longPollID=function(e){return{create:{},query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.GET_LONG_POLL_ID,channel:lc.CHANNEL.XHR,protocol:uc,queryString:{websdkappid:oc,v:ic,platform:ac,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:+new Date/1e3},requestData:{},keyMaps:{response:{LongPollingId:"longPollingID"}}},update:{},delete:{}}}(this.tim),this.config.longPoll=function(e){var t={websdkappid:oc,v:ic,platform:ac,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,accounttype:null!==e.context?e.loginInfo.accountType:0,apn:null!==e.context?e.context.apn:1,reqtime:Math.ceil(+new Date/1e3)};return{create:{},query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.LONG_POLL,channel:lc.CHANNEL.AUTO,protocol:uc,queryString:t,requestData:{timeout:null,cookie:{notifySeq:0,noticeSeq:0,longPollingID:0}},keyMaps:{response:{C2cMsgArray:"C2CMessageArray",GroupMsgArray:"groupMessageArray",GroupTips:"groupTips",C2cNotifyMsgArray:"C2CNotifyMessageArray",ClientSeq:"clientSequence",MsgPriority:"messagePriority",NoticeSeq:"noticeSequence",MsgContent:"content",MsgType:"type",MsgBody:"elements",ToGroupId:"to",Desc:"description",Ext:"extension"}}},update:{},delete:{}}}(this.tim),this.config.applyC2C=function(e){var t=Lp(e),n=lc.NAME.FRIEND,r=lc.CHANNEL.XHR,i=uc;return{create:{serverName:n,cmd:lc.CMD.FRIEND_ADD,channel:r,protocol:i,queryString:t,requestData:{fromAccount:"",addFriendItem:[]}},get:{serverName:n,cmd:lc.CMD.GET_PENDENCY,channel:r,protocol:i,queryString:t,requestData:{fromAccount:"",pendencyType:"Pendency_Type_ComeIn"}},update:{serverName:n,cmd:lc.CMD.RESPONSE_PENDENCY,channel:r,protocol:i,queryString:t,requestData:{fromAccount:"",responseFriendItem:[]}},delete:{serverName:n,cmd:lc.CMD.DELETE_PENDENCY,channel:r,protocol:i,queryString:t,requestData:{fromAccount:"",toAccount:[],pendencyType:"Pendency_Type_ComeIn"}}}}(this.tim),this.config.friend=function(e){var t=Lp(e),n=lc.NAME.FRIEND,r=lc.CHANNEL.XHR,i=uc;return{get:{serverName:n,cmd:lc.CMD.FRIEND_GET_ALL,channel:r,protocol:i,method:"POST",queryString:t,requestData:{fromAccount:"",timeStamp:0,startIndex:0,getCount:100,lastStandardSequence:0,tagList:["Tag_Profile_IM_Nick","Tag_SNS_IM_Remark"]},keyMaps:{request:{},response:{}}},delete:{serverName:n,cmd:lc.CMD.FRIEND_DELETE,channel:r,protocol:i,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[],deleteType:"Delete_Type_Single"}}}}(this.tim),this.config.blacklist=function(e){var t=Lp(e);return{create:{serverName:lc.NAME.FRIEND,cmd:lc.CMD.ADD_BLACKLIST,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},get:{serverName:lc.NAME.FRIEND,cmd:lc.CMD.GET_BLACKLIST,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:"",startIndex:0,maxLimited:30,lastSequence:0}},delete:{serverName:lc.NAME.FRIEND,cmd:lc.CMD.DELETE_BLACKLIST,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:"",toAccount:[]}},update:{}}}(this.tim),this.config.c2cMessage=function(e){var t={platform:ac,websdkappid:oc,v:ic,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{fromAccount:"From_Account",toAccount:"To_Account",msgTimeStamp:"MsgTimeStamp",msgSeq:"MsgSeq",msgRandom:"MsgRandom",msgBody:"MsgBody",count:"MaxCnt",lastMessageTime:"LastMsgTime",messageKey:"MsgKey",peerAccount:"Peer_Account",data:"Data",description:"Desc",extension:"Ext",type:"MsgType",content:"MsgContent",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag"},response:{MsgContent:"content",MsgTime:"time",Data:"data",Desc:"description",Ext:"extension",MsgKey:"messageKey",MsgType:"type",MsgBody:"elements",Download_Flag:"downloadFlag"}};return{create:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.SEND_MESSAGE,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:"",msgTimeStamp:Math.ceil(+new Date/1e3),msgSeq:0,msgRandom:0,msgBody:[]},keyMaps:n},query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.GET_C2C_ROAM_MESSAGES,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{peerAccount:"",count:15,lastMessageTime:0,messageKey:""},keyMaps:n},update:null,delete:null}}(this.tim),this.config.groupMessage=function(e){var t={platform:ac,websdkappid:oc,v:ic,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},n={request:{to:"GroupId",extension:"Ext",data:"Data",description:"Desc",random:"Random",sequence:"ReqMsgSeq",count:"ReqMsgNumber",type:"MsgType",content:"MsgContent",elements:"MsgBody",sizeType:"Type",uuid:"UUID",imageUrl:"URL",fileUrl:"Url",remoteAudioUrl:"Url",remoteVideoUrl:"VideoUrl",thumbUUID:"ThumbUUID",videoUUID:"VideoUUID",videoUrl:"",downloadFlag:"Download_Flag",clientSequence:"ClientSeq"},response:{Random:"random",MsgTime:"time",MsgSeq:"sequence",ReqMsgSeq:"sequence",RspMsgList:"messageList",IsPlaceMsg:"isPlaceMessage",IsSystemMsg:"isSystemMessage",ToGroupId:"to",EnumFrom_AccountType:"fromAccountType",EnumTo_AccountType:"toAccountType",GroupCode:"groupCode",MsgFlag:"messageRemindType",MsgPriority:"messagePriority",MsgBody:"elements",MsgType:"type",MsgContent:"content",IsFinished:"complete",Download_Flag:"downloadFlag",ClientSeq:"clientSequence"}};return{create:{serverName:lc.NAME.GROUP,cmd:lc.CMD.SEND_GROUP_MESSAGE,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{groupID:"",fromAccount:e.loginInfo.identifier,random:0,clientSequence:0,msgBody:[]},keyMaps:n},query:{serverName:lc.NAME.GROUP,cmd:lc.CMD.GET_GROUP_ROAM_MESSAGES,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{groupID:"",count:15,sequence:""},keyMaps:n},update:null,delete:null}}(this.tim),this.config.conversation=function(e){var t={platform:ac,websdkappid:oc,v:ic,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1};return{query:{serverName:lc.NAME.RECENT_CONTACT,cmd:lc.CMD.GET_CONVERSATION_LIST,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,count:0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},pagingQuery:{serverName:lc.NAME.RECENT_CONTACT,cmd:lc.CMD.PAGING_GET_CONVERSATION_LIST,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:void 0,timeStamp:void 0,orderType:void 0},keyMaps:{request:{},response:{SessionItem:"conversations",ToAccount:"groupID",To_Account:"userID",UnreadMsgCount:"unreadCount",MsgGroupReadedSeq:"messageReadSeq"}}},delete:{serverName:lc.NAME.RECENT_CONTACT,cmd:lc.CMD.DELETE_CONVERSATION,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{fromAccount:e.loginInfo.identifier,toAccount:void 0,type:1,toGroupID:void 0},keyMaps:{request:{toGroupID:"ToGroupid"}}},setC2CMessageRead:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.SET_C2C_MESSAGE_READ,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{C2CMsgReaded:void 0},keyMaps:{request:{lastMessageTime:"LastedMsgTime"}}},setGroupMessageRead:{serverName:lc.NAME.GROUP,cmd:lc.CMD.SET_GROUP_MESSAGE_READ,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{groupID:void 0,messageReadSeq:void 0},keyMaps:{request:{messageReadSeq:"MsgReadedSeq"}}}}}(this.tim),this.config.syncMessage=function(e){var t={platform:ac,websdkappid:oc,v:ic,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return[Math.ceil(+new Date),Math.random()].join("")}};return{create:null,query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.GET_MESSAGES,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{cookie:"",syncFlag:0,needAbstract:1},keyMaps:{request:{fromAccount:"From_Account",toAccount:"To_Account",from:"From_Account",to:"To_Account",time:"MsgTimeStamp",sequence:"MsgSeq",random:"MsgRandom",elements:"MsgBody"},response:{MsgList:"messageList",SyncFlag:"syncFlag",To_Account:"to",From_Account:"from",ClientSeq:"clientSequence",MsgSeq:"sequence",NoticeSeq:"noticeSequence",NotifySeq:"notifySequence",MsgRandom:"random",MsgTimeStamp:"time",MsgContent:"content",ToGroupId:"groupID",MsgKey:"messageKey",GroupTips:"groupTips",MsgBody:"elements",MsgType:"type",C2CRemainingUnreadCount:"C2CRemainingUnreadList"}}},update:null,delete:null}}(this.tim),this.config.AVChatRoom=function(e){return{startLongPoll:{serverName:lc.NAME.BIG_GROUP_LONG_POLLING_NO_AUTH,cmd:lc.CMD.AVCHATROOM_LONG_POLL,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{websdkappid:oc,v:ic,platform:ac,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{USP:1,startSeq:1,holdTime:90,key:void 0},keyMaps:{request:{USP:"USP"},response:{ToGroupId:"groupID"}}}}}(this.tim),this.config.cosUpload=function(e){var t={platform:ac,websdkappid:oc,v:ic,a2:null!==e.context?e.context.a2Key:"",tinyid:null!==e.context?e.context.tinyID:0,sdkappid:null!==e.context?e.context.SDKAppID:0,contentType:null!==e.context?e.context.contentType:0,apn:null!==e.context?e.context.apn:1,reqtime:function(){return Date.now()}};return{create:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.FILE_UPLOAD,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{appVersion:"2.1",fromAccount:"",toAccount:"",sequence:0,time:function(){return Math.ceil(Date.now()/1e3)},random:function(){return Bs()},fileStrMd5:"",fileSize:"",serverVer:1,authKey:"",busiId:1,pkgFlag:1,sliceOffset:0,sliceSize:0,sliceData:"",contentType:"application/x-www-form-urlencoded"},keyMaps:{request:{},response:{}}},update:null,delete:null}}(this.tim),this.config.cosSig=function(e){var t={sdkappid:function(){return e.loginInfo.SDKAppID},identifier:function(){return e.loginInfo.identifier},userSig:function(){return e.context.userSig}};return{create:null,query:{serverName:lc.NAME.IM_COS_SIGN,cmd:lc.CMD.COS_SIGN,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:t,requestData:{cmd:"open_im_cos_svc",subCmd:"get_cos_token",duration:300,version:1},keyMaps:{request:{userSig:"usersig",subCmd:"sub_cmd",cmd:"cmd",duration:"duration",version:"version"},response:{expired_time:"expiredTime",bucket_name:"bucketName",session_token:"sessionToken",tmp_secret_id:"secretId",tmp_secret_key:"secretKey"}}},update:null,delete:null}}(this.tim),this.config.bigDataHallwayAuthKey=function(e){return{create:null,query:{serverName:lc.NAME.OPEN_IM,cmd:lc.CMD.BIG_DATA_HALLWAY_AUTH_KEY,channel:lc.CHANNEL.XHR,protocol:uc,method:"POST",queryString:{websdkappid:oc,v:ic,platform:ac,sdkappid:e.loginInfo.SDKAppID,accounttype:"792",apn:null!==e.context?e.context.apn:1,reqtime:function(){return+new Date}},requestData:{}}}}(this.tim),this.config.ssoEventStat=function(e){var t=null;return null!==e.context&&(t={sdkappid:e.context.SDKAppID,reqtime:Math.ceil(+new Date/1e3)}),{create:{serverName:lc.NAME.IM_OPEN_STAT,cmd:lc.CMD.TIM_WEB_REPORT,channel:lc.CHANNEL.AUTO,protocol:uc,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",platform:"platform",method:"method",time:"time",start:"start",end:"end",cost:"cost",status:"status",codeint:"code",message:"message",pointer:"pointer",text:"text",msgType:"msgtype",networkType:"networktype",startts:"startts",endts:"endts",timespan:"timespan"}}},query:{},update:{},delete:{}}}(this.tim),this.config.ssoSumStat=function(e){var t=null;return null!==e.context&&(t={sdkappid:e.context.SDKAppID,reqtime:Math.ceil(+new Date/1e3)}),{create:{serverName:lc.NAME.IM_OPEN_STAT,cmd:lc.CMD.TIM_WEB_REPORT,channel:lc.CHANNEL.AUTO,protocol:uc,queryString:t,requestData:{table:"",report:[]},keyMaps:{request:{table:"table",report:"report",SDKAppID:"sdkappid",version:"version",tinyID:"tinyid",userID:"userid",item:"item",lpID:"lpid",platform:"platform",networkType:"networktype",total:"total",successRate:"successrate",avg:"avg",timespan:"timespan",time:"time"}}},query:{},update:{},delete:{}}}(this.tim)}},{key:"_initRequestData",value:function(e,t){if(void 0===e)return mc(t.requestData,this._getRequestMap(t),this.tim);var n=t.requestData,r=Object.create(null);for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(r[i]="function"==typeof n[i]?n[i]():n[i],void 0===e[i])continue;r[i]=e[i]}return mc(r,this._getRequestMap(t),this.tim)}},{key:"_getRequestMap",value:function(e){if(e.keyMaps&&e.keyMaps.request&&Object.keys(e.keyMaps.request).length>0)return e.keyMaps.request}},{key:"_initEncoder",value:function(e){switch(e.protocol){case uc:return function(e){if("string"===an(e))try{return JSON.parse(e)}catch(hg){return e}return e};case sc:return function(e){return e};default:return function(e){return gs.warn("PackageConfig._initEncoder(), unknow response type, data: ",JSON.stringify(e)),e}}}},{key:"_initDecoder",value:function(e){switch(e.protocol){case uc:return function(e){if("string"===an(e))try{return JSON.parse(e)}catch(hg){return e}return e};case sc:return function(e){return e};default:return function(e){return gs.warn("PackageConfig._initDecoder(), unknow response type, data: ",e),e}}}}]),e}(),Bp={C2CMessageArray:1,groupMessageArray:1,groupTips:1,C2CNotifyMessageArray:1,profileModify:1,friendListMod:1},xp=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initialization(),n}return dn(t,wc),ln(t,[{key:"_initialization",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=0,this._syncMessagesFinished=0,this._isLongPoll=0,this._longPollID=0,this._noticeSequence=0,this._initializeListener(),this._runLoop=null,this._initShuntChannels()}},{key:"_initShuntChannels",value:function(){this._shuntChannels=Object.create(null),this._shuntChannels.C2CMessageArray=this._C2CMessageArrayChannel.bind(this),this._shuntChannels.groupMessageArray=this._groupMessageArrayChannel.bind(this),this._shuntChannels.groupTips=this._groupTipsChannel.bind(this),this._shuntChannels.C2CNotifyMessageArray=this._C2CNotifyMessageArrayChannel.bind(this),this._shuntChannels.profileModify=this._profileModifyChannel.bind(this),this._shuntChannels.friendListMod=this._friendListModChannel.bind(this)}},{key:"_C2CMessageArrayChannel",value:function(e,t,n){this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_NEW_C2C_NOTICE,{data:t,type:n})}},{key:"_groupMessageArrayChannel",value:function(e,t,n){this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_NEW_GROUP_MESSAGES,{data:t})}},{key:"_groupTipsChannel",value:function(e,t,n){switch(e){case 4:this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_NEW_GROUP_TIPS,{data:t});break;case 5:this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_NEW_GROUP_NOTICE,{data:{groupSystemNotices:t,type:n}});break;default:gs.warn("未知的群事件类型 Event:".concat(e))}}},{key:"_C2CNotifyMessageArrayChannel",value:function(e,t,n){this._isKickedoutNotice(t)?this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_MUTIPLE_DEVICE_KICKED_OUT):this._isSysCmdMsgNotify(t)&&this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_RECEIVE_SYSTEM_ORDERS)}},{key:"_profileModifyChannel",value:function(e,t,n){this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_PROFILE_MODIFIED,{data:t})}},{key:"_friendListModChannel",value:function(e,t,n){this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_NEW_FRIEND_MESSAGES,{data:t})}},{key:"_dispatchNotice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"poll";if(Ts(e))for(var n=this.tim.innerEmitter,r=null,i=null,o="",a="",s="",u=0,l=0,c=e.length;l<c;l++)u=(r=e[l]).event,o=Object.keys(r).find(function(e){return void 0!==Bp[e]}),Is(this._shuntChannels[o])?(i=r[o],this._updatenoticeSequence(i),this._shuntChannels[o](u,i,t)):(this._updatenoticeSequence(),a="".concat(ec.NOTICE_RUNLOOP_UNEXPECTED_CONDITION),s="".concat(tc.NOTICE_RUNLOOP_UNEXPECTED_CONDITION,": ").concat(u,", ").concat(o),n.emit(hc.ERROR_DETECTED,new rc({code:a,message:s,data:{payloadName:o,event:u}})),a="",s="")}},{key:"getLongPollID",value:function(){return this._longPollID}},{key:"_IAmReady",value:function(){this.triggerReady()}},{key:"reset",value:function(){this._noticeSequence=0,this._resetSync(),this.closeNoticeChannel()}},{key:"_resetSync",value:function(){this._syncOffset="",this._syncNoticeList=[],this._syncEventArray=[],this._syncMessagesIsRunning=0,this._syncMessagesFinished=0}},{key:"_setNoticeSeqInRequestData",value:function(e){e.Cookie.NoticeSeq=this._noticeSequence,this.tim.sumStatController.addTotalCount(Zc.LONG_POLLING)}},{key:"_updatenoticeSequence",value:function(e){if(e){var t=e[e.length-1].noticeSequence;!t||"number"!=typeof t||t<this._noticeSequence?this._noticeSequence++:this._noticeSequence=t}else this._noticeSequence++}},{key:"_initializeListener",value:function(){var e=this.tim.innerEmitter;e.on(hc.NOTICE_LONGPOLL_RESTART,this.restartNoticeChannel,this),e.on(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._startSyncMessages,this),e.on(hc.SYNC_MESSAGE_C2C_FINISHED,this.openNoticeChannel,this),e.on(hc.SIGN_LOGOUT_SUCCESS,this.closeNoticeChannel,this),e.on(hc.NOTICE_LONGPOLL_SOON_RECONNECT,this._onChannelReconnect,this),e.on(hc.NOTICE_LONGPOLL_DISCONNECT,this._onChannelDisconnected,this)}},{key:"openNoticeChannel",value:function(){gs.log("NotificationController.openNoticeChannel"),this._getLongPollID()}},{key:"closeNoticeChannel",value:function(){gs.log("NotificationController.closeNoticeChannel()"),(this._runLoop instanceof pd||this._runLoop instanceof gd)&&(this._runLoop.abort(),this._runLoop.stop()),this._longPollID=0,this._isLongPoll=0,this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_STOPPED),this.tim.outerEmitter.emit(zt.NOTICE_LONGPOLL_STOPPED)}},{key:"restartNoticeChannel",value:function(){this.closeNoticeChannel(),this._syncMessagesFinished=0,this._startSyncMessages()}},{key:"_getLongPollID",value:function(){var e=this,t=this.tim,n=t.innerEmitter,r=t.connectionController;if(0===this._longPollID){var i=this.createPackage({name:"longPollID",action:"query"});r.request(i).then(function(t){t.data.errorCode===Sc.REQUEST.SUCCESS?e._onGetLongPollIDSuccess({data:t.data.longPollingID}):e._onGetLongPollIDFail({data:t.data})}).catch(function(e){n.emit(hc.NOTICE_LONGPOLL_GETID_FAIL,e)})}else this._onGetLongPollIDSuccess({data:this._longPollID})}},{key:"_onGetLongPollIDSuccess",value:function(e){this.tim.packageConfig.set({key:"long_poll_logout.query.requestData.longPollingID",value:e.data}),this.tim.packageConfig.set({key:"longPoll.query.requestData.cookie.longPollingID",value:e.data}),this._longPollID=e.data,this._startLongPoll(),this._IAmReady(),this.tim.sumStatController.recordLongPollingID(this._longPollID)}},{key:"_onGetLongPollIDFail",value:function(e){gs.warn("Notification._onGetLongPollIDFail",e)}},{key:"_startLongPoll",value:function(){if(1!=this._isLongPoll){gs.log("NotificationController._startLongPoll...");var e=this.tim,t=e.connectionController,n=e.innerEmitter,r=this.createPackage({name:"longPoll",action:"query"});this._isLongPoll=1,n.emit(hc.NOTICE_LONGPOLL_START,{data:Date.now()}),this._runLoop=t.createRunLoop({pack:r,before:this._setNoticeSeqInRequestData.bind(this),success:this._onNoticeReceived.bind(this),fail:this._onNoticeFail.bind(this)}),this._runLoop.start()}else gs.log("NotificationController._startLongPoll is running...")}},{key:"_onChannelReconnect",value:function(e){this.closeNoticeChannel(),this.syncMessage()}},{key:"_onChannelDisconnected",value:function(){}},{key:"_onNoticeReceived",value:function(e){var t=this.tim,n=t.innerEmitter,r=t.statusController,i=e.data,o=!r.getChannelStatus();if(n.emit(hc.NOTICE_LONGPOLL_REQUEST_ARRIVED,{data:Date.now()}),i.errorCode!==Sc.REQUEST.SUCCESS){var a=new $c;if(a.setMethod(eh.LONG_POLLING_ERROR).setStart(),a.setMessage(i.errorInfo).setCode(i.errorCode).setNetworkType(this.getNetworkType()).setEnd(),i.errorCode===ec.LONG_POLL_KICK_OUT)return n.emit(hc.NOTICE_LONGPOLL_KICKED_OUT),gs.log("NotificationController._onNoticeReceived(), longPollingID was kicked"),void this.closeNoticeChannel();gs.log("NotificationController._onNoticeReceived(), error: ".concat(i.errorCode,", errorInfo: ").concat(i.errorInfo)),n.emit(hc.ERROR_DETECTED,{code:i.errorCode,message:i.errorInfo})}this.tim.sumStatController.addSuccessCount(Zc.LONG_POLLING),this.tim.sumStatController.addCost(Zc.LONG_POLLING,i.timecost),e.data.eventArray&&1!=o&&this._dispatchNotice(e.data.eventArray)}},{key:"_onNoticeFail",value:function(e){var t=new $c;t.setMethod(eh.LONG_POLLING_ERROR).setStart(),this.probeNetwork(function(n,r){t.setError(e.error,n,r).setEnd()}),this.tim.innerEmitter.emit(hc.ERROR_DETECTED,e.error),this.tim.innerEmitter.emit(hc.NOTICE_LONGPOLL_REQUEST_NOT_ARRIVED,{data:Date.now()})}},{key:"_isKickedoutNotice",value:function(e){return e[0].hasOwnProperty("kickoutMsgNotify")?1:0}},{key:"_isSysCmdMsgNotify",value:function(e){if(!e[0])return 0;var t=e[0];return Object.prototype.hasOwnProperty.call(t,"sysCmdMsgNotify")?1:0}},{key:"_startSyncMessages",value:function(e){1!=this._syncMessagesFinished&&this.syncMessage()}},{key:"syncMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.tim,i=r.connectionController,o=r.innerEmitter;this._syncMessagesIsRunning=1;var a=this.createPackage({name:"syncMessage",action:"query",param:{cookie:t,syncFlag:n}});i.request(a).then(function(t){var n=t.data;switch(Dp(n.cookie,n.syncFlag)){case"00":case"01":o.emit(hc.ERROR_DETECTED,{code:ec.NOTICE_RUNLOOP_OFFSET_LOST,message:tc.NOTICE_RUNLOOP_OFFSET_LOST});break;case"10":case"11":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),o.emit(hc.SYNC_MESSAGE_C2C_PROCESSING,{data:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e.syncMessage(n.cookie,n.syncFlag);break;case"12":n.eventArray&&e._dispatchNotice(n.eventArray,"sync"),e._syncNoticeList=e._syncNoticeList.concat(n.messageList),o.emit(hc.SYNC_MESSAGE_C2C_FINISHED,{data:n.messageList,C2CRemainingUnreadList:n.C2CRemainingUnreadList}),e._syncOffset=n.cookie,e._syncNoticeList=[],e._syncMessagesIsRunning=0,e._syncMessagesFinished=1}}).catch(function(t){e._syncMessagesIsRunning=0,gs.error("NotificationController.syncMessage() failed, error:",JSON.stringify(t))})}}]),t}(),Up=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e)))._initializeListener(),n}return dn(t,wc),ln(t,[{key:"_initializeMembers",value:function(e){this.expiredTimeLimit=300,this.appid=e.appid||"",this.bucketName=e.bucketName||"",this.expiredTimeOut=e.expiredTimeOut||this.expiredTimeLimit,this.region="ap-shanghai",this.cos=null,this.cosOptions={secretId:e.secretId,secretKey:e.secretKey,sessionToken:e.sessionToken,expiredTime:e.expiredTime},this._initUploaderMethod()}},{key:"_expiredTimer",value:function(){var e=this,t=setInterval(function(){Math.ceil(Date.now()/1e3)>=e.cosOptions.expiredTime-20&&(e._isReady=0,e._getAuthorizationKey(),clearInterval(t))},1e4)}},{key:"_initializeListener",value:function(){this.tim.innerEmitter.on(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,this._initialization,this)}},{key:"_initialization",value:function(){this._initCOSSDKPlugin(),this.COSSDK?(this._initializeMembers({}),this._getAuthorizationKey()):gs.warn("UploadController._initialization 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin")}},{key:"_getAuthorizationKey",value:function(){var e=this,t=Math.ceil(Date.now()/1e3),n=this.createPackage({name:"cosSig",action:"query",param:{duration:this.expiredTimeLimit}});this.tim.connectionController.request(n).then(function(n){var r=n.data.expiredTime-t;n.data.expiredTimeOut=r,gs.log("UploadController._getAuthorizationKey timeout=".concat(r,"s")),e._initializeMembers(n.data),e._expiredTimer(),e._initUploaderMethod()}).catch(function(e){gs.warn("UploadController._getAuthorizationKey. error:",e)})}},{key:"_initCOSSDKPlugin",value:function(){var e=Ua?"cos-wx-sdk":"cos-js-sdk";this.COSSDK=this.tim.getPlugin(e)}},{key:"_initUploaderMethod",value:function(){var e=this;this.appid&&(this.cos=Ua?new this.COSSDK({ForcePathStyle:1,getAuthorization:this._getAuthorization.bind(this)}):new this.COSSDK({getAuthorization:this._getAuthorization.bind(this)}),this._cosUploadMethod=Ua?function(t,n){e.cos.postObject(t,n)}:function(t,n){e.cos.uploadFiles(t,n)},this.triggerReady())}},{key:"_getAuthorization",value:function(e,t){t({TmpSecretId:this.cosOptions.secretId,TmpSecretKey:this.cosOptions.secretKey,XCosSecurityToken:this.cosOptions.sessionToken,ExpiredTime:this.cosOptions.expiredTime})}},{key:"uploadImage",value:function(e){if(!e.file)return Xc(new rc({code:ec.MESSAGE_IMAGE_SELECT_FILE_FIRST,message:tc.MESSAGE_IMAGE_SELECT_FILE_FIRST}));var t=this._checkImageType(e.file);if(1!=t)return t;var n=this._checkImageMime(e.file);if(1!=n)return n;var r=this._checkImageSize(e.file);return 1!=r?r:this.upload(e)}},{key:"_checkImageType",value:function(e){var t="";return t=Ua?e.url.slice(e.url.lastIndexOf(".")+1):e.files[0].name.slice(e.files[0].name.lastIndexOf(".")+1),Ed.indexOf(t.toLowerCase())>=0?1:Xc(new rc({coe:ec.MESSAGE_IMAGE_TYPES_LIMIT,message:tc.MESSAGE_IMAGE_TYPES_LIMIT}))}},{key:"_checkImageMime",value:function(e){return 1}},{key:"_checkImageSize",value:function(e){var t=0;return 0===(t=Ua?e.size:e.files[0].size)?Xc(new rc({code:ec.MESSAGE_FILE_IS_EMPTY,message:"".concat(tc.MESSAGE_FILE_IS_EMPTY)})):t<20971520?1:Xc(new rc({coe:ec.MESSAGE_IMAGE_SIZE_LIMIT,message:"".concat(tc.MESSAGE_IMAGE_SIZE_LIMIT)}))}},{key:"uploadFile",value:function(e){var t=null;return e.file?e.file.files[0].size>20971520?(t=new rc({code:ec.MESSAGE_FILE_SIZE_LIMIT,message:tc.MESSAGE_FILE_SIZE_LIMIT}),Xc(t)):0===e.file.files[0].size?(t=new rc({code:ec.MESSAGE_FILE_IS_EMPTY,message:"".concat(tc.MESSAGE_FILE_IS_EMPTY)}),Xc(t)):this.upload(e):(t=new rc({code:ec.MESSAGE_FILE_SELECT_FILE_FIRST,message:tc.MESSAGE_FILE_SELECT_FILE_FIRST}),Xc(t))}},{key:"uploadVideo",value:function(e){if(Ua)return e.file.videoFile.size>20971520?Xc(new rc({code:ec.MESSAGE_VIDEO_SIZE_LIMIT,message:"".concat(tc.MESSAGE_VIDEO_SIZE_LIMIT)})):0===e.file.videoFile.size?Xc(new rc({code:ec.MESSAGE_FILE_IS_EMPTY,message:"".concat(tc.MESSAGE_FILE_IS_EMPTY)})):-1===Cd.indexOf(e.file.videoFile.type)?Xc(new rc({code:ec.MESSAGE_VIDEO_TYPES_LIMIT,message:"".concat(tc.MESSAGE_VIDEO_TYPES_LIMIT)})):this.handleVideoUpload({file:e.file.videoFile})}},{key:"handleVideoUpload",value:function(e){var t=this;return new Promise(function(n,r){t.upload(e).then(function(e){n(e)}).catch(function(){t.upload(e).then(function(e){n(e)}).catch(function(){r(new rc({code:ec.MESSAGE_VIDEO_UPLOAD_FAIL,message:tc.MESSAGE_VIDEO_UPLOAD_FAIL}))})})})}},{key:"uploadAudio",value:function(e){return e.file?e.file.size>20971520?Xc(new rc({code:ec.MESSAGE_AUDIO_SIZE_LIMIT,message:"".concat(tc.MESSAGE_AUDIO_SIZE_LIMIT)})):0===e.file.size?Xc(new rc({code:ec.MESSAGE_FILE_IS_EMPTY,message:"".concat(tc.MESSAGE_FILE_IS_EMPTY)})):this.upload(e):Xc(new rc({code:ec.MESSAGE_AUDIO_UPLOAD_FAIL,message:tc.MESSAGE_AUDIO_UPLOAD_FAIL}))}},{key:"upload",value:function(e){var t=this;if(!Is(this._cosUploadMethod))return gs.warn("UploadController.upload 没有检测到上传插件，将无法发送图片、音频、视频、文件等类型的消息。详细请参考 https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#registerPlugin"),Xc(new rc({code:ec.COS_UNDETECTED,message:tc.COS_UNDETECTED}));var n=new $c;n.setMethod(eh.UPLOAD).setStart(),gs.time(Zc.UPLOAD);var r=Ua?e.file:e.file.files[0];return new Promise(function(i,o){var a=Ua?t._createCosOptionsWXMiniApp(e):t._createCosOptionsWeb(e),s=t;t._cosUploadMethod(a,function(e,a){var u=Object.create(null);if(a){if(t._isUploadError(a,e))return o(a.files[0].error),gs.warn("UploadController.upload failed, network error:".concat(a.files[0].error.error)),void n.setCode(ec.MESSAGE_FILE_UPLOAD_FAIL).setMessage(tc.MESSAGE_FILE_UPLOAD_FAIL).setEnd();u.fileName=r.name,u.fileSize=r.size,u.fileType=r.type.slice(r.type.indexOf("/")+1).toLowerCase(),u.location=Ua?a.Location:a.files[0].data.Location;var l=gs.timeEnd(Zc.UPLOAD),c=s._formatFileSize(r.size),h=s._formatSpeed(1e3*r.size/l),f="size=".concat(c,",time=").concat(l,"ms,speed=").concat(h);return gs.log("UploadController.upload success name=".concat(r.name,",").concat(f)),i(u),void n.setCode(0).setNetworkType(t.getNetworkType()).setText(f).setEnd()}n.setCode(ec.MESSAGE_FILE_UPLOAD_FAIL).setMessage(tc.MESSAGE_FILE_UPLOAD_FAIL).setEnd(),gs.warn("UploadController.upload failed, error:".concat(e)),o(e)})})}},{key:"_isUploadError",value:function(e,t){return Ua?t?1:0:null!==e.files[0].error?1:0}},{key:"_formatFileSize",value:function(e){return e<1024?e+"B":e<1048576?Math.floor(e/1024)+"KB":Math.floor(e/1048576)+"MB"}},{key:"_formatSpeed",value:function(e){return e<=1048576?(e/1024).toFixed(1)+"KB/s":(e/1048576).toFixed(1)+"MB/s"}},{key:"_createCosOptionsWeb",value:function(e){var t=this.tim.context.identifier;return{files:[{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"imfiles/".concat(t,"/").concat(e.to,"-").concat(Bs(9999999),"-").concat(e.file.files[0].name),Body:e.file.files[0]}],SliceSize:1048576,onProgress:function(t){if("function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(r){gs.warn("onProgress callback error:"),gs.error(r)}},onFileFinish:function(e,t,n){}}}},{key:"_createCosOptionsWXMiniApp",value:function(e){var t=this.tim.context.identifier,n=e.file.url;return{Bucket:"".concat(this.bucketName,"-").concat(this.appid),Region:this.region,Key:"imfiles/".concat(t,"/").concat(e.to,"-").concat(e.file.name),FilePath:n,onProgress:function(t){if(gs.log(JSON.stringify(t)),"function"==typeof e.onProgress)try{e.onProgress(t.percent)}catch(n){gs.warn("onProgress callback error:"),gs.error(n)}}}}}]),t}(),Gp=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).FILETYPE={SOUND:2106,FILE:2107,VIDEO:2113},n._bdh_download_server="grouptalk.c2c.qq.com",n._BDHBizID=10001,n._authKey="",n._expireTime=0,n.tim.innerEmitter.on(hc.CONTEXT_A2KEY_AND_TINYID_UPDATED,n._getAuthKey,An(n)),n}return dn(t,wc),ln(t,[{key:"_getAuthKey",value:function(){var e=this,t=this.createPackage({name:"bigDataHallwayAuthKey",action:"query"});this.tim.connectionController.request(t).then(function(t){t.data.authKey&&(e._authKey=t.data.authKey,e._expireTime=parseInt(t.data.expireTime))})}},{key:"_isFromOlderVersion",value:function(e){return 2!==e.content.downloadFlag?1:0}},{key:"parseElements",value:function(e,t){if(!Ts(e)||!t)return[];for(var n=[],r=null,i=0;i<e.length;i++)r=e[i],this._needParse(r)?n.push(this._parseElement(r,t)):n.push(e[i]);return n}},{key:"_needParse",value:function(e){return!this._isFromOlderVersion(e)||e.type!==Xt.MSG_AUDIO&&e.type!==Xt.MSG_FILE&&e.type!==Xt.MSG_VIDEO?0:1}},{key:"_parseElement",value:function(e,t){switch(e.type){case Xt.MSG_AUDIO:return this._parseAudioElement(e,t);case Xt.MSG_FILE:return this._parseFileElement(e,t);case Xt.MSG_VIDEO:return this._parseVideoElement(e,t)}}},{key:"_parseAudioElement",value:function(e,t){return e.content.url=this._genAudioUrl(e.content.uuid,t),e}},{key:"_parseFileElement",value:function(e,t){return e.content.url=this._genFileUrl(e.content.uuid,t,e.content.fileName),e}},{key:"_parseVideoElement",value:function(e,t){return e.content.url=this._genVideoUrl(e.content.uuid,t),e}},{key:"_genAudioUrl",value:function(e,t){return""===this._authKey?(gs.warn("BigDataHallwayController._genAudioUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.SOUND,"&openid=").concat(t,"&ver=0")}},{key:"_genFileUrl",value:function(e,t,n){return""===this._authKey?(gs.warn("BigDataHallwayController._genFileUrl no authKey!"),""):(n||(n="".concat(Math.floor(1e5*Math.random()),"-").concat(Date.now())),"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.FILE,"&openid=").concat(t,"&ver=0&filename=").concat(encodeURIComponent(n)))}},{key:"_genVideoUrl",value:function(e,t){return""===this._authKey?(gs.warn("BigDataHallwayController._genVideoUrl no authKey!"),""):"https://".concat(this._bdh_download_server,"/asn.com/stddownload_common_file?authkey=").concat(this._authKey,"&bid=").concat(this._BDHBizID,"&subbid=").concat(this.tim.context.SDKAppID,"&fileid=").concat(e,"&filetype=").concat(this.FILETYPE.VIDEO,"&openid=").concat(t,"&ver=0")}},{key:"reset",value:function(){this._authKey="",this.expireTime=0}}]),t}(),Fp={app_id:"",event_id:"",api_base:"https://pingtas.qq.com/pingd",prefix:"_mta_",version:"1.3.9",stat_share_app:0,stat_pull_down_fresh:0,stat_reach_bottom:0,stat_param:1};function Qp(){try{var e="s"+jp();return wx.setStorageSync(Fp.prefix+"ssid",e),e}catch(n){}}function jp(e){for(var t=[0,1,2,3,4,5,6,7,8,9],n=10;1<n;n--){var r=Math.floor(10*Math.random()),i=t[r];t[r]=t[n-1],t[n-1]=i}for(n=r=0;5>n;n++)r=10*r+t[n];return(e||"")+(r+"")+ +new Date}function Hp(){try{var e=getCurrentPages(),t="/";return 0<e.length&&(t=e.pop().__route__),t}catch(r){}}function Kp(){var e,t={dm:"wechat.apps.xx",url:encodeURIComponent(Hp()+Jp(Vp.Data.pageQuery)),pvi:"",si:"",ty:0};return t.pvi=((e=function(){try{return wx.getStorageSync(Fp.prefix+"auid")}catch(t){}}())||(e=function(){try{var t=jp();return wx.setStorageSync(Fp.prefix+"auid",t),t}catch(e){}}(),t.ty=1),e),t.si=function(){var e=function(){try{return wx.getStorageSync(Fp.prefix+"ssid")}catch(e){}}();return e||(e=Qp()),e}(),t}function Yp(){var e=function(){var e=wx.getSystemInfoSync();return{adt:encodeURIComponent(e.model),scl:e.pixelRatio,scr:e.windowWidth+"x"+e.windowHeight,lg:e.language,fl:e.version,jv:encodeURIComponent(e.system),tz:encodeURIComponent(e.platform)}}();return function(e){wx.getNetworkType({success:function(t){e(t.networkType)}})}(function(e){try{wx.setStorageSync(Fp.prefix+"ntdata",e)}catch(n){}}),e.ct=wx.getStorageSync(Fp.prefix+"ntdata")||"4g",e}function qp(){var e,t=Vp.Data.userInfo,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e+"="+t[e]);return t=n.join(";"),{r2:Fp.app_id,r4:"wx",ext:"v="+Fp.version+(null!==t&&""!==t?";ui="+encodeURIComponent(t):"")}}function Jp(e){if(!Fp.stat_param||!e)return"";e=function(e){if(1>Fp.ignore_params.length)return e;var t,n={};for(t in e)0<=Fp.ignore_params.indexOf(t)||(n[t]=e[t]);return n}(e);var t,n=[];for(t in e)n.push(t+"="+e[t]);return 0<n.length?"?"+n.join("&"):""}var Vp={App:{init:function(e){"appID"in e&&(Fp.app_id=e.appID),"eventID"in e&&(Fp.event_id=e.eventID),"statShareApp"in e&&(Fp.stat_share_app=e.statShareApp),"statPullDownFresh"in e&&(Fp.stat_pull_down_fresh=e.statPullDownFresh),"statReachBottom"in e&&(Fp.stat_reach_bottom=e.statReachBottom),"ignoreParams"in e&&(Fp.ignore_params=e.ignoreParams),"statParam"in e&&(Fp.stat_param=e.statParam),Qp();try{"lauchOpts"in e&&(Vp.Data.lanchInfo=e.lauchOpts,Vp.Data.lanchInfo.landing=1)}catch(n){}"autoReport"in e&&e.autoReport&&function(){var e=Page;Page=function(t){var n=t.onLoad;t.onLoad=function(e){n&&n.call(this,e),Vp.Data.lastPageQuery=Vp.Data.pageQuery,Vp.Data.pageQuery=e,Vp.Data.lastPageUrl=Vp.Data.pageUrl,Vp.Data.pageUrl=Hp(),Vp.Data.show=0,Vp.Page.init()},e(t)}}()}},Page:{init:function(){var e,t=getCurrentPages()[getCurrentPages().length-1];t.onShow&&(e=t.onShow,t.onShow=function(){if(1==Vp.Data.show){var t=Vp.Data.lastPageQuery;Vp.Data.lastPageQuery=Vp.Data.pageQuery,Vp.Data.pageQuery=t,Vp.Data.lastPageUrl=Vp.Data.pageUrl,Vp.Data.pageUrl=Hp()}Vp.Data.show=1,Vp.Page.stat(),e.apply(this,arguments)}),Fp.stat_pull_down_fresh&&t.onPullDownRefresh&&function(){var e=t.onPullDownRefresh;t.onPullDownRefresh=function(){Vp.Event.stat(Fp.prefix+"pulldownfresh",{url:t.__route__}),e.apply(this,arguments)}}(),Fp.stat_reach_bottom&&t.onReachBottom&&function(){var e=t.onReachBottom;t.onReachBottom=function(){Vp.Event.stat(Fp.prefix+"reachbottom",{url:t.__route__}),e.apply(this,arguments)}}(),Fp.stat_share_app&&t.onShareAppMessage&&function(){var e=t.onShareAppMessage;t.onShareAppMessage=function(){return Vp.Event.stat(Fp.prefix+"shareapp",{url:t.__route__}),e.apply(this,arguments)}}()},multiStat:function(e,t){if(1==t)Vp.Page.stat(e);else{var n=getCurrentPages()[getCurrentPages().length-1];n.onShow&&function(){var t=n.onShow;n.onShow=function(){Vp.Page.stat(e),t.call(this,arguments)}}()}},stat:function(e){if(""!=Fp.app_id){var t=[],n=qp();if(e&&(n.r2=e),e=[Kp(),n,Yp()],Vp.Data.lanchInfo){e.push({ht:Vp.Data.lanchInfo.scene}),Vp.Data.pageQuery&&Vp.Data.pageQuery._mta_ref_id&&e.push({rarg:Vp.Data.pageQuery._mta_ref_id});try{1==Vp.Data.lanchInfo.landing&&(n.ext+=";lp=1",Vp.Data.lanchInfo.landing=0)}catch(a){}}e.push({rdm:"/",rurl:0>=Vp.Data.lastPageUrl.length?Vp.Data.pageUrl+Jp(Vp.Data.lastPageQuery):encodeURIComponent(Vp.Data.lastPageUrl+Jp(Vp.Data.lastPageQuery))}),e.push({rand:+new Date}),n=0;for(var r=e.length;n<r;n++)for(var i in e[n])e[n].hasOwnProperty(i)&&t.push(i+"="+(void 0===e[n][i]?"":e[n][i]));wx.request({url:Fp.api_base+"?"+t.join("&").toLowerCase()})}}},Event:{stat:function(e,t){if(""!=Fp.event_id){var n=[],r=Kp(),i=qp();r.dm="wxapps.click",r.url=e,i.r2=Fp.event_id;var o,a=void 0===t?{}:t,s=[];for(o in a)a.hasOwnProperty(o)&&s.push(encodeURIComponent(o)+"="+encodeURIComponent(a[o]));for(a=s.join(";"),i.r5=a,a=0,i=(r=[r,i,Yp(),{rand:+new Date}]).length;a<i;a++)for(var u in r[a])r[a].hasOwnProperty(u)&&n.push(u+"="+(void 0===r[a][u]?"":r[a][u]));wx.request({url:Fp.api_base+"?"+n.join("&").toLowerCase()})}}},Data:{userInfo:null,lanchInfo:null,pageQuery:null,lastPageQuery:null,pageUrl:"",lastPageUrl:"",show:0}},Wp=Vp,zp=function(){function e(){sn(this,e),this.cache=[],this.MtaWX=null,this._init()}return ln(e,[{key:"report",value:function(e,t){var n=this;try{xa?window.MtaH5?(window.MtaH5.clickStat(e,t),this.cache.forEach(function(e){var t=e.name,r=e.param;window.MtaH5.clickStat(t,r),n.cache.shift()})):this.cache.push({name:e,param:t}):Ua&&(this.MtaWX?(this.MtaWX.Event.stat(e,t),this.cache.forEach(function(e){var t=e.name,r=e.param;n.MtaWX.stat(t,r),n.cache.shift()})):this.cache.push({name:e,param:t}))}catch(hg){}}},{key:"stat",value:function(){try{xa&&window.MtaH5?window.MtaH5.pgv():Ua&&this.MtaWX&&this.MtaWX.Page.stat()}catch(hg){}}},{key:"_init",value:function(){try{if(xa){window._mtac={autoReport:0};var e=document.createElement("script"),t=Qs();e.src="".concat(t,"//pingjs.qq.com/h5/stats.js?v2.0.4"),e.setAttribute("name","MTAH5"),e.setAttribute("sid","500690998"),e.setAttribute("cid","500691017");var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}else Ua&&(this.MtaWX=Wp,this.MtaWX.App.init({appID:"500690995",eventID:"500691014",autoReport:0,statParam:1}))}catch(hg){}}}]),e}(),Xp=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).tim=e,n.MTA=new zp,n._initListener(),n}return dn(t,wc),ln(t,[{key:"_initListener",value:function(){var e=this;this.tim.innerEmitter.on(hc.SDK_READY,function(){e.MTA.report("sdkappid",{value:e.tim.context.SDKAppID}),e.MTA.report("version",{value:cg.VERSION}),e.MTA.stat()})}}]),t}(),Zp=function(){function e(t){sn(this,e),this._table="timwebii",this._report=[]}return ln(e,[{key:"pushIn",value:function(e){gs.debug("SSOLogBody.pushIn",this._report.length,e),this._report.push(e)}},{key:"backfill",value:function(e){var t;Ts(e)&&0!==e.length&&(gs.debug("SSOLogBody.backfill",this._report.length,e.length),(t=this._report).unshift.apply(t,Cn(e)))}},{key:"getLogsNumInMemory",value:function(){return this._report.length}},{key:"isEmpty",value:function(){return 0===this._report.length}},{key:"_reset",value:function(){this._report.length=0,this._report=[]}},{key:"getTable",value:function(){return this._table}},{key:"getLogsInMemory",value:function(){var e=this._report.slice();return this._reset(),e}}]),e}(),$p=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).TAG="im-ssolog-event",n._reportBody=new Zp,n._version=Wt,n.MIN_THRESHOLD=20,n.MAX_THRESHOLD=100,n.WAITING_TIME=6e4,n.INTERVAL=2e4,n._timerID=0,n._resetLastReportTime(),n._startReportTimer(),n._retryCount=0,n.MAX_RETRY_COUNT=3,n.tim.innerEmitter.on(hc.SIGN_LOGIN_SUCCESS,n._onLoginSuccess,An(n)),n}return dn(t,wc),ln(t,[{key:"reportAtOnce",value:function(){gs.debug("EventStatController.reportAtOnce"),this._report()}},{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,0);Vs(n)||(gs.log("EventStatController._onLoginSuccess get ssolog in storage, nums="+n.length),n.forEach(function(t){e._reportBody.pushIn(t)}),t.removeItem(this.TAG,0))}},{key:"pushIn",value:function(e){e instanceof $c&&(e.setCommonInfo(this.tim.context.SDKAppID,this._version,this.tim.context.tinyID,this.tim.loginInfo.identifier,this.getPlatform()),this._reportBody.pushIn(e),this._reportBody.getLogsNumInMemory()>=this.MIN_THRESHOLD&&this._report())}},{key:"_resetLastReportTime",value:function(){this._lastReportTime=Date.now()}},{key:"_startReportTimer",value:function(){var e=this;this._timerID=setInterval(function(){Date.now()<e._lastReportTime+e.WAITING_TIME||e._reportBody.isEmpty()||e._report()},this.INTERVAL)}},{key:"_stopReportTimer",value:function(){this._timerID>0&&(clearInterval(this._timerID),this._timerID=0)}},{key:"_report",value:function(){var e=this;if(!this._reportBody.isEmpty()){var t=this._reportBody.getLogsInMemory(),n=this.createPackage({name:"ssoEventStat",action:"create",param:{table:this._reportBody.getTable(),report:t}});this.tim.connectionController.request(n).then(function(){e._resetLastReportTime(),e._retryCount>0&&(gs.debug("EventStatController.report retry success"),e._retryCount=0)}).catch(function(n){if(gs.warn("EventStatController.report, online:".concat(e.getNetworkType()," error:"),n),e._reportBody.backfill(t),e._reportBody.getLogsNumInMemory()>e.MAX_THRESHOLD||e._retryCount===e.MAX_RETRY_COUNT||0===e._timerID)return e._retryCount=0,void e._flushAtOnce();e._retryCount+=1})}}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,0),n=this._reportBody.getLogsInMemory();if(Vs(t))gs.log("EventStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,1,0);else{var r=n.concat(t);r.length>this.MAX_THRESHOLD&&(r=r.slice(0,this.MAX_THRESHOLD)),gs.log("EventStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,1,0)}}},{key:"reset",value:function(){gs.log("EventStatController.reset"),this._stopReportTimer(),this._report()}}]),t}(),eg="none",tg="online",ng=function(){function e(){sn(this,e),this._networkType="",this.maxWaitTime=3e3}return ln(e,[{key:"start",value:function(){var e=this;Ua?(wx.getNetworkType({success:function(t){e._networkType=t.networkType,t.networkType===eg?gs.warn("NetMonitor no network, please check!"):gs.info("NetMonitor networkType:".concat(t.networkType))}}),wx.onNetworkStatusChange(this._onWxNetworkStatusChange.bind(this))):this._networkType=tg}},{key:"_onWxNetworkStatusChange",value:function(e){this._networkType=e.networkType,e.isConnected?gs.info("NetMonitor networkType:".concat(e.networkType)):gs.warn("NetMonitor no network, please check!")}},{key:"probe",value:function(){var e=this;return new Promise(function(t,n){if(Ua)wx.getNetworkType({success:function(n){e._networkType=n.networkType,n.networkType===eg?(gs.warn("NetMonitor no network, please check!"),t(0,n.networkType)):(gs.info("NetMonitor networkType:".concat(n.networkType)),t(1,n.networkType))}});else{var r=new XMLHttpRequest,i=setTimeout(function(){gs.warn("NetMonitor fetch timeout. Probably no network, please check!"),r.abort(),e._networkType=eg,t(0,eg)},e.maxWaitTime);r.onreadystatechange=function(){4===r.readyState&&(clearTimeout(i),200===r.status||304===r.status?(this._networkType=tg,t(1,tg)):(gs.warn("NetMonitor fetch status:".concat(r.status,". Probably no network, please check!")),this._networkType=eg,t(0,eg)))},r.open("GET","".concat(Qs(),"//webim-1252463788.file.myqcloud.com/assets/test/speed.xml?random=").concat(Math.random())),r.send()}})}},{key:"getNetworkType",value:function(){return this._networkType}},{key:"reset",value:function(){this._networkType=""}}]),e}(),rg=function(){function e(t){var n=this;sn(this,e),Ts(t)?(this._map=new Map,t.forEach(function(e){n._map.set(e,[])})):gs.warn("AverageCalculator.constructor need keys")}return ln(e,[{key:"push",value:function(e,t){return!Ss(e)&&this._map.has(e)&&ys(t)?(this._map.get(e).push(t),1):0}},{key:"getSize",value:function(e){return Ss(e)||!this._map.has(e)?-1:this._map.get(e).length}},{key:"getAvg",value:function(e){if(Ss(e)||!this._map.has(e))return-1;var t=this._map.get(e),n=t.length;if(0===n)return 0;var r=0;return t.forEach(function(e){r+=e}),t.length=0,this._map.set(e,[]),parseInt(r/n)}},{key:"getMax",value:function(e){return Ss(e)||!this._map.has(e)?-1:Math.max.apply(null,this._map.get(e))}},{key:"getMin",value:function(e){return Ss(e)||!this._map.has(e)?-1:Math.min.apply(null,this._map.get(e))}},{key:"reset",value:function(){this._map.forEach(function(e){e.length=0})}}]),e}(),ig=function(){function e(t){var n=this;sn(this,e),Ts(t)?(this._map=new Map,t.forEach(function(e){n._map.set(e,{totalCount:0,successCount:0})})):gs.warn("SuccessRateCalculator.constructor need keys")}return ln(e,[{key:"addTotalCount",value:function(e){return Ss(e)||!this._map.has(e)?0:(this._map.get(e).totalCount+=1,1)}},{key:"addSuccessCount",value:function(e){return Ss(e)||!this._map.has(e)?0:(this._map.get(e).successCount+=1,1)}},{key:"getSuccessRate",value:function(e){if(Ss(e)||!this._map.has(e))return-1;var t=this._map.get(e);if(0===t.totalCount)return 1;var n=parseFloat((t.successCount/t.totalCount).toFixed(2));return t.totalCount=t.successCount=0,n}},{key:"getTotalCount",value:function(e){return Ss(e)||!this._map.has(e)?-1:this._map.get(e).totalCount}},{key:"reset",value:function(){this._map.forEach(function(e){e.totalCount=0,e.successCount=0})}}]),e}(),og=function(e){function t(e){var n;return sn(this,t),(n=yn(this,pn(t).call(this,e))).TABLE="timwebsum",n.TAG="im-ssolog-sumstat",n._items=[Zc.LONG_POLLING,Zc.LONG_POLLING_AV,Zc.SEND_MESSAGE],n._thresholdMap=new Map,n._thresholdMap.set(Zc.LONG_POLLING,100),n._thresholdMap.set(Zc.LONG_POLLING_AV,150),n._thresholdMap.set(Zc.SEND_MESSAGE,15),n._lpID="",n._platform=n.getPlatform(),n._lastReportTime=0,n._statInfoArr=[],n._retryCount=0,n._avgCalc=new rg(n._items),n._successRateCalc=new ig(n._items),n.tim.innerEmitter.on(hc.SIGN_LOGIN_SUCCESS,n._onLoginSuccess,An(n)),n}return dn(t,wc),ln(t,[{key:"_onLoginSuccess",value:function(){var e=this,t=this.tim.storage,n=t.getItem(this.TAG,0);Vs(n)||(gs.log("SumStatController._onLoginSuccess get sumstatlog in storage, nums="+n.length),n.forEach(function(t){e._statInfoArr.pushIn(t)}),t.removeItem(this.TAG,0))}},{key:"recordLongPollingID",value:function(e){this._lpID=e}},{key:"addTotalCount",value:function(e){this._successRateCalc.addTotalCount(e)?1===this._successRateCalc.getTotalCount(e)&&(this._lastReportTime=Date.now()):gs.warn("SumStatController.addTotalCount invalid key:",e)}},{key:"addSuccessCount",value:function(e){this._successRateCalc.addSuccessCount(e)||gs.warn("SumStatController.addSuccessCount invalid key:",e)}},{key:"addCost",value:function(e,t){this._avgCalc.push(e,t)?(gs.debug("SumStatController.addCost",e,t,this._avgCalc.getSize(e)),this._avgCalc.getSize(e)>=this._thresholdMap.get(e)&&this._report(e)):gs.warn("SumStatController.addCost invalid key or cost:",e,t)}},{key:"_getItemNum",value:function(e){switch(e){case Zc.LONG_POLLING:return 1;case Zc.LONG_POLLING_AV:return 2;case Zc.SEND_MESSAGE:return 3;default:return 100}}},{key:"_getStatInfo",value:function(e){var t=null;return this._avgCalc.getSize(e)>0&&(t={SDKAppID:"".concat(this.tim.context.SDKAppID),version:"".concat(Wt),tinyID:this.tim.context.tinyID,userID:this.tim.loginInfo.identifier,item:this._getItemNum(e),lpID:e===Zc.LONG_POLLING?this._lpID:"",platform:this._platform,networkType:this.getNetworkType(),total:this._successRateCalc.getTotalCount(e),successRate:this._successRateCalc.getSuccessRate(e),avg:this._avgCalc.getAvg(e),timespan:Date.now()-this._lastReportTime,time:Ls()}),t}},{key:"_report",value:function(e){var t=this,n=[],r=null;Ss(e)?this._items.forEach(function(e){null!==(r=t._getStatInfo(e))&&n.push(r)}):null!==(r=this._getStatInfo(e))&&n.push(r),gs.debug("SumStatController._report",n),this._statInfoArr.length>0&&(n=n.concat(this.statInfoArr),this._statInfoArr=[]),this._doReport(n)}},{key:"_doReport",value:function(e){var t=this;if(Vs(e))gs.warn("SumStatController._doReport statInfoArr is empty, do nothing");else{var n=this.createPackage({name:"ssoSumStat",action:"create",param:{table:this.TABLE,report:e}});this.tim.connectionController.request(n).then(function(){t._lastReportTime=Date.now(),t._retryCount>0&&(gs.debug("SumStatController._doReport retry success"),t._retryCount=0)}).catch(function(n){gs.warn("SumStatController._doReport, online:".concat(t.getNetworkType()," error:"),n,e),t._retryCount<=1?setTimeout(function(){gs.info("SumStatController._doReport retry",e),t._retryCount+=1,t._doReport(e)},5e3):(t._retryCount=0,t._statInfoArr=t._statInfoArr.concat(e),t._flusgAtOnce())})}}},{key:"_flushAtOnce",value:function(){var e=this.tim.storage,t=e.getItem(this.TAG,0),n=this._statInfoArr;if(Vs(t))gs.log("SumStatController._flushAtOnce nums="+n.length),e.setItem(this.TAG,n,1,0);else{var r=n.concat(t);r.length>10&&(r=r.slice(0,10)),gs.log("SumStatController._flushAtOnce nums="+r.length),e.setItem(this.TAG,r,1,0)}this._statInfoArr=[]}},{key:"reset",value:function(){gs.info("SumStatController.reset"),this._report(),this._avgCalc.reset(),this._successRateCalc.reset()}}]),t}(),ag=function(){function e(t){sn(this,e);var n=new $c;n.setMethod(eh.SDK_CONSTRUCT).setStart(),_c.mixin(this),this._initOptions(t),this._initMemberVariables(),this._initControllers(),this._initListener(),$c.bindController(this.eventStatController),n.setCode(0).setText("mp=".concat(Ua,"-ua=").concat(Ga)).setEnd(),gs.info("SDK inWxMiniApp:".concat(Ua,", SDKAppID:").concat(t.SDKAppID,", UserAgent:").concat(Ga))}return ln(e,[{key:"login",value:function(e){return gs.time(Zc.SDK_READY),this._ssoLog=new $c,this._ssoLog.setMethod(eh.SDK_READY).setStart(),this.netMonitor.start(),this.loginInfo.identifier=e.identifier||e.userID,this.loginInfo.userSig=e.userSig,this.signController.login(this.loginInfo)}},{key:"logout",value:function(){var e=this.signController.logout();return this.resetSDK(),e}},{key:"on",value:function(e,t,n){gs.debug("on","eventName:".concat(e)),this.outerEmitter.on(e,qs(t,n),n)}},{key:"once",value:function(e,t,n){gs.debug("once","eventName:".concat(e)),this.outerEmitter.once(e,t,n||this)}},{key:"off",value:function(e,t,n,r){gs.debug("off","eventName:".concat(e)),this.outerEmitter.off(e,t,n,r)}},{key:"registerPlugin",value:function(e){var t=this;this.plugins||(this.plugins={}),Object.keys(e).forEach(function(n){t.plugins[n]=e[n]})}},{key:"getPlugin",value:function(e){return this.plugins[e]||void 0}},{key:"setLogLevel",value:function(e){gs.setLevel(e)}},{key:"downloadLog",value:function(){var e=document.createElement("a"),t=new Date,n=new Blob(this.getLog());e.download="TIM-"+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+"-"+this.loginInfo.SDKAppID+"-"+this.context.identifier+".txt",e.href=URL.createObjectURL(n),e.click(),URL.revokeObjectURL(n)}},{key:"destroy",value:function(){this.logout(),this.outerEmitter.emit(zt.SDK_DESTROY,{SDKAppID:this.loginInfo.SDKAppID})}},{key:"createTextMessage",value:function(e){return this.messageController.createTextMessage(e)}},{key:"createImageMessage",value:function(e){return this.messageController.createImageMessage(e)}},{key:"createAudioMessage",value:function(e){return this.messageController.createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return this.messageController.createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){return this.messageController.createCustomMessage(e)}},{key:"createFaceMessage",value:function(e){return this.messageController.createFaceMessage(e)}},{key:"createFileMessage",value:function(e){return this.messageController.createFileMessage(e)}},{key:"sendMessage",value:function(e){return e instanceof $d?this.messageController.sendMessageInstance(e):Xc(new rc({code:ec.MESSAGE_SEND_NEED_MESSAGE_INSTANCE,message:tc.MESSAGE_SEND_NEED_MESSAGE_INSTANCE}))}},{key:"resendMessage",value:function(e){return this.messageController.resendMessage(e)}},{key:"getMessageList",value:function(e){return this.messageController.getMessageList(e)}},{key:"setMessageRead",value:function(e){return this.messageController.setMessageRead(e)}},{key:"getConversationList",value:function(){return this.conversationController.getConversationList()}},{key:"getConversationProfile",value:function(e){return this.conversationController.getConversationProfile(e)}},{key:"deleteConversation",value:function(e){return this.conversationController.deleteConversation(e)}},{key:"getMyProfile",value:function(){return this.userController.getMyProfile()}},{key:"getUserProfile",value:function(e){return this.userController.getUserProfile(e)}},{key:"updateMyProfile",value:function(e){return this.userController.updateMyProfile(e)}},{key:"getFriendList",value:function(){return this.userController.getFriendList()}},{key:"deleteFriend",value:function(e){return this.userController.deleteFriend(e)}},{key:"getBlacklist",value:function(){return this.userController.getBlacklist()}},{key:"addToBlacklist",value:function(e){return this.userController.addBlacklist(e)}},{key:"removeFromBlacklist",value:function(e){return this.userController.deleteBlacklist(e)}},{key:"getGroupList",value:function(e){return this.groupController.getGroupList(e)}},{key:"getGroupProfile",value:function(e){return this.groupController.getGroupProfile(e)}},{key:"createGroup",value:function(e){return this.groupController.createGroup(e)}},{key:"dismissGroup",value:function(e){return this.groupController.dismissGroup(e)}},{key:"updateGroupProfile",value:function(e){return this.groupController.updateGroupProfile(e)}},{key:"joinGroup",value:function(e){return this.groupController.joinGroup(e)}},{key:"quitGroup",value:function(e){return this.groupController.quitGroup(e)}},{key:"searchGroupByID",value:function(e){return this.groupController.searchGroupByID(e)}},{key:"changeGroupOwner",value:function(e){return this.groupController.changeGroupOwner(e)}},{key:"handleGroupApplication",value:function(e){return this.groupController.handleGroupApplication(e)}},{key:"setMessageRemindType",value:function(e){return this.groupController.setMessageRemindType(e)}},{key:"getGroupMemberList",value:function(e){return this.groupController.getGroupMemberList(e)}},{key:"getGroupMemberProfile",value:function(e){return this.groupController.getGroupMemberProfile(e)}},{key:"addGroupMember",value:function(e){return this.groupController.addGroupMember(e)}},{key:"deleteGroupMember",value:function(e){return this.groupController.deleteGroupMember(e)}},{key:"setGroupMemberMuteTime",value:function(e){return this.groupController.setGroupMemberMuteTime(e)}},{key:"setGroupMemberRole",value:function(e){return this.groupController.setGroupMemberRole(e)}},{key:"setGroupMemberNameCard",value:function(e){return this.groupController.setGroupMemberNameCard(e)}},{key:"setGroupMemberCustomField",value:function(e){return this.groupController.setGroupMemberCustomField(e)}},{key:"_initOptions",value:function(e){this.plugins={},this.loginInfo={SDKAppID:e.SDKAppID||null,accountType:Bs(),identifier:null,userSig:null},this.options={runLoopNetType:e.runLoopNetType||Fc,enablePointer:e.enablePointer||0}}},{key:"_initMemberVariables",value:function(){this.context=null,this.innerEmitter=new Op,this.outerEmitter=new Op,Wc(this.outerEmitter),this.packageConfig=new Np(this),this.storage=new Pp(this),this.netMonitor=new ng,this.outerEmitter._emit=this.outerEmitter.emit,this.outerEmitter.emit=function(e,t){var n=arguments[0],r=[n,{name:arguments[0],data:arguments[1]}];gs.debug("emit ".concat(n),r[1]),this.outerEmitter._emit.apply(this.outerEmitter,r)}.bind(this)}},{key:"_initControllers",value:function(){this.exceptionController=new yd(this),this.connectionController=new md(this),this.contextController=new bc(this),this.signController=new th(this),this.messageController=new Ep(this),this.conversationController=new op(this),this.userController=new Md(this),this.groupController=new Ip(this),this.notificationController=new xp(this),this.bigDataHallwayController=new Gp(this),this.statusController=new Mp(this),this.uploadController=new Up(this),this.eventStatController=new $p(this),this.sumStatController=new og(this),this.mtaReportController=new Xp(this),this._initReadyListener()}},{key:"_initListener",value:function(){var e=this;if(this.innerEmitter.on(hc.NOTICE_LONGPOLL_LONG_RECONNECT,this._onNoticeChannelReconnectedAfterLongTime,this),Ua&&"function"==typeof wx.onAppShow&&"function"==typeof wx.onAppHide){var t=null;wx.onAppHide(function(){(t=new $c).setMethod(eh.MP_HIDE_TO_SHOW).setStart()}),wx.onAppShow(function(){null!==t&&t.setCode(0).setNetworkType(e.netMonitor.getNetworkType()).setEnd()})}}},{key:"_initReadyListener",value:function(){for(var e=this,t=this.readyList,n=0,r=t.length;n<r;n++)this[t[n]].ready(function(){return e._readyHandle()})}},{key:"_onNoticeChannelReconnectedAfterLongTime",value:function(e){gs.log("reconnect after long time...",e),this.notificationController.closeNoticeChannel(),this.resetSDK(),this.login(this.loginInfo)}},{key:"resetSDK",value:function(){var e=this;this.initList.forEach(function(t){e[t].reset&&e[t].reset()}),this.netMonitor.reset(),this.storage.reset(),this.resetReady(),this._initReadyListener(),this.outerEmitter.emit(zt.SDK_NOT_READY)}},{key:"_readyHandle",value:function(){for(var e=this.readyList,t=1,n=0,r=e.length;n<r;n++)if(!this[e[n]].isReady()){t=0;break}if(t){var i=gs.timeEnd(Zc.SDK_READY);gs.warn("SDK is ready. cost=".concat(i,"ms")),this.triggerReady(),this.innerEmitter.emit(hc.SDK_READY),this.outerEmitter.emit(zt.SDK_READY),this._ssoLog.setCode(0).setNetworkType(this.netMonitor.getNetworkType()).setText(i).setEnd()}}}]),e}();ag.prototype.readyList=["conversationController"],ag.prototype.initList=["exceptionController","connectionController","signController","contextController","messageController","conversationController","userController","groupController","notificationController","eventStatController","sumStatController"];var sg={login:"login",on:"on",off:"off",ready:"ready",setLogLevel:"setLogLevel",joinGroup:"joinGroup",quitGroup:"quitGroup",registerPlugin:"registerPlugin"};function ug(e,t,n){if(e||void 0!==sg[t])return 1;n.innerEmitter.emit(hc.ERROR_DETECTED,new rc({code:ec.SDK_IS_NOT_READY,message:"".concat(tc.SDK_IS_NOT_READY," ").concat(t)}))}var lg={},cg={create:function(e){if(e.SDKAppID&&lg[e.SDKAppID])return lg[e.SDKAppID];gs.log("TIM.create");var t=new ag(e);t.on(zt.SDK_DESTROY,function(e){lg[e.data.SDKAppID]=null,delete lg[e.data.SDKAppID]});var n=function(e){var t=Object.create(null);return Object.keys(Zs).forEach(function(n){if(e[n]){var r=Zs[n],i=new _n;t[r]=function(){var t=Array.from(arguments);return i.use(function(t,r){if(ug(e.isReady(),n,e))return r()}).use(function(e,t){if(1==Ws(e,Xs[n],r))return t()}).use(function(t,r){return e[n].apply(e,t)}),i.run(t)}}}),t}(t);return lg[e.SDKAppID]=n,gs.log("TIM.create ok"),n}};return cg.TYPES=Xt,cg.EVENT=zt,cg.VERSION=Wt,gs.log("TIM.VERSION: ".concat(cg.VERSION)),cg})}).call(this,n("c8ba"))},e263:function(e,t,n){var r=n("03e2"),i={},o=function(e,t){i[t]=e[t],e[t]=function(e,n){e.SkipTask?i[t].call(this,e,n):this._addTask(t,e,n)}},a=function(e){var t=[],n={},o=0,a=0,s=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),e._custom&&(t._custom=e._custom),t},u=function(){var n,i=function(){n=0,e.emit("task-list-update",{list:r.map(t,s)}),e.emit("list-update",{list:r.map(t,s)})};return function(){n||(n=setTimeout(i))}}(),l=function(){if(!(t.length<=e.options.UploadQueueSize)){for(var r=0;r<a&&r<t.length&&t.length>e.options.UploadQueueSize;){var i="waiting"===t[r].state||"checking"===t[r].state||"uploading"===t[r].state;t[r]&&i?r++:(n[t[r].id]&&delete n[t[r].id],t.splice(r,1),a--)}u()}},c=function(){if(!(o>=e.options.FileParallelLimit)){while(t[a]&&"waiting"!==t[a].state)a++;if(!(a>=t.length)){var n=t[a];a++,o++,n.state="checking",n.params.onTaskStart&&n.params.onTaskStart(s(n)),!n.params.UploadData&&(n.params.UploadData={});var h=r.formatParams(n.api,n.params);i[n.api].call(e,h,function(t,r){e._isRunningTask(n.id)&&("checking"!==n.state&&"uploading"!==n.state||(n.state=t?"error":"success",t&&(n.error=t),o--,u(),c(),n.callback&&n.callback(t,r),"success"===n.state&&(n.params&&(delete n.params.UploadData,delete n.params.Body,delete n.params),delete n.callback)),l())}),u(),setTimeout(c)}}},h=function(t,r){var i=n[t];if(i){var a=i&&"waiting"===i.state,s=i&&("checking"===i.state||"uploading"===i.state);if("canceled"===r&&"canceled"!==i.state||"paused"===r&&a||"paused"===r&&s){if("paused"===r&&i.params.Body&&"function"===typeof i.params.Body.pipe)return;i.state=r,e.emit("inner-kill-task",{TaskId:t,toState:r}),u(),s&&(o--,c()),"canceled"===r&&(i.params&&(delete i.params.UploadData,delete i.params.Body,delete i.params),delete i.callback)}l()}};e._addTasks=function(t){r.each(t,function(t){e._addTask(t.api,t.params,t.callback,!0)}),u()};e._addTask=function(i,o,a,s){o=r.formatParams(i,o);var h=r.uuid();o.TaskId=h,o.onTaskReady&&o.onTaskReady(h),o.TaskReady&&(o.TaskReady(h),!1);var f={params:o,callback:a,api:i,index:t.length,id:h,Bucket:o.Bucket,Region:o.Region,Key:o.Key,FilePath:o.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:o._custom},d=o.onHashProgress;o.onHashProgress=function(t){e._isRunningTask(f.id)&&(f.hashPercent=t.percent,d&&d(t),u())};var p=o.onProgress;return o.onProgress=function(t){e._isRunningTask(f.id)&&("checking"===f.state&&(f.state="uploading"),f.loaded=t.loaded,f.speed=t.speed,f.percent=t.percent,p&&p(t),u())},r.getFileSize(i,o,function(e,r){e?a(e):(n[h]=f,t.push(f),f.size=r,!s&&u(),c(),l())}),h},e._isRunningTask=function(e){var t=n[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return r.map(t,s)},e.cancelTask=function(e){var t=("string"===typeof e?{id:e}:e)||{};h(e,"canceled",t.IgnoreListUpdate)},e.pauseTask=function(e){var t=("string"===typeof e?{id:e}:e)||{};h(e,"paused",t.IgnoreListUpdate)},e.restartTask=function(e){var t=("string"===typeof e?{id:e}:e)||{},r=n[e];!r||"paused"!==r.state&&"error"!==r.state||(r.state="waiting",t&&u(),a=0,c())},e.isUploadRunning=function(){return o||a<t.length}};e.exports.transferToTaskMethod=o,e.exports.init=a},e647:function(e,t,n){"use strict";e.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},eec7:function(e,t,n){"use strict";var r=n("be09"),i=n("8362"),o=n("6444"),a=n("53a8");function s(e,t){for(var n=0;n<e.length;n++)t(e[n])}function u(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e,t,n){var r=e;return i(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function c(e,t,n){return t=l(e,t,n),h(t)}function h(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){4===d.readyState&&setTimeout(s,0)}function i(){var e=void 0;if(e=d.response?d.response:d.responseText||f(d),E)try{e=JSON.parse(e)}catch(t){}return e}function a(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,C)}function s(){if(!h){var t;clearTimeout(p),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var r=C,a=null;return 0!==t?(r={body:i(),statusCode:t,method:m,headers:{},url:g,rawRequest:d},d.getAllResponseHeaders&&(r.headers=o(d.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,r,r.body)}}var l,h,d=e.xhr||null;d||(d=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var p,g=d.url=e.uri||e.url,m=d.method=e.method||"GET",v=e.body||e.data,A=d.headers=e.headers||{},y=!!e.sync,E=!1,C={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:d};if("json"in e&&!1!==e.json&&(E=!0,A["accept"]||A["Accept"]||(A["Accept"]="application/json"),"GET"!==m&&"HEAD"!==m&&(A["content-type"]||A["Content-Type"]||(A["Content-Type"]="application/json"),v=JSON.stringify(!0===e.json?v:e.json))),d.onreadystatechange=r,d.onload=s,d.onerror=a,d.onprogress=function(){},d.onabort=function(){h=!0},d.ontimeout=a,d.open(m,g,!y,e.username,e.password),y||(d.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(p=setTimeout(function(){if(!h){h=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)}},e.timeout)),d.setRequestHeader)for(l in A)A.hasOwnProperty(l)&&d.setRequestHeader(l,A[l]);else if(e.headers&&!u(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(d),d.send(v||null),d}function f(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function d(){}e.exports=c,c.XMLHttpRequest=r.XMLHttpRequest||d,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,s(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,n,r){return n=l(t,n,r),n.method=e.toUpperCase(),h(n)}})},ef34:function(e,t,n){(function(t){var r,i="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},o=n(1);"undefined"!==typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o)),e.exports=r}).call(this,n("c8ba"))},f201:function(e,t,n){var r=n("e4ae"),i=n("79aa"),o=n("5168")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},f97d:function(e,t){var n={"":!0,up:!0};function r(e){if("string"!==typeof e)return!1;var t=n[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){return"number"===typeof e&&e>=0&&e<=100}function o(){var e=100,t=3,n=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=r(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}e.exports=o},fbd0:function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},o=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},a=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},s=function(e,t,n){return unescape(a(e,t,n))},u=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],i=(16&r)>>4;return i?n+20:n+10},l=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,i=6144&e[t+3];return i|r|n},c=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},h=function(e){var t=0;while(t+5<e.length){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},f=function(e){var t,n,r,i;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if(n=o(e.subarray(t+4,t+8)),n<1)return null;if(i=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===i){r=e.subarray(t+10,t+n+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){var u=s(r,0,a);if("com.apple.streaming.transportStreamTimestamp"===u){var l=r.subarray(a+1),c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return c*=4,c+=3&l[7],c}break}}t+=10,t+=n}while(t<e.byteLength);return null};e.exports={isLikelyAacData:i,parseId3TagSize:u,parseAdtsSize:l,parseType:c,parseSampleRate:h,parseAacTimestamp:f}},fc85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){i(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,i=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(i=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,i)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();t["default"]=o},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe90:function(e,t,n){"use strict";n.r(t);n("34ef"),n("55dd"),n("7f7f"),n("386d"),n("4917"),n("6b54"),n("3b2b"),n("a481");window.webim={login:function(e,t,n){},syncMsgs:function(e,t){},getC2CHistoryMsgs:function(e,t,n){},syncGroupMsgs:function(e,t,n){},sendMsg:function(e,t,n){},logout:function(e,t){},setAutoRead:function(e,t,n){},getProfilePortrait:function(e,t,n){},setProfilePortrait:function(e,t,n){},applyAddFriend:function(e,t,n){},getPendency:function(e,t,n){},deletePendency:function(e,t,n){},responseFriend:function(e,t,n){},getAllFriend:function(e,t,n){},deleteFriend:function(e,t,n){},addBlackList:function(e,t,n){},getBlackList:function(e,t,n){},deleteBlackList:function(e,t,n){},uploadPic:function(e,t,n){},createGroup:function(e,t,n){},applyJoinGroup:function(e,t,n){},handleApplyJoinGroup:function(e,t,n){},deleteApplyJoinGroupPendency:function(e,t,n){},quitGroup:function(e,t,n){},getGroupPublicInfo:function(e,t,n){},getGroupInfo:function(e,t,n){},modifyGroupBaseInfo:function(e,t,n){},destroyGroup:function(e,t,n){},getJoinedGroupListHigh:function(e,t,n){},getGroupMemberInfo:function(e,t,n){},addGroupMember:function(e,t,n){},modifyGroupMember:function(e,t,n){},forbidSendMsg:function(e,t,n){},deleteGroupMember:function(e,t,n){},sendCustomGroupNotify:function(e,t,n){},Msg:function(e,t,n,r,i,o,a,s){},MsgStore:{sessMap:function(){return{}},sessCount:function(){return 0},sessByTypeId:function(e,t){return{}},delSessByTypeId:function(e,t){return!0},resetCookieAndSyncFlag:function(){}}},function(e){var t={VERSION:"1.6.0",APPID:"537047540"},n=!0,r={FORMAL:{COMMON:"https://webim.tim.qq.com",PIC:"https://pic.tim.qq.com",BIG_GROUP:"https://webapi.tim.qq.com"},TEST:{COMMON:"https://test.tim.qq.com",PIC:"https://pic.tim.qq.com",BIG_GROUP:"https://test.tim.qq.com"}},i={},o=!1,a={OPEN_IM:"openim",GROUP:"group_open_http_svc",FRIEND:"sns",PROFILE:"profile",PIC:"openpic",BIG_GROUP:"group_open_http_noauth_svc",BIG_GROUP_LONG_POLLING:"group_open_long_polling_http_noauth_svc",IM_OPEN_STAT:"imopenstat"},s={openim:"v4",group_open_http_svc:"v3",sns:"v3",profile:"v3",openpic:"v4",group_open_http_noauth_svc:"v1",group_open_long_polling_http_noauth_svc:"v1",imopenstat:"v4"},u={login:1,pic_up:3,apply_join_group:9,create_group:10,longpolling:18,send_group_msg:19,sendmsg:20},l={C2C:"C2C",GROUP:"GROUP"},c={C2C:12e3,GROUP:8898},h={OK:"OK",FAIL:"FAIL"},f=99999,d={TEXT:"TIMTextElem",FACE:"TIMFaceElem",IMAGE:"TIMImageElem",CUSTOM:"TIMCustomElem",SOUND:"TIMSoundElem",FILE:"TIMFileElem",LOCATION:"TIMLocationElem",GROUP_TIP:"TIMGroupTipElem"},p={ORIGIN:1,LARGE:2,SMALL:3},g={BUSSINESS_ID:"10001",AUTH_KEY:"617574686b6579",SERVER_IP:"182.140.186.147"},m={SOUND:2106,FILE:2107},v={C2C:1,GROUP_COMMON:3,GROUP_TIP:4,GROUP_SYSTEM:5,GROUP_TIP2:6,FRIEND_NOTICE:7,PROFILE_NOTICE:8},A={COMMON:0},y={COMMON:0,LOVEMSG:1,TIP:2,REDPACKET:3},E={REDPACKET:1,COMMON:2,LOVEMSG:3},C={JOIN:1,QUIT:2,KICK:3,SET_ADMIN:4,CANCEL_ADMIN:5,MODIFY_GROUP_INFO:6,MODIFY_MEMBER_INFO:7},_={FACE_URL:1,NAME:2,OWNER:3,NOTIFICATION:4,INTRODUCTION:5},T={JOIN_GROUP_REQUEST:1,JOIN_GROUP_ACCEPT:2,JOIN_GROUP_REFUSE:3,KICK:4,DESTORY:5,CREATE:6,INVITED_JOIN_GROUP_REQUEST:7,QUIT:8,SET_ADMIN:9,CANCEL_ADMIN:10,REVOKE:11,CUSTOM:255},S={FRIEND_ADD:1,FRIEND_DELETE:2,PENDENCY_ADD:3,PENDENCY_DELETE:4,BLACK_LIST_ADD:5,BLACK_LIST_DELETE:6,PENDENCY_REPORT:7,FRIEND_UPDATE:8},w={PROFILE_MODIFY:1},I={OK:0,SIGNATURE_EXPIRATION:11},b={INIT:-1,ON:0,RECONNECT:1,OFF:9999},D={GROUP_MSG:1,C2C_MSG:2,USER_HEAD:3,GROUP_HEAD:4},k={ING:14,STOP:15},M=15e3,R=10,P=b.INIT,O=!1,L=0,N=12e4,B=5e3,x=60008,U=0,G=10,F=0,Q=null,j=null,H=0,K={sdkAppID:null,appIDAt3rd:null,accountType:null,identifier:null,tinyid:null,identifierNick:null,userSig:null,a2:null,contentType:"json",apn:1},Y={},q=0,J={},V=0,W=[],z=[],X=20,Z=[],$={"[惊讶]":0,"[撇嘴]":1,"[色]":2,"[发呆]":3,"[得意]":4,"[流泪]":5,"[害羞]":6,"[闭嘴]":7,"[睡]":8,"[大哭]":9,"[尴尬]":10,"[发怒]":11,"[调皮]":12,"[龇牙]":13,"[微笑]":14,"[难过]":15,"[酷]":16,"[冷汗]":17,"[抓狂]":18,"[吐]":19,"[偷笑]":20,"[可爱]":21,"[白眼]":22,"[傲慢]":23,"[饿]":24,"[困]":25,"[惊恐]":26,"[流汗]":27,"[憨笑]":28,"[大兵]":29,"[奋斗]":30,"[咒骂]":31,"[疑问]":32,"[嘘]":33,"[晕]":34},ee={0:["[惊讶]","data:image/gif;base64,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"],1:["[撇嘴]","data:image/gif;base64,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"],2:["[色]","data:image/gif;base64,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"],3:["[发呆]","data:image/gif;base64,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"],4:["[得意]","data:image/gif;base64,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"],5:["[流泪]","data:image/gif;base64,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"],6:["[害羞]","data:image/gif;base64,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"],7:["[闭嘴]","data:image/gif;base64,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"],8:["[睡]","data:image/gif;base64,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"],9:["[大哭]","data:image/gif;base64,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"],10:["[尴尬]","data:image/gif;base64,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"],11:["[发怒]","data:image/gif;base64,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"],12:["[调皮]","data:image/gif;base64,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"],13:["[龇牙]","data:image/gif;base64,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"],14:["[微笑]","data:image/gif;base64,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"],15:["[难过]","data:image/gif;base64,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"],16:["[酷]","data:image/gif;base64,R0lGODlhGAAYAPf/ANWiOtWkVP60Dv/89v/cOvjGMP+5E//XNf/1beXEav/wXdnUz//VMbhrEv/wX2loS/+7FDIsDf/GIOSXCv/aOf/DHf/tV//pT//9sf/ePf/AGv/FIP/+0P/6lf/KJf/4e//5iP/3eP/3d//dPf/EH//9uQ4LA9ShMtSfLP7hRf/gQf3dQ/7dP97bgv/TLv/PK//LKdXHSvfGK/y1Ef2xDPGsEtSmRvCjC9ilGdqOC5+SM7+HEnJuNmZjLmZaGxgUBdfRzP/fRf/lR6WclKpSBr5pCdfSzf/sU//RLf/qUP/mSL2Xdern5OPf3NzX0/////v6+t3Y1I5lQf/iQv/LJv/oTP/pTf/oTf+3EP/xX//uV8t+CPe8N9LFuFdXR65wLPncnOG/jOrj3NOYEPWyEs2sg+fe0P+/GcKKPlpZNv/ePr13FKxtJfbEL/XBS5SMhffIW8iQPvry50g4CYV+ePW3KeGgIe24SyQiDLiESfzw1suJGqdgEMyLIu7CUntvI86ACP/7mzkyDqhdCf/hQrSAR/jbmrd7MvPesOC0N++zMPjKX/fKZ/3XOcivltiVFf/TMOnIkfOpDYczAPTy8bmIU5OQTruRZcCXZ/Du7PbGWczHbdmYIZyTOv38/P79/Pi3GvnEJfvhpfzlr65mD//MJ+afELFzK+HZZuWmJvvLMPrNN/zPNP346/C/JMJ8FP/+x+ro5cWebdWOEfbYmfHIWG9tRv//197Z1d/a1v7IJXVwMmZeIPfBReCfJMeCFvuvDP7nT+jl4t2cH/3fRMmphu65Nu3HU/W5M/SnC/CwH86EDr1/Lv/2dGZgJrNvGtixa+Tg3ebi3//+/PzfQf/qUY13Hf/rUfPRNtmkQtylRKpjE9KWM7eCRbVpHeC3PTw4Nfz3k3p0bv/rU//8mtejTdKUINKYJeaqH+XFW+aqIP/3e/OyGO7YbeCoJOC7T7hsGO7Zgfn4woRzIMaHK92bGN2cGMaJNf/XNP/7n9ahQbVpGf/RLv/SLQAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFFAD/ACwAAAAAGAAYAAAI/wD/CRxIsKDBgwgTKhwwalGvOsjcMAKjR+FAUVxWrUhBiEUjVgVqIVoIp0CwK1esWFFCiAADVcb8IJymqcC4JFoUZFGgJYmQDAx0KTt20FCbC4lOIBDx4R2CLEfOueO3wVeCgq0UEUuSBZ6NDuTugWh2ogEhfFRAZTNDkJYJf3h2bQpAJIG3eEQAxPgTwZ+/HdCgDLzzw6/fB3RhEdHHw7DfMdyEDUwlyPASKV5ucSiRxp+UJYbJ7HEy0M48y08c+30C2t8cA7+MDByGra/jBxhsqf6BA8srIAM54aOmw1kPSy0CdQCBqhMvH9ZcnRGwBrhAbTIICDmSBUGIdSKeHrYRQgCJBAjJmMkWGEkdgwxCruXc2fMnAyoasOSQFWWgnD6hUEDAFEpUYcUVSgThUikVGHDDIV3EQlAY9VBxAD4UjKBGEUUEgQQVFUBAAymY5CLYQJ/E8YgEkLyARD9FTBKEBBoYAAwgeRjBxEFozMIODCRsEEQQZ0CAxQTbVAJEEwmV8cwyptRgwAySTLDFF44sII1FYhTTzSmD8MFGIZcAgQslFgnkSSZNRAHEAk5Es2OadBYUEAAh+QQFFAD/ACwDAAMAEQARAAAIhAD/CRwoUAXBgwQvVPm3cArCgYlQDPxmodo/c+4QHmkAQCC9fw5QNCCABGGzf0TS7WtH5F8Shw/zlSOCgQgABA+HgBMoj8M/DOEGihsy8M0QojmHvCFIBynCIXQeSp1K9Z+Ghx9CHOwnEN1UiyP+eZh6oUgRqfYGEqj60AXbgRsGXj0YEAA7"],17:["[冷汗]","data:image/gif;base64,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"],18:["[抓狂]","data:image/gif;base64,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"],19:["[吐]","data:image/gif;base64,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"],20:["[偷笑]","data:image/gif;base64,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"],21:["[可爱]","data:image/gif;base64,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"],22:["[白眼]","data:image/gif;base64,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"],23:["[傲慢]","data:image/gif;base64,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"],24:["[饿]","data:image/gif;base64,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"],25:["[困]","data:image/gif;base64,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"],26:["[惊恐]","data:image/gif;base64,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"],27:["[流汗]","data:image/gif;base64,R0lGODlhGAAYAPf/ANPFuahcCfi4KP7lS/a5KOltA4lJDrWBRv/8i/7pUfncm//2asqplf/89rZ4Uv3XPf3ZPvHu7OybFf3cQtulQ9mXIaJCBfzQNsmGGPaFANqGD//3bv/+z//+xbhXBP3SONjTzvjOnP/+q/eRB61wK/u+JtF4Cv/yX/mlFf/9kP7gRfV6AJ07APaNBchjBfTp4rJ8S/vBKf7lTtRqB//+s8dgBfaBAPW1KNxpA/mpGPq7KMOXfPvDKveWC+PGtKlbI/ifEMFcAv3eRumCAa9lD/mqGP7hSvidD69nPPrz5+W2Mf7cQ//1ZuOUFf/yYPfLZ/vPN/bGWPXCS9SADffCRe7DUvnEMfOdEufFQfW6M8J8FPq3Jcmqhu+0MPKlGeSmIuGhIfaKA8yMIrmJU7FzKspvB7d8Mvu7JriFSbl0SrdMAOuzcIczAP/rU10jAP/6e/zKMNfRzPu8Jfq0H/mvHP/9luDJf+Pf3NfSzd3Y1Orn5Pv6+tzX09qymvPesPzw1siQPv346/fIW+uFA/W3J/HIWN2cH//+/O3HU97Z1c2sg/79/OTg3enIkfe9KPzlr+65NuDDTIpMF+fQWOWmJvvhpcKKPruRZYI6A+rj3O2FAqxtJfq/K+DBRvbYmfO0JapjE65sFvayI+24S/zROvjKX///1/e8N/38/PedELNvGvmvHubi3+ro5fTy8fRxAOp/AfeUCfzGL8iwlv3bQvmjF+HAjN/a1vzKMvigEeuHBvaWDPvQOt94BMWebdq3oqdgD/FwAb13FOfe0OCgJJpGBOXDavGPCvqwHPzJMOjl4vR1AP7rU9KWM9ixa+yIB+aHDr2ALvCCBMCYZ/eVCveeD//pUfvGL/vJMPiWCvmvG/Ln4b1/LvmrGfmwG6dgELd2S/qvHMCXZ/3dQvBvAfzJMvmjGOG/jPvPOuB4BP7qU//qU7BcEqZPC+2SDsqfgN6JEcOIZMFmCeiVFLNtQvjx7duved20gdd1B9t1BMalkNGiXr13L7RqK////////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFFAD/ACwAAAAAGAAYAAAI/wD/CRxIsKDBgwgTKmzwqBQVQlmkPFHwR+HASqesoCNV7honATcK+VkoiICRJQ8gPPiQrIQ3UZCqIDwUhYCMJQOsrUswYNyFGOFSSUB0UAEhFSraOFmwYYETdSoulCjSowK/egQDdYESik2kNwhSIHjDpM2EZHOA4LP3jqCnTw8GdGLDxg4NEXXenBjwQc6VICH6RRg4ytEEawsQ2GEDo4MIBAsSKGHzY02IezsGUuIBgdmGFDQ4mOJAI8Ukul9MWLaXWSCYGA8QIxDRgYNjEmywPIgxb0YQIr8GGjrzYcCJN3VE3M27ty+KESu0xBlYYQ6cCQbcaJc0Nrt2TEBaLMYTNl0gBS8lLiRd2vREGyFSc/TIUIAbnoGNmmiLcWHCgATM8ORTDMhU08IKM/iSx0BJiHGFDiVg80FKK8FRAjJAjGBDAWYA0ApB52hQzRZznBEDDzHIMUcO1YyQwStEiHPLHgQtAsgU2ayCQg7d5IACED20YAM5LqCBhx4HWWKCLuaMMMIgmoSRwQo4gDJGHHckpIgqZaQzhD/+wIJDDSTMAgIrFmXCxQFkBPDNJgdcEkcirlgkECoR3JFHHCDwwQiSdgZaUEAAIfkEBQgA/wAsEQAGAAYABgAACCgA/1H7Z2Hbv3/VXPwC9++MBBb+WBhE4sOfDyT/PFS8+A+eBxbt9AUEACH5BAkUAP8ALAMAAgAUABQAAAiNAP8JHCiQAMGDCAXy+odLVsKHB+H8owNR4DiBbawRpJhQiMATA0+0GZhjV0WE4yQCOclSIK2KGv+x6POvjwOMLFn4++ePRUuBOv31lNOyhAcf/nwgschSgxoW7fQdBElQxUFy0QRyvGgt48YjECUipJMLoa1/YP8RPZhW4LSDPSoGq1jrJ8JedhMCqxgQACH5BAUUAP8ALAAAAAAYABgAAAj/AP8JHEiwoMGDCBMqbPCoFBUCWaQ8UfBH4cBKp6zwIoVLFicBNwr5WSiIgJElDyA8+ACnBB1RkKogPBSFgIxxA6y1sTZg3IUYdFJJQHRQASEhKtqcWLBhwYk2Ki6UyLGLmDGDXaCEYhPpDYIUCN4waTMOzhwgxygMK/jpwYBObNjYoSGizpsTAz7IQaHLwr49BB3RsrYAgR02MDqIQLDAmhI2xVz8YqeMIA8IbTakoMHBFAcaKSbF/SKBhT8WAAjGeEAYgYgOHBSTYIPlQQx5ffz1cUBQzocBJ97UEUHXLl69pv2dJjgHzjgDbqJLCgs9Oqbkywd6KXEh6dKmT6NOoPXgw58PJASb0IlxAadOnj6BHsmnhsUPBgTFXNFRAs6HlCu1REcuI9hQgBkAtEKQLRocscUccsTAQwxyzJHDESNk8AoR09wC2ECLADJFD6ugkEM3OaAARA8t2BCMC2jgocdBlpigSy0jjDCIJmFksAIOoIwRxx0JKaJKGb0MoRwsONRAwiwgsGJRJlwcQEYAwGxywCVxJOKKRWCGKeZAAQEAIfkECRQA/wAsEQAIAAYADAAACEgA//0bAc2ZwH+xpDUT2I2aDQx8/uV4ZkFLnH8oXPxqd9Edi38sABQJ0udfHwcg/an8yEKlv49qfPjzkeafh3Ys6PkQiIeRwIAAIfkECRQA/wAsAAAAABgAGAAACIoA/wkcSLCgwYMIEypcyLChw4cQI0qcOFEOihHQnO2RyKZYLGnNlEn80o2aDQx8JMbIEetkHIkWR6zQ8jIiJiAtlgmrCTFHjwwFouGReKTFihm+8kgcYaOAGQCtJGZ4BcoCgI0Rg7n48cvBRFAHWPhj8WKigz7++sSbKNbfWLZu30pM48OfjzT/AgIAIfkEBRQA/wAsAAAAABgAGAAACP8A/wkcSLCgwYMIEyps8KgUFQJZpDxR8EfhwEqnrPAihUsWJwE3CvlZKIiAkSUPIDz4AKcEHVGQqiA8FIWAjHEDrLWxNmDchRh0UklAdFABISEq2pxYsGHBiTYqLpTIsYuYsYKBukAJxSbSGwQpELxh0mYcnDlAjlEYRtDTpwcDOrFhY4eGiDpvTgz4IAfFCGjO9gwc5YiWtQUI7LCB0UEEggXWlLApFktaM2UDKfGA0GZDChocTHGgkWLS3C/dqNnAwGcgmBgPDiMQ0YFDYxJssDyIkSPW6jgDDcn5MODEmzoi7OLVy9fvCi3ABVaYA2ecATfYJYm9jh0TkBbLhEW8/0fBS4kLSZc2fRp1ao8MBaLhGdioCZ0YF3Dq5OkT6JEWK8zgSx4DJSHGFTqUAMcHKa3UEh25jGBDAWYA0ApBtmhwxBZzyBEDDzHIMUcOR4yQwStETHOLYAMtAsgUPayCQg7d5IACED20YEMwLqCBhx4HWWKCLrWMMMIgmoSRwQo4gDJGHHckpIgqZfQyhD/+wIJDDSTMAgIrFmXCxQFkBADMJgdcEkcirlgkECoR3JFHHCDwwQiQbuZZUEAAOw=="],28:["[憨笑]","data:image/gif;base64,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"],29:["[大兵]","data:image/gif;base64,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"],30:["[奋斗]","data:image/gif;base64,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"],31:["[咒骂]","data:image/gif;base64,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"],32:["[疑问]","data:image/gif;base64,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"],33:["[嘘]","data:image/gif;base64,R0lGODlhGAAYAPfPAPW5KPu9HP/3d/2yDP/vWuSmJvTIWv/lSP/KJfbBSN7Z1daaIvzVOe+1Mu3YmtfRzOjl4raCR//SLd2cHNPFuu7FU//VMfa7Nf/qUMurhOXDav/9svvNM/+4Es6CC/CjC//FIPfamv/7m/61D//iQt+5ONqOC+bi3//oTN/GbP/7lcyDFaVVAf/3eP/5h//bOf/XNNulQ/CwH9OzgtCfSvzdRP/wXf/DHf/1baliEtGhKf/cOtmxa+7Skf/pTv/ePPbWROzMT8t9CMaCFvXZUeulFtnUz//EH8iQPv/89uOXCv/9uPGrEvi4Gv/uV/jGMf/8oP/+x//PKv/kR//AGsyLIu7NVf/wX+7QaP+6E7FzK//dPP7nT//+0P7gRO7GPd/DWP/ePvSoDP7dPvuvDP/4e+69Lv/TL/+8FeafEfSxGNWOEfmyE/nEJffGKvTCLv/LJ8SGGf/QK8SJH9+/RvbPOb5wDV0jAP///4czAHErAO7SqrZlDbNhBL92DrFeAvv6+uPf3P/0fsFsBdzX0//sU6VhCdS/smUmAPvhpbd7Murj3P/+/OnIkcCXZ+rn5MuJGuG/i7NvGsivlv3468J8FO24S//xX9KWM/79/Ofe0LmIU71/LvTy8diVFcKKPuGgI/PesPry5/bGWfbEL65mD8Webb13FP38/PDu7KhdCaxtJa5wLLuRZf7yeeaqH///16t2R+bCjuivLu7SjPvw19GsdKxoDMyFGPzgWuaqIP/2dPmzE+7OXu7RfeysJufZxPngT9fHsPnYP9GJEfvsb+rDf92gHfnCIvnfTO6tGu+yHuumH/vlVPm0E////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgDPACwAAAAAGAAYAAAI/wCfCRxIsKDBgwLvKKRAkILCOwgLJplxJwGACwnu2KoVkWCiCxxqePHygwGHJwZCdUxiAAAuOyuAoDhQZwXMWRUQMhr1xM4ePHvs2HDiE6gdGTkNhiDlow+ep3wE4ODzFE8fEKA0FKTUoAYGp3r08FHhgmrYPnCaxNBEMMQbFERl6UFkZwMUn3PtSLlRhAeggZYY+LBhhUUeFrSibMBimIUZCSB4YYIwsMAYH1fKiFjSBVaXJSLKXPLx4wyIDpAIDQS1BYUNASo2ROmiWIUAGyi2QO4w5MHACTsOOMHhAsqGJXZd4HBy4MXeDpV8C1xggQSGS7tcpLDD3Q4dDCRgwMShMuKU9Gcx3AQvdInAnzzw8/whsANyFjGczjd6ZeHHAQwEzDEICywMEgcBFiBAngmmKDCQKFW08cIOJBxAwIUYWgDHDVl8oAgFjxAUyQQIwADDCz+k+AIMEiDA4QClOKLAXwNlgoQnIJwhhQQ8SgEHCFR0QIYHETwQokGfrKHGjyCAcAMVWYygRA6bPBBIRBlI4kEaTEQphhJCsDKJESd09MwiGUSghSo5rBJBKw8o0ImZAqGSSiAKPGAEIYEcSeefBAUEACH5BAUKAM8ALAAAAAAYABgAAAj/AJ8JHEiwoMGDCBMmvMOQRgIAFxLQYHhHocBEF3Tc8eJlDIM7CwyEUpjEwBMuPlCkPEBihwUODSogZDTqCRBcdnARseEEyAo7KwDIkGkwBCkfdvbg2WNHAI6kS+2AAKWhIKUGNTD00XMIDx8VLvhwxdMHTpMYmgiGeIPCyVY9XjdAEQu3j5QbRXgAGmiJgQ8bdmIdYhplQ+DBdiSA4IUJwsACP3xcssIiD4seXZZgqczCjOIOkAgNBPUDhY0WKjZE6VJYhQAbKH58HvJg4IQXB5zgcAFlwxK5LnA4OfDibodKtQUusEACw6VdLlSIALvrEgYSMOBQGXEq+bMYbnYcvyh0CUeLMk4vFTqwQzEaMZy8N3plYcsBDE5s0LFjp8SBHxYgsJ0JpigwkChVtPHCDiQcQMAfeeTxBwEWwHFDFh8oQsEjBEUyAQIwwPACAUMMMsgQBCBw4QClOKLAXgNlgoQnIJwhhQQE5EgACFRkQYYHETzAoUGfrKEGHCCAcMQNPY6gRA6bPBBIQhlI4kEaTHQwghhKCMHKJEacYNEiGUSghSo5rBJBKw8o0IlFAqGSSiAKPGAEIYEMCeeeBAUEACH5BAkKAM8ALAUAAgAQABIAAAiUAJ8JHEiwoMGDB1EgLFgIgxMblwRiOLDFAgKChS7hEFBG4KVCB3ZIIHhplwsVIgTuuoSBBIyBLFjkycPCl8BeMmmyGChAxYYoXQSqEGADxQ+CZUQs6QJLoIgyl3yEOcNzodWrBVPYsQPG4ICCf2b+QThFIIGwef4QuFpi0KASVnf8IECXwEirEiRIgYP1GYiBHQoGBAAh+QQJCgDPACwAAAAAGAAYAAAI/wCfCRxIsKDBgwLvKKRAkILCOwgLJplxJwGACwnu2KoVkWCiCxxqeCExhgGHJwZCdXxmAAAuOyuAoDhQZwXMWRU6PrGzB88eOzac8PRpR0ZOhD764FnKpwUOPkvx9AEBSgNCDEr16OGjwgVUrX3gNImBUKgsPYjsbIDCE60dKTeKILRhhUUeFrSibMBil4UZCSB4GQzz7FIZEUu6wOqyRESZSz7CAO5gcMszGy1UbIjSRa8KATZQ/JBwhPJBJzhcQNmwZK0LHE4OvIBr2iCGS7tS2NnNuwQJGHCojDj44kAhJ3/yKF/+hwBgNGIM6nq25QCBOYNYaGcxaA4BBMJNIFV8sYMEgfPoz8O5keWDIoQIYMB4sSXMjx0wJKzPMqCUI4SegHCGFBIUKAccIFCRBRkeRPAAQp+soQaCIIBwAxVojKBEDps8EMhKA2UB4ogklmgiiQEBACH5BAkKAM8ALAAAAAAYABgAAAj/AJ8JHEiwoMGDCBMmvMOQRgIAFxLQYHhHocBEF3Tc8UJiDIM7CwyEUpjEwBMuPlCkPEBihwUODSogZDTqCRBcdnARseEEyAo7KwDIkGkwBCkfdvbg2WNHAI6kS+2AAKWhIKUGNTD00XMIDx8VLvhwxdMHTpMYmgiGeIPCyVY9XjdAEQu3j5QbRXgAGmiJgQ8bdmIdYhplQ+DBdiSA4IUJwsACW3xcssIiD4seXZZgqczCjOIOkAgNBPUDhY0WKjZE6VJYhQAbKH4ozjLkwcAJLw44weECyoYlcl3gcHLghZwbHSrZFrjAAgkMl3a5UCEC7K5LGEjAgENlxKnlz2K4w9lxoNAlHALKtMBxqdCUHYrRiOEEvpEuCz8OYHBig44dOyUcsIUF3I1ggikKDCRKFW28sAMJBxDwRx55/EEAgTdk8YEiFDxCUCQTIAADDC8QMMQggwxBAAIZDlCKIwrsNVAmSHgCwhlSSEDAjgSAQEUWZHgQwQMeGvTJGmrAAQIIR9xABRojKJHDJg8EklAGkniQBhNZjCCGEkKwMokRJ1i0SAYRaKFKDqtE0MoDCnRikUCopBKIAg8YQUggRc7pJ0EBAQAh+QQJCgDPACwAAAAAGAAYAAAI/wCfCRxIsKDBgwLvKKRAkILCOwgLJplxJwGACwnu2KoVkWCiCxxqePEyhgGHJwZCdUxiAAAuOyuAoDhQZwXMWRUQMhr1xM4ePHvs2HDiE6gdGTkNhiDlow+ep3xa4ODzFE8fEKA0FKTUoAYGp3r08FHhgmrYPnCaxNBEMMQbFERl6UFkZwMUn3PtSLlRhAeggZYY+LBhhUUeFrSibMBimIUZCSDYYIIwsMAYFJfKiFjSBVaXJSLKXPLx4wyIDpAIDQT1A4UNASo2ROmiWEULGyi2QO4w5MHACTsOOMHhAsqGJXZd4HBy4MXeDpV8C1xggQSGS7tS2NnOvQQJGHCojMA4Jf1ZDDfBCzn5k6e9+z8EIKMRw6l8I10WfkwhMGcQi/8sDDIHAQiIZ4IpCgwkShVtvLADCQREKGGEcNyQxQeKUPAIQZFMgAAMMLywxQ9bvACDBAhYOEApjijw10CZIOEJCGdIIcEZEsgBBwhUZEGGBxE8sKFBn6yhxo4ggHADFWiMoEQOmzwQSEQZSOJBGkxkMYIYSgjByiRGnNDRM4tkEIEWquSwSgStPKBAJ2MKhEoqgSjwgBGEBDJknHwSFBAAIfkEBQoAzwAsAAAAABgAGAAACP8AnwkcSLCgwYMIEya8w5BGAgAXEtBgeEehwEQXdNzx4mUMgzsLDIRSmMTAEy4oUPhAcYDEDgscGlRAyGjUk0IYnNi4ZMMJhgNbLCCQMdNgCFI+Cl3CIaCMAByXCh3YIQEEKA0FKTWogeHSLhcqRKhwsesSBhIw4DSJoYlgiDcoWLDIk4eFrw1Qes2ty+JGER6ABlpi4MOGABUbonSJskGFABsoflTlhQnCwAI/fFwqI2JJF1hdlogoc8lHmDMgOkAiNBDUDxSGEStm7Biy5NRDHgyc8OKAExwuoGxYgtcFDicHXki50aGSboELLJDo+lVFCjt2wJhFC4fKgFPPn8W7cLPjgFIcLf7Q/SOVKgg0YjiFb/TKwpYpOQmoz/OHwA+hVIxggikKDCRKFW28sAMJBxBQwiCDlECABXDckMUHilDwCEGRTIAADDDs8AMBJBIgAQIWDlCKIwoENlAmSHgCwhlSSGCjFHCAQEUWZHgQwQMbGvTJGmrkCAIIN+zYgRI5bPJAIAllIIkHaTDRwQhiKCEEK5MYcYJFi2QQgRaq5LBKBK08oEAnFgmESiqBKPCAEYQEEmSbeBIUEAAh+QQFCgDPACwDAAMAEgASAAAIngCfCRwokEQYgggTPvOhECEQXHZwEREIZIWdFQAS2tmDZ48dgRs7fkTYR88hPHwE8jGJpw9CJyX1oFSpR2YfKQjtxDrkEeTOngIPXrHCIg+LHgKxFGVhRmCWhgNbEDzybAfUqwhFqHCxK+EIhWVa4LgE9ccBgTbo2LFT4izWZ3/y5Pnz9gWBOIMGDSEARyAZqAQCE3g7kKrAr2+fNgwIACH5BAkAAM8ALAMAAgASABYAAAiTAJ8JHEiwoEGDYw4a9PEMBQqFECMqbCFRIB48BS9C1EiQ40FZehAR3BNyIBuBlwSWJLiyIsEtz0A8e+EyYgo7OO3QKTigIIE/eYLm+UNgYBaDBOYMYsFiUJyiEgl88UOVA4KIP374CRLE0LIAEOU8k+BHkCBDRZxVLHs2jUu2hohpWWvWEBJhdM/yAJbXkLFaBAMCACH5BAVkAM8ALAAAAAAYABgAAAj/AJ8JHEiwoMGDAu8opECQgsI7CAsmmXEnAYALCe7YqhWRYKILHGp4ITGGAYcnBkJ1TGIAAC47K4CgOFBnBcxZFRAyGvXEzh48e+zYcOITqB0ZOQ2GIOWjD56nfFrg4PMUTx8QoDQYbFADg1M9eviocEEVbB84TWIYfIOCqCw9iOxsgOITrh0pN4oYZODDhhUWeVjQirIBC2AWZiSA4GUwjI9LZUQs6QLLgR8/xQj4CHMGRAeDW1DYEKBiQ5QufoIYItIMxRYJRz4XfHHACQ4XUDYs8SPI0JdkB17glU3QAgkMl3a5UCGCt2+RMOBQGWHQzY4Dha7gIADGeYFhOxSjmBFj8JWFHwcwOCHwx7mfYBYQTDdhsEqbFztIHCAQxzmxYHDckMUHihgUyQQIwADDC1sQ4NwXyAg4QCmOGJQJEp6AcIYcEvgxhyB+KNNEFmR4EMEDCH2yhhrH+PGLK64w4wcZSuSwyQOBRJSBJC7CmAsDt3igxSRGnNDRM4v44SMDANyChDAKdHKkQEr+CIAat0QCzJRcGhQQADs="],34:["[晕]","data:image/gif;base64,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"]},te=new function(){this.formatTimeStamp=function(e,t){if(0==e)return e;t=t||"yyyy-MM-dd hh:mm:ss";var n,r=new Date(1e3*e),i={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds()};for(var o in/(y+)/.test(t)&&(n=t.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+o+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?i[o]:("00"+i[o]).substr((""+i[o]).length)));return n},this.groupTypeEn2Ch=function(e){var t=null;switch(e){case"Public":t="公开群";break;case"ChatRoom":t="聊天室";break;case"Private":t="讨论组";break;case"AVChatRoom":t="直播聊天室";break;default:t=e;break}return t},this.groupTypeCh2En=function(e){var t=null;switch(e){case"公开群":t="Public";break;case"聊天室":t="ChatRoom";break;case"讨论组":t="Private";break;case"直播聊天室":t="AVChatRoom";break;default:t=e;break}return t},this.groupRoleEn2Ch=function(e){var t=null;switch(e){case"Member":t="成员";break;case"Admin":t="管理员";break;case"Owner":t="群主";break;default:t=e;break}return t},this.groupRoleCh2En=function(e){var t=null;switch(e){case"成员":t="Member";break;case"管理员":t="Admin";break;case"群主":t="Owner";break;default:t=e;break}return t},this.groupMsgFlagEn2Ch=function(e){var t=null;switch(e){case"AcceptAndNotify":t="接收并提示";break;case"AcceptNotNotify":t="接收不提示";break;case"Discard":t="屏蔽";break;default:t=e;break}return t},this.groupMsgFlagCh2En=function(e){var t=null;switch(e){case"接收并提示":t="AcceptAndNotify";break;case"接收不提示":t="AcceptNotNotify";break;case"屏蔽":t="Discard";break;default:t=e;break}return t},this.formatText2Html=function(e){var t=e;return t&&(t=this.xssFilter(t),t=t.replace(/ /g,"&nbsp;"),t=t.replace(/\n/g,"<br/>")),t},this.formatHtml2Text=function(e){var t=e;return t&&(t=t.replace(/&nbsp;/g," "),t=t.replace(/<br\/>/g,"\n")),t},this.getStrBytes=function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^x00-xff]/g,"012").length)},this.xssFilter=function(e){return e=e.toString(),e=e.replace(/[<]/g,"&lt;"),e=e.replace(/[>]/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e},this.trimStr=function(e){return e?(e=e.toString(),e.replace(/(^\s*)|(\s*$)/g,"")):""},this.validNumber=function(e){return e=e.toString(),e.match(/(^\d{1,8}$)/g)},this.getReturnError=function(e,t){t||(t=-100);var n={ActionStatus:h.FAIL,ErrorCode:t,ErrorInfo:e+"["+t+"]"};return n},this.setCookie=function(e,t,n,r,i){var o=new Date;o.setTime(o.getTime()+1e3*n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()},this.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},this.delCookie=function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.getCookie(e);null!=n&&(document.cookie=e+"="+escape(n)+";expires="+t.toGMTString())},this.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},this.isIE=function(e){var t=document.createElement("b");return t.innerHTML="\x3c!--[if IE "+e+"]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length},this.getBrowserInfo=function(){var e,t={},n=navigator.userAgent.toLowerCase();return ne.info("navigator.userAgent="+n),(e=n.match(/msie ([\d.]+)/))?t.ie=e[1]:(e=n.match(/firefox\/([\d.]+)/))?t.firefox=e[1]:(e=n.match(/chrome\/([\d.]+)/))?t.chrome=e[1]:(e=n.match(/opera.([\d.]+)/))?t.opera=e[1]:(e=n.match(/version\/([\d.]+).*safari/))&&(t.safari=e[1]),t.ie?{type:"ie",ver:t.ie}:t.firefox?{type:"firefox",ver:t.firefox}:t.chrome?{type:"chrome",ver:t.chrome}:t.opera?{type:"opera",ver:t.opera}:t.safari?{type:"safari",ver:t.safari}:{type:"unknow",ver:-1}}},ne=new function(){var e=!0;this.setOn=function(t){e=t},this.getOn=function(){return e},this.error=function(e){},this.warn=function(e){},this.info=function(e){},this.debug=function(e){}},re=function(e){return e||(e=new Date),Math.round(e.getTime()/1e3)},ie=function(){return V?V+=1:V=Math.round(1e7*Math.random()),V},oe=function(){return Math.round(4294967296*Math.random())},ae=function(){var e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest;else try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}}return e},se=function(e,t,n,r,i,o,a){var s,u=ae();if(!u){s="创建请求失败";var l=te.getReturnError(s,-1);return ne.error(s),void(a&&a(l))}q++,J[q]=u,u.open(e,t,!0),u.onreadystatechange=function(){if(4==u.readyState)if(J[q]=null,200==u.status)o&&o(u.responseText),u=null;else{var e="请求服务器失败,请检查你的网络是否正常",t=te.getReturnError(e,-2);u=null,a&&a(t)}},u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r||(r=M),r&&(u.timeout=r,u.ontimeout=function(e){var t="请求服务器超时",n=te.getReturnError(t,-3);u=null,a&&a(n)}),u.send(n)},ue=function(e,t,n,r,i,o,a){se(e,t,JSON.stringify(n),r,i,function(e){var t=null;e&&(t=JSON.parse(e)),o&&o(t)},a)},le=function(){return K.sdkAppID&&K.identifier},ce=function(e,t){if(!le()){if(t){var n="请登录",r=te.getReturnError(n,-4);e&&e(r)}return!1}return!0},he=function(){return n},fe=function(e,n,i,o){var u=r;u=he()?r.FORMAL.COMMON:r.TEST.COMMON,e==a.PIC&&(u=he()?r.FORMAL.PIC:r.TEST.PIC),e!=a.BIG_GROUP_LONG_POLLING&&e!=a.BIG_GROUP||(he()?host=r.FORMAL.BIG_GROUP:host=r.TEST.BIG_GROUP);var l=u+"/"+s[e]+"/"+e+"/"+n+"?websdkappid="+t.APPID+"&v="+t.VERSION;if(le()){if("login"==n)l+="&identifier="+encodeURIComponent(K.identifier)+"&usersig="+K.userSig;else if(K.tinyid&&K.a2)l+="&tinyid="+K.tinyid+"&a2="+K.a2;else if(o)return ne.error("tinyid或a2为空["+e+"]["+n+"]"),o(te.getReturnError("tinyid或a2为空["+e+"]["+n+"]",-5)),!1;l+="&contenttype="+K.contentType}return l+="&sdkappid="+K.sdkAppID+"&accounttype="+K.accountType+"&apn="+K.apn+"&reqtime="+re(),l},de=function(){for(var e in J){var t=J[e];t&&(t.abort(),J[q]=null)}q=0,J={}},pe=function(){de(),K={sdkAppID:null,appIDAt3rd:null,accountType:null,identifier:null,identifierNick:null,userSig:null,contentType:"json",apn:1},Y={},V=0,F=0,Q=null,Z=[],pt.clear()},ge=function(e,t,r,i,o){pe(),r&&(Y=r),0==Y.isAccessFormalEnv&&(n=Y.isAccessFormalEnv),0==Y.isLogOn&&ne.setOn(Y.isLogOn),e||!o?e.sdkAppID||!o?e.accountType||!o?(e.identifier&&(K.identifier=e.identifier.toString()),e.identifier&&!e.userSig&&o?o(te.getReturnError("loginInfo.userSig is empty",-9)):(e.userSig&&(K.userSig=e.userSig.toString()),K.sdkAppID=e.sdkAppID,K.accountType=e.accountType,K.identifier&&K.userSig?Ae(function(e){pt.init(t,function(t){i&&(t.identifierNick=e,i(t))},o)},o):pt.init(t,i,o))):o(te.getReturnError("loginInfo.accountType is empty",-8)):o(te.getReturnError("loginInfo.sdkAppID is empty",-7)):o(te.getReturnError("loginInfo is empty",-6))},me=function(){i=te.getBrowserInfo(),ne.info("BROWSER_INFO: type="+i.type+", ver="+i.ver),"ie"==i.type&&parseInt(i.ver)<10&&(o=!0)},ve=function(e,n,r){if("longpolling"!=e||n!=x){var i=u[e];if(i){var o=re(),a=null,s={Code:n,ErrMsg:r};if(K.a2?a=K.a2.substring(0,10)+"_"+o+"_"+oe():K.userSig&&(a=K.userSig.substring(0,10)+"_"+o+"_"+oe()),a){var l={UniqKey:a,EventId:i,ReportTime:o,MsgCmdErrorCode:s};if("login"==e){var c=[];c.push(l);var h={EvtItems:c,MainVersion:t.VERSION,Version:"0"};ut(h,function(e){c=null},function(e){c=null})}else if(Z.push(l),Z.length>=X){var f={EvtItems:Z,MainVersion:t.VERSION,Version:"0"};ut(f,function(e){Z=[]},function(e){Z=[]})}}}}},Ae=function(e,t){lt.apiCall(a.OPEN_IM,"login",{State:"Online"},function(n){if(n.TinyId)K.tinyid=n.TinyId;else if(t)return void t(te.getReturnError("TinyId is empty",-10));if(n.A2Key)K.a2=n.A2Key;else if(t)return void t(te.getReturnError("A2Key is empty",-11));var r=["Tag_Profile_IM_Nick"],i={From_Account:K.identifier,To_Account:[K.identifier],LastStandardSequence:0,TagList:r};tt(i,function(t){var n;if(t.UserProfileItem&&t.UserProfileItem.length>0)for(var r in t.UserProfileItem)for(var i in t.UserProfileItem[r].ProfileItem)switch(t.UserProfileItem[r].ProfileItem[i].Tag){case"Tag_Profile_IM_Nick":n=t.UserProfileItem[r].ProfileItem[i].Value,n&&(K.identifierNick=n);break}e&&e(K.identifierNick)},t)},t)},ye=function(e,t){if(!ce(t,!1))return pe(),void(e&&e({ActionStatus:h.OK,ErrorCode:0,ErrorInfo:"logout success"}));lt.apiCall(a.OPEN_IM,"logout",{},function(t){pe(),e&&e(t)},t)},Ee=function(e,t,n){if(ce(n,!0)){var r=null;switch(e.sess.type()){case l.C2C:r={From_Account:K.identifier,To_Account:e.sess.id().toString(),MsgTimeStamp:e.time,MsgSeq:e.seq,MsgRandom:e.random,MsgBody:[]};break;case l.GROUP:var i=e.getSubType();switch(r={GroupId:e.sess.id().toString(),From_Account:K.identifier,Random:e.random,MsgBody:[]},i){case y.COMMON:r.MsgPriority="COMMON";break;case y.REDPACKET:r.MsgPriority="REDPACKET";break;case y.LOVEMSG:r.MsgPriority="LOVEMSG";break;case y.TIP:ne.error("不能主动发送群提示消息,subType="+i);break;default:return void ne.error("发送群消息时，出现未知子消息类型：subType="+i)}break;default:break}for(var o in e.elems){var s=e.elems[o],u=null,c=s.type;switch(c){case d.TEXT:u={Text:s.content.text};break;case d.FACE:u={Index:s.content.index,Data:s.content.data};break;case d.IMAGE:var h=[];for(var f in s.content.ImageInfoArray)h.push({Type:s.content.ImageInfoArray[f].type,Size:s.content.ImageInfoArray[f].size,Width:s.content.ImageInfoArray[f].width,Height:s.content.ImageInfoArray[f].height,URL:s.content.ImageInfoArray[f].url});u={UUID:s.content.UUID,ImageInfoArray:h};break;case d.SOUND:ne.warn("web端暂不支持发送语音消息");continue;case d.LOCATION:ne.warn("web端暂不支持发送地理位置消息");continue;case d.FILE:ne.warn("web端暂不支持发送语音消息");continue;case d.CUSTOM:u={Data:s.content.data,Desc:s.content.desc,Ext:s.content.ext},c=d.CUSTOM;break;default:ne.warn("web端暂不支持发送"+s.type+"消息");continue}r.MsgBody.push({MsgType:c,MsgContent:u})}e.sess.type()==l.C2C?lt.apiCall(a.OPEN_IM,"sendmsg",r,t,n):e.sess.type()==l.GROUP&&lt.apiCall(a.GROUP,"send_group_msg",r,t,n)}},Ce=function(e,t,n){ce(n,!0)&&lt.apiCall(a.OPEN_IM,"longpolling",e,t,n,N,!0)},_e=function(e,t,n,r){lt.apiCall(a.BIG_GROUP_LONG_POLLING,"get_msg",e,t,n,r)},Te=function e(t,n,r,i){ce(i,!0)&&lt.apiCall(a.OPEN_IM,"getmsg",{Cookie:t,SyncFlag:n},function(t){if(t.MsgList&&t.MsgList.length)for(var n in t.MsgList)W.push(t.MsgList[n]);1==t.SyncFlag?e(t.Cookie,t.SyncFlag,r,i):(t.MsgList=W,W=[],r&&r(t))},i)},Se=function(e,t,n,r){if(ce(r,!0)){var i=[];for(var o in t){var s={To_Account:t[o].toAccount,LastedMsgTime:t[o].lastedMsgTime};i.push(s)}lt.apiCall(a.OPEN_IM,"msgreaded",{C2CMsgReaded:{Cookie:e,C2CMsgReadedItem:i}},n,r)}},we=function(e,t,n){ce(n,!0)&&lt.apiCall(a.OPEN_IM,"deletemsg",e,t,n)},Ie=function e(t,n,r){ce(r,!0)&&lt.apiCall(a.OPEN_IM,"getroammsg",t,function(i){var o=t.MaxCnt,a=i.Complete,s=i.MaxCnt,u=i.MsgKey,l=i.LastMsgTime;if(i.MsgList&&i.MsgList.length)for(var c in i.MsgList)z.push(i.MsgList[c]);var h=null;0==a&&s<o&&(h={Peer_Account:t.Peer_Account,MaxCnt:o-s,LastMsgTime:l,MsgKey:u}),h?e(h,n,r):(i.MsgList=z,z=[],n&&n(i))},r)},be=function(e,t,n){if(ce(n,!0)){for(var r={Type:e.Type,Name:e.Name},i=[],o=0;o<e.MemberList.length;o++)i.push({Member_Account:e.MemberList[o]});r.MemberList=i,e.GroupId&&(r.GroupId=e.GroupId),e.Owner_Account&&(r.Owner_Account=e.Owner_Account),e.Introduction&&(r.Introduction=e.Introduction),e.Notification&&(r.Notification=e.Notification),e.MaxMemberCount&&(r.MaxMemberCount=e.MaxMemberCount),e.ApplyJoinOption&&(r.ApplyJoinOption=e.ApplyJoinOption),e.AppDefinedData&&(r.AppDefinedData=e.AppDefinedData),e.FaceUrl&&(r.FaceUrl=e.FaceUrl),lt.apiCall(a.GROUP,"create_group",r,t,n)}},De=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"create_group",e,t,n)},ke=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"modify_group_base_info",e,t,n)},Me=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"apply_join_group",{GroupId:e.GroupId,ApplyMsg:e.ApplyMsg,UserDefinedField:e.UserDefinedField},t,n)},Re=function(e,t,n){var r;r=ce(n,!1)?a.GROUP:a.BIG_GROUP,lt.apiCall(r,"apply_join_group",{GroupId:e.GroupId,ApplyMsg:e.ApplyMsg,UserDefinedField:e.UserDefinedField},function(r){if(r.JoinedStatus&&"JoinedSuccess"==r.JoinedStatus){if(!r.LongPollingKey)return void(n&&n(te.getReturnError("The type of group is not AVChatRoom: groupid="+e.GroupId,-12)));pt.setBigGroupLongPollingOn(!0),pt.setBigGroupLongPollingKey(r.LongPollingKey),pt.setBigGroupLongPollingMsgMap(e.GroupId,0),pt.bigGroupLongPolling()}t&&t(r)},function(e){n&&n(e)})},Pe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"handle_apply_join_group",{GroupId:e.GroupId,Applicant_Account:e.Applicant_Account,HandleMsg:e.HandleMsg,Authentication:e.Authentication,MsgKey:e.MsgKey,ApprovalMsg:e.ApprovalMsg,UserDefinedField:e.UserDefinedField},t,function(e){if(10024==e.ErrorCode){if(t){var r={ActionStatus:h.OK,ErrorCode:0,ErrorInfo:"该申请已经被处理过"};t(r)}}else n&&n(e)})},Oe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"quit_group",{GroupId:e.GroupId},t,n)},Le=function(e,t,n){var r;r=ce(n,!1)?a.GROUP:a.BIG_GROUP,lt.apiCall(r,"quit_group",{GroupId:e.GroupId},function(e){pt.resetBigGroupLongPollingInfo(),t&&t(e)},n)},Ne=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"get_group_public_info",{GroupIdList:e.GroupIdList,ResponseFilter:{GroupBasePublicInfoFilter:e.GroupBasePublicInfoFilter}},function(e){if(e.ErrorInfo="",e.GroupInfo)for(var r in e.GroupInfo){var i=e.GroupInfo[r].ErrorCode;i>0&&(e.ActionStatus=h.FAIL,e.GroupInfo[r].ErrorInfo="["+i+"]"+e.GroupInfo[r].ErrorInfo,e.ErrorInfo+=e.GroupInfo[r].ErrorInfo+"\n")}e.ActionStatus==h.FAIL?n&&n(e):t&&t(e)},n)},Be=function(e,t,n){if(ce(n,!0)){var r={GroupIdList:e.GroupIdList,ResponseFilter:{GroupBaseInfoFilter:e.GroupBaseInfoFilter,MemberInfoFilter:e.MemberInfoFilter}};e.AppDefinedDataFilter_Group&&(r.ResponseFilter.AppDefinedDataFilter_Group=e.AppDefinedDataFilter_Group),e.AppDefinedDataFilter_GroupMember&&(r.ResponseFilter.AppDefinedDataFilter_GroupMember=e.AppDefinedDataFilter_GroupMember),lt.apiCall(a.GROUP,"get_group_info",r,t,n)}},xe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"get_group_member_info",{GroupId:e.GroupId,Offset:e.Offset,Limit:e.Limit,MemberInfoFilter:e.MemberInfoFilter,MemberRoleFilter:e.MemberRoleFilter,AppDefinedDataFilter_GroupMember:e.AppDefinedDataFilter_GroupMember},t,n)},Ue=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"add_group_member",{GroupId:e.GroupId,Silence:e.Silence,MemberList:e.MemberList},t,n)},Ge=function(e,t,n){if(ce(n,!0)){var r={};e.GroupId&&(r.GroupId=e.GroupId),e.Member_Account&&(r.Member_Account=e.Member_Account),e.Role&&(r.Role=e.Role),e.MsgFlag&&(r.MsgFlag=e.MsgFlag),e.ShutUpTime&&(r.ShutUpTime=e.ShutUpTime),e.NameCard&&(r.NameCard=e.NameCard),e.AppMemberDefinedData&&(r.AppMemberDefinedData=e.AppMemberDefinedData),lt.apiCall(a.GROUP,"modify_group_member_info",r,t,n)}},Fe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"delete_group_member",{GroupId:e.GroupId,Silence:e.Silence,MemberToDel_Account:e.MemberToDel_Account,Reason:e.Reason},t,n)},Qe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"destroy_group",{GroupId:e.GroupId},t,n)},je=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"get_joined_group_list",{Member_Account:e.Member_Account,Limit:e.Limit,Offset:e.Offset,GroupType:e.GroupType,ResponseFilter:{GroupBaseInfoFilter:e.GroupBaseInfoFilter,SelfInfoFilter:e.SelfInfoFilter}},t,n)},He=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"get_role_in_group",{GroupId:e.GroupId,User_Account:e.User_Account},t,n)},Ke=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"forbid_send_msg",{GroupId:e.GroupId,Members_Account:e.Members_Account,ShutUpTime:e.ShutUpTime},t,n)},Ye=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"send_group_system_notification",e,t,n)},qe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"group_msg_get",{GroupId:e.GroupId,ReqMsgSeq:e.ReqMsgSeq,ReqMsgNumber:e.ReqMsgNumber},t,n)},Je=function(e,t,n){ce(n,!0)&&lt.apiCall(a.GROUP,"msg_read_report",{GroupId:e.GroupId,MsgReadedSeq:e.MsgReadedSeq},t,n)},Ve=function(e){var t=[];if(e.Fail_Account&&e.Fail_Account.length&&(t=e.Fail_Account),e.Invalid_Account&&e.Invalid_Account.length)for(var n in e.Invalid_Account)t.push(e.Invalid_Account[n]);if(t.length)for(var r in e.ActionStatus=h.FAIL,e.ErrorCode=f,e.ErrorInfo="",t){var i=t[r];for(var o in e.ResultItem)if(e.ResultItem[o].To_Account==i){var a=e.ResultItem[o].ResultCode;e.ResultItem[o].ResultInfo="["+a+"]"+e.ResultItem[o].ResultInfo,e.ErrorInfo+=e.ResultItem[o].ResultInfo+"\n";break}}return e},We=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"friend_add",{From_Account:K.identifier,AddFriendItem:e.AddFriendItem},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},ze=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"friend_delete",{From_Account:K.identifier,To_Account:e.To_Account,DeleteType:e.DeleteType},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},Xe=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"pendency_get",{From_Account:K.identifier,PendencyType:e.PendencyType,StartTime:e.StartTime,MaxLimited:e.MaxLimited,LastSequence:e.LastSequence},t,n)},Ze=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"pendency_delete",{From_Account:K.identifier,PendencyType:e.PendencyType,To_Account:e.To_Account},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},$e=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"friend_response",{From_Account:K.identifier,ResponseFriendItem:e.ResponseFriendItem},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},et=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"friend_get_all",{From_Account:K.identifier,TimeStamp:e.TimeStamp,StartIndex:e.StartIndex,GetCount:e.GetCount,LastStandardSequence:e.LastStandardSequence,TagList:e.TagList},t,n)},tt=function(e,t,n){ce(n,!0)&&lt.apiCall(a.PROFILE,"portrait_get",{From_Account:K.identifier,To_Account:e.To_Account,LastStandardSequence:e.LastStandardSequence,TagList:e.TagList},function(e){var r=[];if(e.Fail_Account&&e.Fail_Account.length&&(r=e.Fail_Account),e.Invalid_Account&&e.Invalid_Account.length)for(var i in e.Invalid_Account)r.push(e.Invalid_Account[i]);if(r.length)for(var o in e.ActionStatus=h.FAIL,e.ErrorCode=f,e.ErrorInfo="",r){var a=r[o];for(var s in e.UserProfileItem)if(e.UserProfileItem[s].To_Account==a){var u=e.UserProfileItem[s].ResultCode;e.UserProfileItem[s].ResultInfo="["+u+"]"+e.UserProfileItem[s].ResultInfo,e.ErrorInfo+="账号:"+a+","+e.UserProfileItem[s].ResultInfo+"\n";break}}e.ActionStatus==h.FAIL?n&&n(e):t&&t(e)},n)},nt=function(e,t,n){ce(n,!0)&&lt.apiCall(a.PROFILE,"portrait_set",{From_Account:K.identifier,ProfileItem:e.ProfileItem},function(n){for(var r in e.ProfileItem){var i=e.ProfileItem[r];if("Tag_Profile_IM_Nick"==i.Tag){K.identifierNick=i.Value;break}}t&&t(n)},n)},rt=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"black_list_add",{From_Account:K.identifier,To_Account:e.To_Account},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},it=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"black_list_delete",{From_Account:K.identifier,To_Account:e.To_Account},function(e){var r=Ve(e);r.ActionStatus==h.FAIL?n&&n(r):t&&t(r)},n)},ot=function(e,t,n){ce(n,!0)&&lt.apiCall(a.FRIEND,"black_list_get",{From_Account:K.identifier,StartIndex:e.StartIndex,MaxLimited:e.MaxLimited,LastSequence:e.LastSequence},t,n)},at=function(e,n,r){ce(r,!0)&&(he()?cmdName="pic_up":cmdName="pic_up_test",lt.apiCall(a.PIC,cmdName,{App_Version:t.APPID,From_Account:K.identifier,To_Account:e.To_Account,Seq:e.Seq,Timestamp:e.Timestamp,Random:e.Random,File_Str_Md5:e.File_Str_Md5,File_Size:e.File_Size,Busi_Id:e.Busi_Id,PkgFlag:e.PkgFlag,Slice_Offset:e.Slice_Offset,Slice_Size:e.Slice_Size,Slice_Data:e.Slice_Data},n,r))},st=function(e,t){ce(t,!0)&&lt.apiCall(a.OPEN_IM,"authkey",{},e,t)},ut=function(e,t,n){ce(n,!0)&&lt.apiCall(a.IM_OPEN_STAT,"web_report",e,t,n)};me();var lt=0==o?new function(){var e=null;this.init=function(t,n,r){t&&(e=t)},this.callBack=function(t){e&&e(t)},this.clear=function(){e=null},this.apiCall=function(e,t,n,r,i,o,a){var s=fe(e,t,r,i);0!=s&&ue("POST",s,n,o,a,function(o){var a=null,u="",l="\n request url: \n"+s+"\n request body: \n"+JSON.stringify(n)+"\n response: \n"+JSON.stringify(o);o.ActionStatus==h.OK?(ne.info("["+e+"]["+t+"]success: "+l),r&&r(o),a=0,u=""):(a=o.ErrorCode,u=o.ErrorInfo,i&&(o.SrcErrorInfo=o.ErrorInfo,o.ErrorInfo="["+e+"]["+t+"]failed: "+l,"longpolling"==t&&o.ErrorCode==x||ne.error(o.ErrorInfo),i(o))),ve(t,a,u)},function(e){i&&i(e),ve(t,e.ErrorCode,e.ErrorInfo)})}}:new function(){var e=null;this.init=function(t,n,r){t&&(e=t)},this.callBack=function(t){e&&e(t)},this.clear=function(){e=null},this.apiCall=function(e,t,n,r,i,o,a){var s=fe(e,t,r,i);if(0!=s){var u=F++,l="jsonpcallback",c="jsonpRequest"+u,f=document.createElement("script"),d=0;window[c]=j,f.type="text/javascript",s=s+"&"+l+"="+c+"&jsonpbody="+encodeURIComponent(JSON.stringify(n)),f.src=s,f.async=!0,"undefined"!==typeof f.onreadystatechange&&(f.event="onclick",f.htmlFor=f.id="_jsonpRequest_"+u),f.onload=f.onreadystatechange=function(){if(this.readyState&&"complete"!==this.readyState&&"loaded"!==this.readyState||d)return!1;f.onload=f.onreadystatechange=null,f.onclick&&f.onclick();var o=Q,a="\n request url: \n"+s+"\n request body: \n"+JSON.stringify(n)+"\n response: \n"+JSON.stringify(o);o.ActionStatus==h.OK?(ne.info("["+e+"]["+t+"]success: "+a),r&&r(o)):(o.ErrorInfo="["+e+"]["+t+"]failed "+a,"longpolling"!=t||o.ErrorCode!=x?ne.error(o.ErrorInfo):ne.warn("["+e+"]["+t+"]success: "+a),i&&i(o)),Q=void 0,document.body.removeChild(f),d=1},document.body.appendChild(f)}}},ct=function e(t,n,r,i,o,a){this._impl={skey:e.skey(t,n),type:t,id:n,name:r,icon:i,unread:0,isAutoRead:!1,time:o>=0?o:0,curMaxMsgSeq:a>=0?a:0,msgs:[]}};ct.skey=function(e,t){return e+t},ct.prototype.type=function(){return this._impl.type},ct.prototype.id=function(){return this._impl.id},ct.prototype.name=function(){return this._impl.name},ct.prototype.icon=function(){return this._impl.icon},ct.prototype.unread=function(){return this._impl.unread},ct.prototype.time=function(){return this._impl.time},ct.prototype.curMaxMsgSeq=function(){return this._impl.curMaxMsgSeq},ct.prototype.msgCount=function(){return this._impl.msgs.length},ct.prototype.msg=function(e){return this._impl.msgs[e]},ct.prototype._impl_addMsg=function(e){this._impl.msgs.push(e),e.time>this._impl.time&&(this._impl.time=e.time),e.seq>this._impl.curMaxMsgSeq&&(this._impl.curMaxMsgSeq=e.seq),e.isSend||this._impl.isAutoRead||this._impl.unread++};var ht=function(e,t){this.toAccount=e,this.lastedMsgTime=t},ft=function(e,t,n,r,i,o,a,s){this.sess=e,this.subType=a>=0?a:0,this.fromAccount=o,this.fromAccountNick=s||o,this.isSend=Boolean(t),this.seq=n>=0?n:ie(),this.random=r>=0?r:oe(),this.time=i>=0?i:re(),this.elems=[]};ft.prototype.getSession=function(){return this.sess},ft.prototype.getType=function(){return this.subType},ft.prototype.getSubType=function(){return this.subType},ft.prototype.getFromAccount=function(){return this.fromAccount},ft.prototype.getFromAccountNick=function(){return this.fromAccountNick},ft.prototype.getIsSend=function(){return this.isSend},ft.prototype.getSeq=function(){return this.seq},ft.prototype.getTime=function(){return this.time},ft.prototype.getRandom=function(){return this.random},ft.prototype.getElems=function(){return this.elems},ft.prototype.addText=function(t){this.addElem(new e.Msg.Elem(d.TEXT,t))},ft.prototype.addFace=function(t){this.addElem(new e.Msg.Elem(d.FACE,t))},ft.prototype.addImage=function(t){this.addElem(new e.Msg.Elem(d.IMAGE,t))},ft.prototype.addCustom=function(t){this.addElem(new e.Msg.Elem(d.CUSTOM,t))},ft.prototype.addElem=function(e){this.elems.push(e)},ft.prototype.toHtml=function(){var e="";for(var t in this.elems){var n=this.elems[t];e+=n.toHtml()}return e},ft.Elem=function(e,t){this.type=e,this.content=t},ft.Elem.prototype.getType=function(){return this.type},ft.Elem.prototype.getContent=function(){return this.content},ft.Elem.prototype.toHtml=function(){var e;return e=this.content.toHtml(),e},ft.Elem.Text=function(e){var t;if(/^\{.*\}$/.test(e)||/^\{.*\}$/.test(e.replace(/[\r\n\s+]/g,"")))try{this.text=e,t=JSON.parse(e),this.data=t,this.data.nickName=te.xssFilter(t.nickName),this.data.msg=te.xssFilter(t.msg),this.isAppMsg=!0}catch(n){alert("消息解析异常")}else this.isAppMsg=!1,this.text=te.xssFilter(e)},ft.Elem.Text.prototype.getData=function(){return this.data},ft.Elem.Text.prototype.getText=function(){return this.text},ft.Elem.Text.prototype.toHtml=function(){return this.text},ft.Elem.Face=function(e,t){this.index=e,this.data=t},ft.Elem.Face.prototype.getIndex=function(){return this.index},ft.Elem.Face.prototype.getData=function(){return this.data},ft.Elem.Face.prototype.toHtml=function(){var e=ee[this.index];return e&&e[1]?"<img src='"+e[1]+"'/>":this.data},ft.Elem.Images=function(e){this.UUID=e,this.ImageInfoArray=[]},ft.Elem.Images.prototype.addImage=function(e){this.ImageInfoArray.push(e)},ft.Elem.Images.prototype.toHtml=function(){var e=this.getImage(p.SMALL),t=this.getImage(p.LARGE),n=this.getImage(p.ORIGIN);return t||(t=e),n||(n=e),"<img src='"+e.getUrl()+"#"+t.getUrl()+"#"+n.getUrl()+"' style='CURSOR: hand' id='"+this.getImageId()+"' bigImgUrl='"+t.getUrl()+"' onclick='imageClick(this)' />"},ft.Elem.Images.prototype.getImageId=function(){return this.UUID},ft.Elem.Images.prototype.getImage=function(e){for(var t in this.ImageInfoArray)if(this.ImageInfoArray[t].getType()==e)return this.ImageInfoArray[t];return null},ft.Elem.Images.Image=function(e,t,n,r,i){this.type=e,this.size=t,this.width=n,this.height=r,this.url=i},ft.Elem.Images.Image.prototype.getType=function(){return this.type},ft.Elem.Images.Image.prototype.getSize=function(){return this.size},ft.Elem.Images.Image.prototype.getWidth=function(){return this.width},ft.Elem.Images.Image.prototype.getHeight=function(){return this.height},ft.Elem.Images.Image.prototype.getUrl=function(){return this.url},ft.Elem.Sound=function(e,t,n,r,i){this.uuid=e,this.second=t,this.size=n,this.senderId=r,this.downUrl=i},ft.Elem.Sound.prototype.getUUID=function(){return this.uuid},ft.Elem.Sound.prototype.getSecond=function(){return this.second},ft.Elem.Sound.prototype.getSize=function(){return this.size},ft.Elem.Sound.prototype.getSenderId=function(){return this.senderId},ft.Elem.Sound.prototype.getDownUrl=function(){return this.downUrl},ft.Elem.Sound.prototype.toHtml=function(){return"ie"==i.type&&parseInt(i.ver)<=8?"[这是一条语音消息]demo暂不支持ie8(含)以下浏览器播放语音,语音URL:"+this.downUrl:'<audio src="'+this.downUrl+'" controls="controls" onplay="onChangePlayAudio(this)" preload="none"></audio>'},ft.Elem.File=function(e,t,n,r,i){this.uuid=e,this.name=t,this.size=n,this.senderId=r,this.downUrl=i},ft.Elem.File.prototype.getUUID=function(){return this.uuid},ft.Elem.File.prototype.getName=function(){return this.name},ft.Elem.File.prototype.getSize=function(){return this.size},ft.Elem.File.prototype.getSenderId=function(){return this.senderId},ft.Elem.File.prototype.getDownUrl=function(){return this.downUrl},ft.Elem.File.prototype.toHtml=function(){var e=Math.round(this.size/1024);return'<a href="'+this.downUrl+'" title="点击下载文件" ><i class="glyphicon glyphicon-file">&nbsp;'+this.name+"("+e+"KB)</i></a>"},ft.Elem.GroupTip=function(e,t,n,r,i){this.opType=e,this.opUserId=t,this.groupId=n,this.groupName=r,this.userIdList=i||[],this.groupInfoList=[],this.memberInfoList=[],this.groupMemberNum=null},ft.Elem.GroupTip.prototype.addGroupInfo=function(e){this.groupInfoList.push(e)},ft.Elem.GroupTip.prototype.addMemberInfo=function(e){this.memberInfoList.push(e)},ft.Elem.GroupTip.prototype.getOpType=function(){return this.opType},ft.Elem.GroupTip.prototype.getOpUserId=function(){return this.opUserId},ft.Elem.GroupTip.prototype.getGroupId=function(){return this.groupId},ft.Elem.GroupTip.prototype.getGroupName=function(){return this.groupName},ft.Elem.GroupTip.prototype.getUserIdList=function(){return this.userIdList},ft.Elem.GroupTip.prototype.getGroupInfoList=function(){return this.groupInfoList},ft.Elem.GroupTip.prototype.getMemberInfoList=function(){return this.memberInfoList},ft.Elem.GroupTip.prototype.getGroupMemberNum=function(){return this.groupMemberNum},ft.Elem.GroupTip.prototype.setGroupMemberNum=function(e){return this.groupMemberNum=e},ft.Elem.GroupTip.prototype.toHtml=function(){var e="[群提示消息]",t=R-1;switch(this.opType){case C.JOIN:for(var n in e+=this.opUserId+"邀请了",this.userIdList)if(e+=this.userIdList[n]+",",this.userIdList.length>R&&n==t){e+="等"+this.userIdList.length+"人";break}e+="加入该群";break;case C.QUIT:e+=this.opUserId+"主动退出该群";break;case C.KICK:for(var n in e+=this.opUserId+"将",this.userIdList)if(e+=this.userIdList[n]+",",this.userIdList.length>R&&n==t){e+="等"+this.userIdList.length+"人";break}e+="踢出该群";break;case C.SET_ADMIN:for(var n in e+=this.opUserId+"将",this.userIdList)if(e+=this.userIdList[n]+",",this.userIdList.length>R&&n==t){e+="等"+this.userIdList.length+"人";break}e+="设为管理员";break;case C.CANCEL_ADMIN:for(var n in e+=this.opUserId+"取消",this.userIdList)if(e+=this.userIdList[n]+",",this.userIdList.length>R&&n==t){e+="等"+this.userIdList.length+"人";break}e+="的管理员资格";break;case C.MODIFY_GROUP_INFO:for(var n in e+=this.opUserId+"修改了群资料：",this.groupInfoList){var r=this.groupInfoList[n].getType(),i=this.groupInfoList[n].getValue();switch(r){case _.FACE_URL:e+="群头像为"+i+"; ";break;case _.NAME:e+="群名称为"+i+"; ";break;case _.OWNER:e+="群主为"+i+"; ";break;case _.NOTIFICATION:e+="群公告为"+i+"; ";break;case _.INTRODUCTION:e+="群简介为"+i+"; ";break;default:e+="未知信息为:type="+r+",value="+i+"; ";break}}break;case C.MODIFY_MEMBER_INFO:for(var n in e+=this.opUserId+"修改了群成员资料:",this.memberInfoList){var o=this.memberInfoList[n].getUserId(),a=this.memberInfoList[n].getShutupTime();if(e+=o+": ",e+=null!=a&&void 0!==a?0==a?"取消禁言; ":"禁言"+a+"秒; ":" shutupTime为空",this.memberInfoList.length>R&&n==t){e+="等"+this.memberInfoList.length+"人";break}}break;default:e+="未知群提示消息类型：type="+this.opType;break}return e},ft.Elem.GroupTip.GroupInfo=function(e,t){this.type=e,this.value=t},ft.Elem.GroupTip.GroupInfo.prototype.getType=function(){return this.type},ft.Elem.GroupTip.GroupInfo.prototype.getValue=function(){return this.value},ft.Elem.GroupTip.MemberInfo=function(e,t){this.userId=e,this.shutupTime=t},ft.Elem.GroupTip.MemberInfo.prototype.getUserId=function(){return this.userId},ft.Elem.GroupTip.MemberInfo.prototype.getShutupTime=function(){return this.shutupTime},ft.Elem.Custom=function(e,t,n){this.data=e,this.desc=t,this.ext=n},ft.Elem.Custom.prototype.getData=function(){return this.data},ft.Elem.Custom.prototype.getDesc=function(){return this.desc},ft.Elem.Custom.prototype.getExt=function(){return this.ext},ft.Elem.Custom.prototype.toHtml=function(){return this.data};var dt=new function(){var e={},t=[],n={};this.cookie="",this.syncFlag=0;var r=function(t){for(var n in e)t(e[n])},i=function(e){var t=!1,r=e.sess._impl.skey,i=e.isSend+e.seq+e.random,o=n[r]&&n[r][i];return o&&Math.abs(e.time-o.time)<1800&&(t=!0),n[r]?n[r][i]={time:e.time}:(n[r]={},n[r][i]={time:e.time}),t};this.sessMap=function(){return e},this.sessCount=function(){return t.length},this.sessByTypeId=function(t,n){var r=ct.skey(t,n);return"undefined"===r||null==r?null:e[r]},this.delSessByTypeId=function(t,r){var i=ct.skey(t,r);return"undefined"!==i&&null!=i&&(e[i]&&(delete e[i],delete n[i]),!0)},this.resetCookieAndSyncFlag=function(){this.cookie="",this.syncFlag=0},this.setAutoRead=function(e,t,n){if(n&&r(function(e){e._impl.isAutoRead=!1}),e&&(e._impl.isAutoRead=t,t))if(e._impl.unread=0,e._impl.type==l.C2C){var i=[];i.push(new ht(e._impl.id,e._impl.time)),Se(dt.cookie,i,function(e){ne.info("[setAutoRead]: c2CMsgReaded success")},function(e){ne.error("[setAutoRead}: c2CMsgReaded failed:"+e.ErrorInfo)})}else if(e._impl.type==l.GROUP){var o={GroupId:e._impl.id,MsgReadedSeq:e._impl.curMaxMsgSeq};Je(o,function(e){ne.info("groupMsgReaded success")},function(e){ne.error("groupMsgReaded failed:"+e.ErrorInfo)})}},this.c2CMsgReaded=function(e,t,n){var r=[];r.push(new ht(e.To_Account,e.LastedMsgTime)),Se(dt.cookie,r,function(e){t&&(ne.info("c2CMsgReaded success"),t(e))},function(e){n&&(ne.error("c2CMsgReaded failed:"+e.ErrorInfo),n(e))})},this.addSession=function(t){e[t._impl.skey]=t},this.delSession=function(t){delete e[t._impl.skey]},this.addMsg=function(t){if(i(t))return!1;var n=t.sess;return e[n._impl.skey]||this.addSession(n),n._impl_addMsg(t),!0},this.updateTimeline=function(){var e=new Array;r(function(t){e.push(t)}),e.sort(function(e,t){return t.time-e.time}),t=e}},pt=new function(){var e=null,t=null,n={1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,255:null},r=!1,i=0,o=0,a=null,s=!1,u=0,c=90,f=null,p={},A=[],I=null,D=0,M={},R={};this.setLongPollingOn=function(e){r=e},this.getLongPollingOn=function(){return r},this.resetLongPollingInfo=function(){r=!1,i=0,o=0},this.setBigGroupLongPollingOn=function(e){s=e},this.setBigGroupLongPollingKey=function(e){f=e},this.resetBigGroupLongPollingInfo=function(){s=!1,u=0,f=null,p={}},this.setBigGroupLongPollingMsgMap=function(e,t){var n=p[e];n?(n=parseInt(n)+t,p[e]=n):p[e]=t},this.clear=function(){t=null,n={1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null,9:null,10:null,11:null,255:null},onFriendSystemNotifyCallbacks={1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null},onProfileSystemNotifyCallbacks={1:null},e=null,r=!1,i=0,o=0,a=null,s=!1,u=0,f=null,p={},R={},A=[],I=null,null};var N=function(e,t){st(function(t){A=t.IpList,I=t.AuthKey,t.ExpireTime,e&&e(t)},function(e){ne.error("initIpAndAuthkey failed:"+e.ErrorInfo),t&&t(e)})},F=function(e,t){var n={Member_Account:K.identifier,Limit:1e3,Offset:0,GroupBaseInfoFilter:["NextMsgSeq"]};je(n,function(t){if(!t.GroupIdList||0==t.GroupIdList.length)return ne.info("initMyGroupMaxSeqs: 目前还没有加入任何群组"),void(e&&e(t));for(var n=0;n<t.GroupIdList.length;n++){var r=t.GroupIdList[n].GroupId,i=t.GroupIdList[n].NextMsgSeq-1;M[r]=i}e&&e(t)},function(e){ne.error("initMyGroupMaxSeqs failed:"+e.ErrorInfo),t&&t(e)})},Q=function(e,t,n){D++;var r={GroupId:e,ReqMsgSeq:t,ReqMsgNumber:n};ne.warn("第"+D+"次补齐群消息,参数="+JSON.stringify(r)),pt.syncGroupMsgs(r)},j=function(e,t){for(var n in e){var r=e[n];if(r.From_Account){var i=Z(r,!1,!0);i&&t.push(i)}}return t},H=function(t,n){var r={},i=[],a=99999999,s=-1;for(var u in n){var l=r[n[u].ToGroupId];l||(l=r[n[u].ToGroupId]={min:a,max:s,msgs:[]}),n[u].NoticeSeq>o&&(ne.warn("noticeSeq="+o+",msgNoticeSeq="+n[u].NoticeSeq),o=n[u].NoticeSeq),n[u].Event=t,r[n[u].ToGroupId].msgs.push(n[u]),n[u].MsgSeq<l.min&&(r[n[u].ToGroupId].min=n[u].MsgSeq),n[u].MsgSeq>l.max&&(r[n[u].ToGroupId].max=n[u].MsgSeq)}for(var c in r){var h=r[c].max-r[c].min+1,f=M[c];f?r[c].min-f>1||r[c].msgs.length<h?(ne.warn("发起一次补齐群消息请求,curMaxMsgSeq="+f+", minMsgSeq="+r[c].min+", maxMsgSeq="+r[c].max+", msgs.length="+r[c].msgs.length+", tempCount="+h),Q(c,r[c].max,r[c].max-f)):i=j(r[c].msgs,i):(ne.warn("不存在该群的最大消息seq，群id="+c),r[c].msgs.length<h?(ne.warn("发起一次补齐群消息请求,minMsgSeq="+r[c].min+", maxMsgSeq="+r[c].max+", msgs.length="+r[c].msgs.length+", tempCount="+h),Q(c,r[c].max,h)):i=j(r[c].msgs,i))}i.length&&dt.updateTimeline(),e&&i.length&&e(i)},Y=function(e,t){for(var r in e){var i=e[r],a=i.MsgBody,s=a.ReportType;0==t&&i.NoticeSeq&&i.NoticeSeq>o&&(o=i.NoticeSeq);var u=i.GroupInfo.To_Account;if(u&&u==K.identifier){if(t){var l=i.ToGroupId+"_"+s+"_"+a.Operator_Account,c=R[l];if(c){ne.warn("收到重复的群系统消息：key="+l);continue}R[l]=!0}var h={SrcFlag:0,ReportType:s,GroupId:i.ToGroupId,GroupName:i.GroupInfo.GroupName,Operator_Account:a.Operator_Account,MsgTime:i.MsgTimeStamp};switch(s){case T.JOIN_GROUP_REQUEST:h["RemarkInfo"]=a.RemarkInfo,h["MsgKey"]=a.MsgKey,h["Authentication"]=a.Authentication,h["UserDefinedField"]=i.UserDefinedField,h["From_Account"]=i.From_Account,h["MsgSeq"]=i.ClientSeq,h["MsgRandom"]=i.MsgRandom;break;case T.JOIN_GROUP_ACCEPT:case T.JOIN_GROUP_REFUSE:h["RemarkInfo"]=a.RemarkInfo;break;case T.KICK:case T.DESTORY:case T.CREATE:case T.INVITED_JOIN_GROUP_REQUEST:case T.QUIT:case T.SET_ADMIN:case T.CANCEL_ADMIN:case T.REVOKE:break;case T.CUSTOM:h["MsgSeq"]=i.MsgSeq,h["UserDefinedField"]=a.UserDefinedField;break;default:ne.error("未知群系统消息类型：reportType="+s);break}t?s==T.JOIN_GROUP_REQUEST&&n[s]&&n[s](h):n[s]&&n[s](h)}else ne.error("收到本不应该给自己的系统消息: To_Account="+u)}},q=function(e,t){var n,r,i;for(var a in e){switch(n=e[a],r=n.PushType,0==t&&n.NoticeSeq&&n.NoticeSeq>o&&(o=n.NoticeSeq),i={Type:r},r){case S.FRIEND_ADD:i["Accounts"]=n.FriendAdd_Account;break;case S.FRIEND_DELETE:i["Accounts"]=n.FriendDel_Account;break;case S.PENDENCY_ADD:i["PendencyList"]=n.PendencyAdd;break;case S.PENDENCY_DELETE:i["Accounts"]=n.FrienPencydDel_Account;break;case S.BLACK_LIST_ADD:i["Accounts"]=n.BlackListAdd_Account;break;case S.BLACK_LIST_DELETE:i["Accounts"]=n.BlackListDel_Account;break;default:ne.error("未知好友系统通知类型：friendNotice="+JSON.stringify(n));break}t?r==S.PENDENCY_ADD&&onFriendSystemNotifyCallbacks[r]&&onFriendSystemNotifyCallbacks[r](i):onFriendSystemNotifyCallbacks[r]&&onFriendSystemNotifyCallbacks[r](i)}},J=function(e,t){var n,r,i;for(var a in e){switch(n=e[a],r=n.PushType,0==t&&n.NoticeSeq&&n.NoticeSeq>o&&(o=n.NoticeSeq),i={Type:r},r){case w.PROFILE_MODIFY:i["Profile_Account"]=n.Profile_Account,i["ProfileList"]=n.ProfileList;break;default:ne.error("未知资料系统通知类型：profileNotice="+JSON.stringify(n));break}t?r==w.PROFILE_MODIFY&&onProfileSystemNotifyCallbacks[r]&&onProfileSystemNotifyCallbacks[r](i):onProfileSystemNotifyCallbacks[r]&&onProfileSystemNotifyCallbacks[r](i)}},V=function(e){var t=e.MsgBody,r=t.ReportType,i=(e.GroupInfo.To_Account,{SrcFlag:1,ReportType:r,GroupId:e.ToGroupId,GroupName:e.GroupInfo.GroupName,Operator_Account:t.Operator_Account,MsgTime:e.MsgTimeStamp});switch(r){case T.JOIN_GROUP_REQUEST:i["RemarkInfo"]=t.RemarkInfo,i["MsgKey"]=t.MsgKey,i["Authentication"]=t.Authentication,i["UserDefinedField"]=e.UserDefinedField,i["From_Account"]=e.From_Account,i["MsgSeq"]=e.ClientSeq,i["MsgRandom"]=e.MsgRandom;break;case T.JOIN_GROUP_ACCEPT:case T.JOIN_GROUP_REFUSE:i["RemarkInfo"]=t.RemarkInfo;break;case T.KICK:case T.DESTORY:case T.CREATE:case T.INVITED_JOIN_GROUP_REQUEST:case T.QUIT:case T.SET_ADMIN:case T.CANCEL_ADMIN:case T.REVOKE:break;case T.CUSTOM:i["MsgSeq"]=e.MsgSeq,i["UserDefinedField"]=t.UserDefinedField;break;default:ne.error("未知群系统消息类型：reportType="+r);break}n[r]&&n[r](i)};this.longPolling=function(e,t){var n={Timeout:90,Cookie:{NotifySeq:i,NoticeSeq:o}};Ce(n,function(e){for(var t in e.EventArray){var n=e.EventArray[t];switch(n.Event){case v.C2C:i=n.NotifySeq,ne.warn("longpolling: received new c2c msg"),pt.syncMsgs();break;case v.GROUP_COMMON:ne.warn("longpolling: received new group msgs"),H(n.Event,n.GroupMsgArray);break;case v.GROUP_TIP:ne.warn("longpolling: received new group tips"),H(n.Event,n.GroupTips);break;case v.GROUP_SYSTEM:ne.warn("longpolling: received new group system msgs"),Y(n.GroupTips,!1);break;case v.FRIEND_NOTICE:ne.warn("longpolling: received new friend system notice"),q(n.FriendListMod,!1);break;case v.PROFILE_NOTICE:ne.warn("longpolling: received new profile system notice"),J(n.ProfileDataMod,!1);break;default:ne.error("longpolling收到未知新消息类型: Event="+n.Event);break}}var r={ActionStatus:h.OK,ErrorCode:0};W(r)},function(e){W(e),t&&t(e)})},this.bigGroupLongPolling=function(e,t){var n={StartSeq:u,HoldTime:c,Key:f};_e(n,function(t){var n=[];if(u=t.NextSeq,c=t.HoldTime,f=t.Key,t.RspMsgList&&t.RspMsgList.length>0){for(var r,i,o,l=0,d=t.RspMsgList.length-1;d>=0;d--)if(r=t.RspMsgList[d],!r.IsPlaceMsg&&r.From_Account&&r.MsgBody&&0!=r.MsgBody.length)switch(i=r.Event,i){case v.GROUP_COMMON:ne.info("bigGroupLongPolling: return new group msg"),o=Z(r,!1,!1),o&&n.push(o),l+=1;break;case v.GROUP_TIP:case v.GROUP_TIP2:ne.info("bigGroupLongPolling: return new group tip"),o=Z(r,!1,!1),o&&n.push(o);break;case v.GROUP_SYSTEM:ne.info("bigGroupLongPolling: new group system msg"),V(r);break;default:ne.error("bigGroupLongPolling收到未知新消息类型: Event="+i);break}l>0&&(pt.setBigGroupLongPollingMsgMap(r.ToGroupId,l),ne.warn("current bigGroupLongPollingMsgMap: "+JSON.stringify(p)))}U=0;var g={ActionStatus:h.OK,ErrorCode:b.ON,ErrorInfo:"connection is ok..."};lt.callBack(g),e?e(n):a&&a(n),s&&pt.bigGroupLongPolling()},function(e){if(e.ErrorCode!=x&&(ne.error(e.ErrorInfo),U++),U<G)s&&pt.bigGroupLongPolling();else{var n={ActionStatus:h.FAIL,ErrorCode:b.OFF,ErrorInfo:"connection is off"};lt.callBack(n)}t&&t(e)},1e3*c)};var W=function(e){if(0==e.ErrorCode||e.ErrorCode==x){var t;L=0,O=!1;var n=!1;switch(P){case b.INIT:n=!0,P=b.ON,t="create connection successfully(INIT->ON)";break;case b.ON:t="connection is on...(ON->ON)";break;case b.RECONNECT:P=b.ON,t="connection is on...(RECONNECT->ON)";break;case b.OFF:n=!0,P=b.RECONNECT,t="reconnect successfully(OFF->RECONNECT)";break}var i={ActionStatus:h.OK,ErrorCode:P,ErrorInfo:t};n&&lt.callBack(i),r&&pt.longPolling()}else if(L++,ne.warn("longPolling接口第"+L+"次报错: "+e.ErrorInfo),L<=G)setTimeout(z,100);else{P=b.OFF;var o={ActionStatus:h.FAIL,ErrorCode:b.OFF,ErrorInfo:"connection is off"};0==O&&lt.callBack(o),O=!0,ne.warn(B+"毫秒之后,SDK会发起新的longPolling请求..."),setTimeout(z,B)}},z=function(){r&&pt.longPolling()},X=function(e){for(var t in e){var n=e[t];switch(n.Event){case v.GROUP_SYSTEM:ne.warn("handlerApplyJoinGroupSystemMsgs： handler new group system msg"),Y(n.GroupTips,!0);break;default:ne.error("syncMsgs收到未知的群系统消息类型: Event="+n.Event);break}}};this.syncMsgs=function(t,n){var r=[],i=[];Te(dt.cookie,dt.syncFlag,function(n){for(var o in 2==n.SyncFlag&&(dt.syncFlag=0),i=n.MsgList,dt.cookie=n.Cookie,i){var a,s,u,c=i[o];c.From_Account==K.identifier?(a=!0,s=c.To_Account,u=""):(a=!1,s=c.From_Account,u="");var h=dt.sessByTypeId(l.C2C,s);h||(h=new ct(l.C2C,s,s,u,0,0));var f=new ft(h,a,c.MsgSeq,c.MsgRandom,c.MsgTimeStamp,c.From_Account),p=null,g=null,m=null;for(var v in c.MsgBody){switch(p=c.MsgBody[v],m=p.MsgType,m){case d.TEXT:g=new ft.Elem.Text(p.MsgContent.Text);break;case d.FACE:g=new ft.Elem.Face(p.MsgContent.Index,p.MsgContent.Data);break;case d.IMAGE:for(var A in g=new ft.Elem.Images(p.MsgContent.UUID),p.MsgContent.ImageInfoArray){var y=p.MsgContent.ImageInfoArray[A];g.addImage(new ft.Elem.Images.Image(y.Type,y.Size,y.Width,y.Height,y.URL))}break;case d.SOUND:var E=$(p.MsgContent.UUID,c.From_Account);E?g=new ft.Elem.Sound(p.MsgContent.UUID,p.MsgContent.Second,p.MsgContent.Size,c.From_Account,E):(m=d.TEXT,g=new ft.Elem.Text("[语音消息]下载地址解析出错"));break;case d.LOCATION:m=d.TEXT,g=new ft.Elem.Text("web端暂不支持地理位置消息");break;case d.FILE:case d.FILE+" ":m=d.FILE;var C=ee(p.MsgContent.UUID,c.From_Account,p.MsgContent.FileName);C?g=new ft.Elem.File(p.MsgContent.UUID,p.MsgContent.FileName,p.MsgContent.FileSize,c.From_Account,C):(m=d.TEXT,g=new ft.Elem.Text("[文件消息下载地址解析出错]"));break;case d.CUSTOM:try{var _=JSON.parse(p.MsgContent.Data);if(_&&_.userAction&&_.userAction==k.ING)continue}catch(T){}m=d.CUSTOM,g=new ft.Elem.Custom(p.MsgContent.Data,p.MsgContent.Desc,p.MsgContent.Ext);break;default:m=d.TEXT,g=new ft.Elem.Text("web端暂不支持"+p.MsgType+"消息");break}f.elems.push(new ft.Elem(m,g))}f.elems.length>0&&dt.addMsg(f)&&r.push(f)}X(n.EventArray),r.length>0&&dt.updateTimeline(),t?t(r):r.length>0&&e&&e(r)},function(e){ne.error("getMsgs failed:"+e.ErrorInfo),n&&n(e)})},this.getC2CHistoryMsgs=function(e,t,n){if(e.Peer_Account||!n)if(e.MaxCnt||(e.MaxCnt=15),e.MaxCnt<=0&&n)n(te.getReturnError("MaxCnt should be greater than 0",-14));else{if(e.MaxCnt>15)return n?void n(te.getReturnError("MaxCnt can not be greater than 15",-15)):void 0;null!=e.MsgKey&&void 0!=e.MsgKey||(e.MsgKey="");var r={Peer_Account:e.Peer_Account,MaxCnt:e.MaxCnt,LastMsgTime:e.LastMsgTime,MsgKey:e.MsgKey};Ie(r,function(e){var n=[];for(var r in msgInfos=e.MsgList,msgInfos){var i,o,a,s=msgInfos[r];s.From_Account==K.identifier?(i=!0,o=s.To_Account,a=""):(i=!1,o=s.From_Account,a="");var u=dt.sessByTypeId(l.C2C,o);u||(u=new ct(l.C2C,o,o,a,0,0));var c=new ft(u,i,s.MsgSeq,s.MsgRandom,s.MsgTimeStamp,s.From_Account),h=null,f=null,p=null;for(var g in s.MsgBody){switch(h=s.MsgBody[g],p=h.MsgType,p){case d.TEXT:f=new ft.Elem.Text(h.MsgContent.Text);break;case d.FACE:f=new ft.Elem.Face(h.MsgContent.Index,h.MsgContent.Data);break;case d.IMAGE:for(var m in f=new ft.Elem.Images(h.MsgContent.UUID),h.MsgContent.ImageInfoArray){var v=h.MsgContent.ImageInfoArray[m];f.addImage(new ft.Elem.Images.Image(v.Type,v.Size,v.Width,v.Height,v.URL))}break;case d.SOUND:var A=$(h.MsgContent.UUID,s.From_Account);A?f=new ft.Elem.Sound(h.MsgContent.UUID,h.MsgContent.Second,h.MsgContent.Size,s.From_Account,A):(p=d.TEXT,f=new ft.Elem.Text("[语音消息]下载地址解析出错"));break;case d.LOCATION:p=d.TEXT,f=new ft.Elem.Text("web端暂不支持地理位置消息");break;case d.FILE:case d.FILE+" ":p=d.FILE;var y=ee(h.MsgContent.UUID,s.From_Account,h.MsgContent.FileName);y?f=new ft.Elem.File(h.MsgContent.UUID,h.MsgContent.FileName,h.MsgContent.FileSize,s.From_Account,y):(p=d.TEXT,f=new ft.Elem.Text("[文件消息下载地址解析出错]"));break;case d.CUSTOM:p=d.CUSTOM,f=new ft.Elem.Custom(h.MsgContent.Data,h.MsgContent.Desc,h.MsgContent.Ext);break;default:p=d.TEXT,f=new ft.Elem.Text("web端暂不支持"+h.MsgType+"消息");break}c.elems.push(new ft.Elem(p,f))}dt.addMsg(c),n.push(c)}if(dt.updateTimeline(),t){var E={Complete:e.Complete,MsgCount:n.length,LastMsgTime:e.LastMsgTime,MsgKey:e.MsgKey,MsgList:n};t(E)}},function(e){ne.error("getC2CHistoryMsgs failed:"+e.ErrorInfo),n&&n(e)})}else n(te.getReturnError("Peer_Account is empty",-13))},this.syncGroupMsgs=function(t,n,r){if(t.ReqMsgSeq<=0){if(r){var i="ReqMsgSeq must be greater than 0",o=te.getReturnError(i,-16);r(o)}}else{var a={GroupId:t.GroupId,ReqMsgSeq:t.ReqMsgSeq,ReqMsgNumber:t.ReqMsgNumber};qe(a,function(t){var r=[],i=(t.GroupId,t.RspMsgList);if(null!=i&&void 0!=i){for(var o=i.length-1;o>=0;o--){var a=i[o];if(!a.IsPlaceMsg&&a.From_Account&&a.MsgBody&&0!=a.MsgBody.length){var s=Z(a,!0,!0);s&&r.push(s)}}r.length>0&&dt.updateTimeline(),n?n(r):r.length>0&&e&&e(r)}else n&&n([])},function(e){ne.error("getGroupMsgs failed:"+e.ErrorInfo),r&&r(e)})}};var Z=function(e,n,r){if(e.IsPlaceMsg||!e.From_Account||!e.MsgBody||0==e.MsgBody.length)return null;var i,o,a,s=e.ToGroupId,u=s;e.GroupInfo&&e.GroupInfo.GroupName&&(u=e.GroupInfo.GroupName),a=e.From_Account,e.GroupInfo&&e.GroupInfo.From_AccountNick&&(a=e.GroupInfo.From_AccountNick),e.From_Account==K.identifier?(i=!0,e.From_Account,o=""):(i=!1,e.From_Account,o="");var c=dt.sessByTypeId(l.GROUP,s);c||(c=new ct(l.GROUP,s,u,o,0,0));var h=y.COMMON;if(v.GROUP_TIP==e.Event||v.GROUP_TIP2==e.Event){h=y.TIP;var f=e.MsgBody;e.MsgBody=[],e.MsgBody.push({MsgType:d.GROUP_TIP,MsgContent:f})}else e.MsgPriority&&(e.MsgPriority==E.REDPACKET?h=y.REDPACKET:e.MsgPriority==E.LOVEMSG&&(h=y.LOVEMSG));var p=new ft(c,i,e.MsgSeq,e.MsgSeq,e.MsgTimeStamp,e.From_Account,h,a),g=null,m=null,A=null;for(var T in e.MsgBody){switch(g=e.MsgBody[T],A=g.MsgType,A){case d.TEXT:m=new ft.Elem.Text(g.MsgContent.Text);break;case d.FACE:m=new ft.Elem.Face(g.MsgContent.Index,g.MsgContent.Data);break;case d.IMAGE:for(var S in m=new ft.Elem.Images(g.MsgContent.UUID),g.MsgContent.ImageInfoArray)m.addImage(new ft.Elem.Images.Image(g.MsgContent.ImageInfoArray[S].Type,g.MsgContent.ImageInfoArray[S].Size,g.MsgContent.ImageInfoArray[S].Width,g.MsgContent.ImageInfoArray[S].Height,g.MsgContent.ImageInfoArray[S].URL));break;case d.SOUND:var w=$(g.MsgContent.UUID,e.From_Account);w?m=new ft.Elem.Sound(g.MsgContent.UUID,g.MsgContent.Second,g.MsgContent.Size,e.From_Account,w):(A=d.TEXT,m=new ft.Elem.Text("[语音消息]下载地址解析出错"));break;case d.LOCATION:A=d.TEXT,m=new ft.Elem.Text("web端暂不支持地理位置消息");break;case d.FILE:case d.FILE+" ":A=d.FILE;var I=ee(g.MsgContent.UUID,e.From_Account,g.MsgContent.FileName);I?m=new ft.Elem.File(g.MsgContent.UUID,g.MsgContent.FileName,g.MsgContent.FileSize,e.From_Account,I):(A=d.TEXT,m=new ft.Elem.Text("[文件消息]地址解析出错"));break;case d.GROUP_TIP:var b=g.MsgContent.OpType;if(m=new ft.Elem.GroupTip(b,g.MsgContent.Operator_Account,s,e.GroupInfo.GroupName,g.MsgContent.List_Account),C.JOIN==b||C.QUIT==b)m.setGroupMemberNum(g.MsgContent.MemberNum);else if(C.MODIFY_GROUP_INFO==b){var D=!1,k={GroupId:s,GroupFaceUrl:null,GroupName:null,OwnerAccount:null,GroupNotification:null,GroupIntroduction:null},R=g.MsgContent.MsgGroupNewInfo;if(R.GroupFaceUrl){var P=new ft.Elem.GroupTip.GroupInfo(_.FACE_URL,R.GroupFaceUrl);m.addGroupInfo(P),D=!0,k.GroupFaceUrl=R.GroupFaceUrl}if(R.GroupName){var O=new ft.Elem.GroupTip.GroupInfo(_.NAME,R.GroupName);m.addGroupInfo(O),D=!0,k.GroupName=R.GroupName}if(R.Owner_Account){var L=new ft.Elem.GroupTip.GroupInfo(_.OWNER,R.Owner_Account);m.addGroupInfo(L),D=!0,k.OwnerAccount=R.Owner_Account}if(R.GroupNotification){var N=new ft.Elem.GroupTip.GroupInfo(_.NOTIFICATION,R.GroupNotification);m.addGroupInfo(N),D=!0,k.GroupNotification=R.GroupNotification}if(R.GroupIntroduction){var B=new ft.Elem.GroupTip.GroupInfo(_.INTRODUCTION,R.GroupIntroduction);m.addGroupInfo(B),D=!0,k.GroupIntroduction=R.GroupIntroduction}0==n&&D&&t&&t(k)}else if(C.MODIFY_MEMBER_INFO==b){var x=g.MsgContent.MsgMemberInfo;for(var U in x){var G=x[U];m.addMemberInfo(new ft.Elem.GroupTip.MemberInfo(G.User_Account,G.ShutupTime))}}break;case d.CUSTOM:A=d.CUSTOM,m=new ft.Elem.Custom(g.MsgContent.Data,g.MsgContent.Desc,g.MsgContent.Ext);break;default:A=d.TEXT,m=new ft.Elem.Text("web端暂不支持"+g.MsgType+"消息");break}p.elems.push(new ft.Elem(A,m))}if(0==r)return p;if(dt.addMsg(p)){var F=M[s];return F?e.MsgSeq>F&&(M[s]=e.MsgSeq):M[s]=e.MsgSeq,p}return null};this.init=function(i,o,s){if(i.onMsgNotify||ne.warn("listeners.onMsgNotify is empty"),e=i.onMsgNotify,i.onBigGroupMsgNotify?a=i.onBigGroupMsgNotify:ne.warn("listeners.onBigGroupMsgNotify is empty"),i.onGroupSystemNotifys?n=i.onGroupSystemNotifys:ne.warn("listeners.onGroupSystemNotifys is empty"),i.onGroupInfoChangeNotify?t=i.onGroupInfoChangeNotify:ne.warn("listeners.onGroupInfoChangeNotify is empty"),i.onFriendSystemNotifys?onFriendSystemNotifyCallbacks=i.onFriendSystemNotifys:ne.warn("listeners.onFriendSystemNotifys is empty"),i.onProfileSystemNotifys?onProfileSystemNotifyCallbacks=i.onProfileSystemNotifys:ne.warn("listeners.onProfileSystemNotifys is empty"),K.identifier&&K.userSig)F(function(e){ne.info("initMyGroupMaxSeqs success"),N(function(e){if(ne.info("initIpAndAuthkey success"),o){ne.info("login success(have login state))");var t={ActionStatus:h.OK,ErrorCode:0,ErrorInfo:"login success"};o(t)}pt.setLongPollingOn(!0),r&&pt.longPolling(o)},s)},s);else if(o){var u={ActionStatus:h.OK,ErrorCode:0,ErrorInfo:"login success(no login state)"};o(u)}},this.sendMsg=function(e,t,n){Ee(e,function(r){if(e.sess.type()==l.C2C){if(!dt.addMsg(e)){var i="sendMsg: addMsg failed!",o=te.getReturnError(i,-17);return ne.error(i),void(n&&n(o))}dt.updateTimeline()}t&&t(r)},function(e){n&&n(e)})};var $=function(e,t){var n=null;return I&&A[0]?n="http://"+A[0]+"/asn.com/stddownload_common_file?authkey="+I+"&bid="+g.BUSSINESS_ID+"&subbid="+K.sdkAppID+"&fileid="+e+"&filetype="+m.SOUND+"&openid="+t+"&ver=0":ne.error("拼接语音下载url不报错：ip或者authkey为空"),n},ee=function(e,t,n){var r=null;return I&&A[0]?r="http://"+A[0]+"/asn.com/stddownload_common_file?authkey="+I+"&bid="+g.BUSSINESS_ID+"&subbid="+K.sdkAppID+"&fileid="+e+"&filetype="+m.FILE+"&openid="+t+"&ver=0&filename="+encodeURIComponent(n):ne.error("拼接文件下载url不报错：ip或者authkey为空"),r}},gt=new function(){this.fileMd5=null;var e=function(e,t,n){var r=null;try{r=new FileReader}catch(c){if(n)return void n(te.getReturnError("当前浏览器不支持FileReader",-18))}var i=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice;if(i||!n){var o=2097152,a=Math.ceil(e.size/o),s=0,u=new SparkMD5;r.onload=function(e){for(var n="",r=new Uint8Array(e.target.result),i=r.byteLength,o=0;o<i;o++)n+=String.fromCharCode(r[o]);u.appendBinary(n),s++,s<a?l():(this.fileMd5=u.end(),t&&t(this.fileMd5))},l()}else n(te.getReturnError("当前浏览器不支持FileAPI",-19));function l(){var t=s*o,n=t+o>=e.size?e.size:t+o,a=i.call(e,t,n);r.readAsArrayBuffer(a)}};this.submitUploadFileForm=function(e,n,r){var i,o,a=e.formId,s=e.fileId,u=H++,l="uploadResultIframe_"+u,c=e.To_Account,f=e.businessType,d=document.getElementById(a);if(!d)return i="获取表单对象为空: formId="+a+"(formId非法)",o=te.getReturnError(i,-20),void(r&&r(o));var p=document.getElementById(s);if(!p)return i="获取文件对象为空: fileId="+s+"(没有选择文件或者fileId非法)",o=te.getReturnError(i,-21),void(r&&r(o));p.name="file";var g,m=document.createElement("iframe");m.name=l,m.id=l,m.style.display="none",document.body.appendChild(m),g=he()?"pic_up":"pic_up_test";var v="https://pic.tim.qq.com/v4/openpic/"+g+"?tinyid="+K.tinyid+"&a2="+K.a2+"&sdkappid="+K.sdkAppID+"&accounttype="+K.accountType+"&contenttype=http";function A(e,t){var n=document.createElement("input");n.type="hidden",n.name=e,n.value=t,d.appendChild(n)}function y(){var e;try{e=JSON.parse(m.contentWindow.name)||{}}catch(t){e={}}e.ActionStatus?(m.src="about:blank",m.parentNode.removeChild(m),m=null,e.ActionStatus==h.OK?n&&n(e):r&&r(e)):setTimeout(y,100)}d.action=v,d.method="post",d.target=l,A("App_Version",t.APPID.toString()),A("From_Account",K.identifier),A("To_Account",c),A("Seq",ie().toString()),A("Timestamp",re().toString()),A("Random",oe().toString()),A("Busi_Id",f),A("PkgFlag","0"),setTimeout(y,500),d.submit()},this.uploadFile=function(t,n,r){var i={init:function(e,t,n){var r=this;r.file=e.file,r.onProgressCallBack=e.onProgressCallBack,e.abortButton&&(e.abortButton.onclick=r.abortHandler),r.total=r.file.size,r.loaded=0,r.step=122880,r.sliceSize=0,r.sliceOffset=0,r.timestamp=re(),r.seq=ie(),r.random=oe(),r.fromAccount=K.identifier,r.toAccount=e.To_Account,r.fileMd5=e.fileMd5,r.businessType=e.businessType,r.cbOk=t,r.cbErr=n,r.reader=new FileReader,r.blobSlice=File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice,r.reader.onloadstart=r.onLoadStart,r.reader.onprogress=r.onProgress,r.reader.onabort=r.onAbort,r.reader.onerror=r.onerror,r.reader.onload=r.onLoad,r.reader.onloadend=r.onLoadEnd},upload:function(){var e=i;e.readBlob(0)},onLoadStart:function(){},onProgress:function(e){var t=i;t.loaded+=e.loaded,t.onProgressCallBack&&t.onProgressCallBack(t.loaded,t.total)},onAbort:function(){},onError:function(){},onLoad:function(e){var t=i;if(e.target.readyState==FileReader.DONE){var n=e.target.result,r=n.indexOf(",");-1!=r&&(n=n.substr(r+1));var o={From_Account:t.fromAccount,To_Account:t.toAccount,Busi_Id:t.businessType,File_Str_Md5:t.fileMd5,PkgFlag:1,File_Size:t.total,Slice_Offset:t.sliceOffset,Slice_Size:t.sliceSize,Slice_Data:n,Seq:t.seq,Timestamp:t.timestamp,Random:t.random};at(o,function(e){if(0==e.IsFinish)t.loaded=e.Next_Offset,t.loaded<t.total?t.readBlob(t.loaded):t.loaded=t.total;else if(t.cbOk){var n={ActionStatus:e.ActionStatus,ErrorCode:e.ErrorCode,ErrorInfo:e.ErrorInfo,File_UUID:e.File_UUID,URL_INFO:e.URL_INFO};t.cbOk(n)}},t.cbErr)}},onLoadEnd:function(){},readBlob:function(e){var t,n=i,r=n.file,o=e+n.step;o>n.total?(o=n.total,n.sliceSize=o-e):n.sliceSize=n.step,n.sliceOffset=e,t=n.blobSlice.call(r,e,o),n.reader.readAsDataURL(t)},abortHandler:function(){var e=i;e.reader&&e.reader.abort()}};e(t.file,function(e){ne.info("fileMd5: "+e),t.fileMd5=e,i.init(t,n,r),i.upload()},r)}};e.SESSION_TYPE=l,e.MSG_MAX_LENGTH=c,e.C2C_MSG_SUB_TYPE=A,e.GROUP_MSG_SUB_TYPE=y,e.MSG_ELEMENT_TYPE=d,e.GROUP_TIP_TYPE=C,e.IMAGE_TYPE=p,e.GROUP_SYSTEM_TYPE=T,e.FRIEND_NOTICE_TYPE=S,e.GROUP_TIP_MODIFY_GROUP_INFO_TYPE=_,e.BROWSER_INFO=i,e.Emotions=e.EmotionPicData=ee,e.EmotionDataIndexs=e.EmotionPicDataIndex=$,e.TLS_ERROR_CODE=I,e.CONNECTION_STATUS=b,e.UPLOAD_PIC_BUSSINESS_TYPE=D,e.Tool=te,e.Log=ne,e.Msg=ft,e.Session=ct,e.MsgStore={sessMap:function(){return dt.sessMap()},sessCount:function(){return dt.sessCount()},sessByTypeId:function(e,t){return dt.sessByTypeId(e,t)},delSessByTypeId:function(e,t){return dt.delSessByTypeId(e,t)},resetCookieAndSyncFlag:function(){return dt.resetCookieAndSyncFlag()}},e.login=e.init=function(e,t,n,r,i){lt.init(t.onConnNotify,r,i),t.jsonpCallback&&(j=t.jsonpCallback),ge(e,t,n,r,i)},e.logout=e.offline=function(e,t){return ye(e,t)},e.sendMsg=function(e,t,n){return pt.sendMsg(e,t,n)},e.syncMsgs=function(e,t){return pt.syncMsgs(e,t)},e.getC2CHistoryMsgs=function(e,t,n){return pt.getC2CHistoryMsgs(e,t,n)},e.syncGroupMsgs=function(e,t,n){return pt.syncGroupMsgs(e,t,n)},e.c2CMsgReaded=function(e,t,n){return dt.c2CMsgReaded(e,t,n)},e.groupMsgReaded=function(e,t,n){return Je(e,t,n)},e.setAutoRead=function(e,t,n){return dt.setAutoRead(e,t,n)},e.createGroup=function(e,t,n){return be(e,t,n)},e.createGroupHigh=function(e,t,n){return De(e,t,n)},e.applyJoinGroup=function(e,t,n){return Me(e,t,n)},e.handleApplyJoinGroupPendency=function(e,t,n){return Pe(e,t,n)},e.deleteApplyJoinGroupPendency=function(e,t,n){return we(e,t,n)},e.quitGroup=function(e,t,n){return Oe(e,t,n)},e.getGroupPublicInfo=function(e,t,n){return Ne(e,t,n)},e.getGroupInfo=function(e,t,n){return Be(e,t,n)},e.modifyGroupBaseInfo=function(e,t,n){return ke(e,t,n)},e.getGroupMemberInfo=function(e,t,n){return xe(e,t,n)},e.addGroupMember=function(e,t,n){return Ue(e,t,n)},e.modifyGroupMember=function(e,t,n){return Ge(e,t,n)},e.deleteGroupMember=function(e,t,n){return Fe(e,t,n)},e.destroyGroup=function(e,t,n){return Qe(e,t,n)},e.getJoinedGroupListHigh=function(e,t,n){return je(e,t,n)},e.getRoleInGroup=function(e,t,n){return He(e,t,n)},e.forbidSendMsg=function(e,t,n){return Ke(e,t,n)},e.sendCustomGroupNotify=function(e,t,n){return Ye(e,t,n)},e.applyJoinBigGroup=function(e,t,n){return Re(e,t,n)},e.quitBigGroup=function(e,t,n){return Le(e,t,n)},e.getProfilePortrait=function(e,t,n){return tt(e,t,n)},e.setProfilePortrait=function(e,t,n){return nt(e,t,n)},e.applyAddFriend=function(e,t,n){return We(e,t,n)},e.getPendency=function(e,t,n){return Xe(e,t,n)},e.deletePendency=function(e,t,n){return Ze(e,t,n)},e.responseFriend=function(e,t,n){return $e(e,t,n)},e.getAllFriend=function(e,t,n){return et(e,t,n)},e.deleteFriend=function(e,t,n){return ze(e,t,n)},e.addBlackList=function(e,t,n){return rt(e,t,n)},e.deleteBlackList=function(e,t,n){return it(e,t,n)},e.getBlackList=function(e,t,n){return ot(e,t,n)},e.uploadPic=function(e,t,n){return gt.uploadFile(e,t,n)},e.submitUploadFileForm=function(e,t,n){return gt.submitUploadFileForm(e,t,n)},e.setJsonpLastRspData=function(e){Q="string"==typeof e?JSON.parse(e):e}}(webim)}}]);